{"themeConfig":{"themeName":"gridea-theme-expert-next","postPageSize":12,"archivesPageSize":50,"siteName":"Useless Blogs","siteDescription":"ï¼Ÿ","footerInfo":"Powered by <a href=\"https://github.com/getgridea/gridea\" target=\"_blank\">Gridea</a>","showFeatureImage":true,"domain":"https://WRuperD.github.io","postUrlFormat":"SLUG","tagUrlFormat":"SHORT_ID","dateFormat":"YYYY-MM-DD","feedFullText":true,"feedCount":11,"archivesPath":"archives","postPath":"post","tagPath":"tag"},"posts":[{"abstract":"","content":"è¿Ÿæ—©ä¼šå†™çš„ã€‚ ","tags":[],"title":"NOIp ä¸è¯¥æ€ä¹ˆè€ƒ","feature":"","link":"https://WRuperD.github.io/post/noip-bu-gai-zen-me-kao/","stats":{"text":"1 min read","time":1000,"words":5,"minutes":1},"date":"2024-11-29 20:53:44","dateFormat":"2024-11-29"},{"abstract":"","content":"è†œæ‹œ yhm. A æœ€ç¥ç§˜çš„ä¸€é›†ã€‚è®²è®²æˆ‘çš„åƒåœ¾åšæ³•ã€‚ çœ‹åˆ° è¿˜é¢˜é¢å°±å‘Šè¯‰ä½ è¦ bitset,æ—¶é™è¿˜æ˜¯ä¸¤ç§’é’Ÿï¼Œå‡ºé¢˜äººç›´æ¥æ¼”éƒ½ä¸å¸¦æ¼”çš„ï¼Œè‚¯å®šæ˜¯è¦ä½ å»ç–¯ç‹‚çš„å¹³è¡¡ä¸€äº›ä¸œè¥¿ç„¶åå¥—ä¸Š bitset ä¼˜åŒ–ï¼ mâ‰¤200m \\leq 200mâ‰¤200 è¿™ä¸ªå°±ç›´æ¥å¯¹äºæ¯ä¸€ä½å»çœ‹å‰ç¼€å’Œå°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦ O(nm+mk)O(nm+mk)O(nm+mk)ã€‚ namespace subtask1{ int s[MAX]; void solve(){ for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= m; j++){ if(a[to(i, j)]) s[to(i, j)] = 1; if(i == 1) continue; s[to(i, j)] += s[to(i - 1, j)]; } } int k = read(); int X = read(), Y = read(), Z = read(); int l = 1, r = n; int A = 1, B = n; int ret = 0; while(k--){ int ans = 0; for(int i = 1; i &lt;= m; i++){ int cnt = s[to(r, i)] - s[to(l - 1, i)]; if(cnt == 0 or cnt == r - l + 1){ ans++; } } ret += ans; A = (A * X + ans * Y + Z) % n + 1; B = (B * Y + ans * Z + X) % n + 1; l = min(A, B), r = max(A, B); } write(ret), endl; } } nâ‰¤400n \\leq 400nâ‰¤400 è¿™ä¸ªä¹Ÿä¸éš¾ã€‚æœ‰ç”¨çš„è¯¢é—®åªæœ‰è‡³å¤š n2n^2n2 ä¸ªæ‰€ä»¥ kkk çœ‹ç€å¤§å®é™…å°ã€‚é‚£ä¹ˆä½ ç›´æ¥æä¸€ä¸ª O(n2mÏ‰)O({n^2m\\over \\omega})O(Ï‰n2mâ€‹) çš„ bitset ä¼˜åŒ–å°±æå®Œ namespace subtask2{ bitset &lt;100001&gt; bt[405]; bitset &lt;100001&gt; bt2[405]; int ans[405][405]; void solve(){ for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= m; j++){ bt[i][j] = a[to(i, j)]; bt2[i][j] = (a[to(i, j)] ^ 1); } } for(int i = 1; i &lt;= n; i++){ bitset &lt;100001&gt; now; for(int j = i; j &gt;= 1; j--){ now = now | bt[j]; ans[j][i] += (m - now.count()); } } for(int i = 1; i &lt;= n; i++){ bitset &lt;100001&gt; now; for(int j = i; j &gt;= 1; j--){ now = now | bt2[j]; ans[j][i] += (m - now.count()); } } int k = read(); int X = read(), Y = read(), Z = read(); int l = 1, r = n; int A = 1, B = n; int ret = 0; while(k--){ int Ans = ans[l][r]; ret += Ans; // write(l), put(), write(r), put(), write(Ans), endl; A = (A * X + Ans * Y + Z) % n + 1; B = (B * Y + Ans * Z + X) % n + 1; l = min(A, B), r = max(A, B); } write(ret), endl; } } n,mâ‰¤5000n,m \\leq 5000n,mâ‰¤5000 è¿™ä¸‹ n,mn,mn,m éƒ½ä¸å¤ªå¤§äº†ã€‚é‚£ä½ ç›´æ¥æä¸€ä¸ª st è¡¨å¥— bitset ä¼˜åŒ–ä¸€ä¸‹ã€‚æææï¼Œç›´æ¥å°±åšåˆ°äº† O(nlogâ¡nmÏ‰)O({n \\log n m \\over \\omega})O(Ï‰nlognmâ€‹) çš„å¤æ‚åº¦ã€‚åŒæ—¶è¿™æ—¶å€™ç©ºé—´ä¹Ÿä¸ä¼šè¶…ã€‚ namespace subtask3{ const int MAX2 = 5e3 + 10; bitset &lt;2505&gt; f[14][MAX2]; bitset &lt;2505&gt; f2[14][MAX2]; int lg2[MAX]; void solve(){ for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= m; j++){ f[0][i][j] = a[to(i, j)]; f2[0][i][j] = (a[to(i, j)] ^ 1); } } for(int i = 1; i &lt; 14; i++){ for(int j = 1; j + (1ll &lt;&lt; i) - 1 &lt;= n; j++){ f[i][j] = f[i - 1][j] | f[i - 1][j + (1ll &lt;&lt; (i - 1))]; } } for(int i = 1; i &lt; 14; i++){ for(int j = 1; j + (1ll &lt;&lt; i) - 1 &lt;= n; j++){ f2[i][j] = f2[i - 1][j] | f2[i - 1][j + (1ll &lt;&lt; (i - 1))]; } } for(int i = 2; i &lt;= n; i++){ lg2[i] = lg2[i &gt;&gt; 1] + 1; } int k = read(); int X = read(), Y = read(), Z = read(); int l = 1, r = n; int A = 1, B = n; int ret = 0; while(k--){ int Ans = 0; int len = (r - l + 1); len = lg2[len]; Ans += m - (f[len][l] | f[len][r - (1ll &lt;&lt; len) + 1]).count(); Ans += m - (f2[len][l] | f2[len][r - (1ll &lt;&lt; len) + 1]).count(); // int Ans = ans[l][r]; ret += Ans; A = (A * X + Ans * Y + Z) % n + 1; B = (B * Y + Ans * Z + X) % n + 1; l = min(A, B), r = max(A, B); } write(ret), endl; } } ç„¶åä½ å°±æˆåŠŸåœ¨ T1 ä¸Šé¢æµªè´¹äº† 1hã€‚ ","tags":[],"title":"Public NOIP Round #8 (Div. 1, æé«˜) é¢˜è§£","feature":"","link":"https://WRuperD.github.io/post/public-noip-round-8-div-1-ti-gao-ti-jie/","stats":{"text":"5 min read","time":270000,"words":805,"minutes":5},"date":"2024-11-23 14:36:41","dateFormat":"2024-11-23"},{"abstract":"","content":" ä¸€äº› CodeForces é¢˜ç›®çš„ç®€è¦é¢˜è§£ã€‚ CF1805D A Wide, Wide Graph *1900 æœ‰è¯ˆéª—é¢˜é‚£å‘³äº†ã€‚ä¸éš¾å‘ç°/è¯æ˜ä¸€ä¸ªç‚¹ä¸ä¸å…¶ä»–ç‚¹è”é€šå½“ä¸”ä»…å½“å®ƒæ²¡æœ‰å‡ºè¾¹ã€‚æ¢æ ¹ dp æ±‚å‡ºä»¥æ¯ä¸ªç‚¹ä¸ºæ ¹çš„æœ€å¤§æ·±åº¦å³å¯ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e5 + 10; vector &lt;int&gt; g[MAX]; int f[MAX], f3[MAX]; int f2[MAX]; void dfs(int u, int fa){ for(int v : g[u]){ if(v == fa) continue; dfs(v, u); if(f[v] + 1 &gt; f[u]){ f3[u] = f[u]; f[u] = f[v] + 1; }else{ f3[u] = max(f3[u], f[v] + 1); } } } void dfs2(int u, int fa, int premx){ f2[u] = max(f[u], premx); for(int v : g[u]){ if(v == fa) continue; if(f[v] + 1 == f[u]){ dfs2(v, u, max(premx + 1, f3[u] + 1)); }else{ dfs2(v, u, max(premx + 1, f[u] + 1)); } } } int ret[MAX]; void solve(){ int n = read(); for(int i = 1; i &lt; n; i++){ int u = read(), v = read(); g[u].pb(v), g[v].pb(u); } dfs(1, 1); f2[1] = f[1]; dfs2(1, 1, -inf); for(int i = 1; i &lt;= n; i++) ret[f2[i] + 1]++; int now = 1; for(int i = 1; i &lt;= n; i++){ now += ret[i]; now = min(now, n); write(now), put(); } endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF1819C The Fox and the Complete Tree Traversal *2400 ç®€å•é¢˜ã€‚é¦–å…ˆé“¾è‚¯å®šå¯ä»¥è§£å†³ï¼ˆé»‘ç™½æŸ“è‰²ï¼‰ï¼Œé€šè¿‡æ‰‹ç©æ»¡å¤šå‰æ ‘çš„æƒ…å†µä¸éš¾å‘ç° ä½ åœ¨é“¾ä¸Šé¢æŒ‚æ·±åº¦ â‰¥2\\geq 2â‰¥2 çš„å­æ ‘ä¸€å®šæ— è§£ã€‚å¦åˆ™ä¸€æ ·é»‘ç™½æŸ“è‰²å³å¯ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: The Fox and the Complete Tree Traversal // URL: https://www.luogu.com.cn/problem/CF1819C // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; vector &lt;int&gt; g[MAX]; int dis[MAX], pre[MAX]; void dfs(int u, int fa){ for(int v : g[u]){ if(v == fa) continue; dis[v] = dis[u] + 1; pre[v] = u; dfs(v, u); } } bool vis[MAX]; int cnt; int work(int u, int fa){ for(int v : g[u]) if(v != fa) return work(v, u) + 1; return 1; } vector &lt;int&gt; A, B; void solve(){ int n = read(); for(int i = 1; i &lt; n; i++){ int u = read(), v = read(); g[u].pb(v), g[v].pb(u); } dfs(1, 1); int rt = 0; for(int i = 1; i &lt;= n; i++) if(dis[i] &gt; dis[rt]) rt = i; dfs(rt, rt); int rt2 = 0; for(int i = 1; i &lt;= n; i++) if(dis[rt2] &lt; dis[i]) rt2 = i; int now = rt2; vector &lt;int&gt; g2; g2.pb(now); vis[now] = 1; while(now != rt){ now = pre[now]; g2.pb(now); vis[now] = 1; } for(int i = 1; i &lt;= n; i++){ if(!vis[i]) continue; cnt = 0; for(int v : g[i]){ if(!vis[v]) cnt = max(cnt, work(v, i)); } if(cnt &gt;= 2){ puts(&quot;No&quot;); exit(0); } } for(int i = 0; i &lt; g2.size(); i++){ int u = g2[i]; if(i % 2){ A.pb(u); for(int v : g[u]) if(!vis[v]) B.pb(v); }else{ B.pb(u); for(int v : g[u]) if(!vis[v]) A.pb(v); } } puts(&quot;Yes&quot;); reverse(B.begin(), B.end()); for(int i = 0; i &lt; A.size(); i++) write(A[i]), put(); for(int i = 0; i &lt; B.size(); i++) write(B[i]), put(); endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF2026E Best Subsequence *2500 è€ƒè™‘ç½‘ç»œæµï¼Œæ¯ä¸ª aia_iaiâ€‹ å‘ä»–çš„ 111 è¿›åˆ¶ä½è¿æ­£æ— ç©·çš„è¾¹ã€‚æºç‚¹å‘ aia_iaiâ€‹ è¿æµé‡ä¸º 1 çš„è¾¹ï¼Œè¿›åˆ¶ä½å‘æ±‡ç‚¹è¿æµé‡ä¸º 1 çš„è¾¹ã€‚ç„¶åå°±æ˜¯æœ€å°å‰²ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Best Subsequence // URL: https://www.luogu.com.cn/problem/CF2026E // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1010; int psz = 2; struct flow{ struct node{ int v, w, cp; }; vector &lt;node&gt; g[MAX]; int dis[MAX]; bool bfs(int s, int t){ for(int i = 1; i &lt;= psz; i++) dis[i] = inf; dis[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); for(auto V : g[u]){ if(V.w &gt; 0 and dis[V.v] &gt; dis[u] + 1){ dis[V.v] = dis[u] + 1; q.push(V.v); } } } if(dis[t] == inf) return 0; return 1; } int cur[MAX]; int aug(int u, int now, int t){ if(u == t) return now; int ans = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, w = g[u][i].w, cp = g[u][i].cp; if(dis[v] != dis[u] + 1) continue; int ret = aug(v, min(w, now), t); g[u][i].w -= ret, g[v][cp].w += ret; now -= ret, ans += ret; if(now &lt;= 0) break; } return ans; } void add_edge(int u, int v, int w){ g[u].pb(node{v, w, g[v].size()}); g[v].pb(node{u, 0, g[u].size() - 1}); } }; flow g; int id[MAX]; int a[MAX]; void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } psz = 2; int s = 1, t = 2; for(int i = 1; i &lt;= 60; i++){ id[i] = ++psz; g.add_edge(id[i], t, 1); } for(int i = 1; i &lt;= n; i++){ int now = ++psz; g.add_edge(s, now, 1); for(int j = 1; j &lt;= 60; j++){ if(a[i] &amp; (1ll &lt;&lt; (j - 1))){ g.add_edge(now, id[j], inf); } } } int ans = 0; while(g.bfs(s, t)){ for(int i = 1; i &lt;= psz; i++) g.cur[i] = 0; ans += g.aug(s, inf, t); } write(n - ans), endl; for(int i = 1; i &lt;= psz; i++) g.g[i].clear(); } signed main(){ int t = read(); while(t--) solve(); return 0; } CF1815D XOR Counting *2600 æœ‰ç‚¹è™šé«˜ã€‚ n,mn,mn,m å¤§çš„å“äººï¼Œè€Œä¸” mmm å±…ç„¶ä¸æ˜¯ âˆ‘mâ‰¤105\\sum m\\leq 10^5âˆ‘mâ‰¤105 äºæ˜¯æœæ–­æ‰“è¡¨ã€‚å‘ç° m&gt;3m&gt;3m&gt;3 çš„æƒ…å†µéƒ½ä¸€æ ·ï¼Œè€Œä¸”æ˜æ˜¾å¯ä»¥ O(1)O(1)O(1) ç®—å‡ºã€‚åªå‰©ä¸‹ m=2m=2m=2 çš„æƒ…å†µäº†ã€‚ è¿™éƒ¨åˆ†ä¸å¤ªå®¹æ˜“ã€‚å‘ç°å¦‚æœ nnn ä¸ºå¥‡æ•°é‚£ä¹ˆæœ€åä¸€ä½ä¸€å®šä¸º 1ã€‚å¯å‘äº†ä¸€ä¸ªåˆ†æ²»çš„ç®—æ³•ã€‚è®¾ fi,gif_i,g_ifiâ€‹,giâ€‹ è¡¨ç¤º n=in=in=i æ—¶å€™çš„ç­”æ¡ˆå’Œå€¼çš„æ–¹æ¡ˆæ•°ã€‚é‚£ä¹ˆè½¬ç§»æœ‰ï¼š fi=2fiâˆ’12+giâˆ’12,iâˆ¤2f_i = 2f_{i-1\\over 2} + g_{i-1\\over 2}, i \\nmid 2 fiâ€‹=2f2iâˆ’1â€‹â€‹+g2iâˆ’1â€‹â€‹,iâˆ¤2 fi=2fi2+2fi2âˆ’1,iâˆ£2f_i = 2f_{i\\over 2} + 2f_{i\\over 2-1}, i \\mid 2 fiâ€‹=2f2iâ€‹â€‹+2f2âˆ’1iâ€‹â€‹,iâˆ£2 ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: XOR Counting // URL: https://www.luogu.com.cn/problem/CF1815D // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int mod = 998244353; int quickPower(int a,int b,int p){int base=a,ans=1;while(b){if(b&amp;1)ans*=base,ans%=p;base*=base;base%=p;b&gt;&gt;=1;}return ans;} map &lt;int,int&gt; f, g; void dfs(int x){ if(f.count(x)) return ; if(x % 2){ dfs(x / 2); f[x] = (2 * f[x / 2] % mod + g[x / 2]) % mod, g[x] = g[x / 2]; }else{ dfs(x / 2);dfs(x / 2 - 1); f[x] = 2 * (f[x / 2] + f[x / 2 - 1]) % mod; g[x] = (g[x / 2] + g[x / 2 - 1]) % mod; } } void solve(){ int n = read(), m = read(); f[0] = 0, g[0] = 1; if(m == 1){ write(n % mod), endl; }else if(m &gt; 2){ if(n % 2){ write((1 + n) % mod * ((n + 1) % mod) % mod * quickPower(4, mod - 2, mod) % mod), endl; } else{ write((1 + n / 2 % mod) % mod * (n / 2 % mod) % mod), endl; } }else{ dfs(n); write(f[n]), endl; } } signed main(){ int t = read(); while(t--) solve(); return 0; } CF212D Cutting a Fence *2500 è€ƒè™‘ä¸€ä¸ªæ•°çš„è´¡çŒ®ã€‚ç„¶åå·®åˆ†å°±è¿‡äº†ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Cutting a Fence // URL: https://www.luogu.com.cn/problem/CF212D // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; int a[MAX]; int L[MAX], R[MAX]; int s[MAX], s2[MAX]; void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } stack &lt;pair &lt;int, int&gt; &gt; stc; stc.push(make_pair(-1, 0)); for(int i = 1; i &lt;= n; i++){ while(stc.top().first &gt; a[i]) stc.pop(); L[i] = stc.top().second; stc.push(make_pair(a[i], i)); } while(!stc.empty()) stc.pop(); stc.push(make_pair(-1, n + 1)); for(int i = n; i &gt;= 1; i--){ while(stc.top().first &gt;= a[i]) stc.pop(); R[i] = stc.top().second; stc.push(make_pair(a[i], i)); } for(int i = 1; i &lt;= n; i++){ int len = R[i] - L[i] - 1; int add = min(i - L[i], R[i] - i); // write(i), put(), write(len), put(), write(add), endl; s2[1] += a[i], s2[1 + add] -= a[i]; s2[len + 2] += a[i], s2[len + 2 - add] -= a[i]; } int now = 0; for(int i = 1; i &lt;= n; i++){ now += s2[i]; s2[i] = now; } now = 0; for(int i = 1; i &lt;= n; i++){ now += s2[i]; s2[i] = now; } int q = read(); while(q--){ int i = read(); printf(&quot;%.9lf\\n&quot;, double(s2[i]) / double(n - i + 1)); } } signed main(){ int t = 1; while(t--) solve(); return 0; } CF1889C2 Doremy's Drying Plan (Hard Version) *2600 è®¾ fi,jf_{i,j}fi,jâ€‹ è¡¨ç¤ºå‰ iii ä¸ªç‚¹é’¦å®šç‚¹ iii ä¸è¢«è¦†ç›–æœ€å¤§ç­”æ¡ˆã€‚åˆ™æœ‰ fi,j=maxâ¡fk,jâˆ’cst+1f_{i,j} = \\max f_{k,j-cst} + 1fi,jâ€‹=maxfk,jâˆ’cstâ€‹+1 å…¶ä¸­ cstcstcst ä¸ºåŒ…å« iii ä½†ä¸åŒ…å« kkk çš„æ–¹æ¡ˆæ•°ã€‚è€ƒè™‘ä¼˜åŒ–ï¼Œå‘ç° cstâ‰¤kcst \\leq kcstâ‰¤k æ‰€ä»¥æœ€å¤šåªæœ‰ k+1k+1k+1 æ®µè½¬ç§»ã€‚ä½¿ç”¨ st è¡¨ä»¥åšåˆ° nk2nk^2nk2ã€‚ä»£ç å®åœ¨æ˜¯ä¸æƒ³å†™äº†ï¼Œç ´é˜²äº†ã€‚ CF1685C Bring Balance *2600 æ„Ÿå—å‡ºæ¥äº†ã€‚é¦–å…ˆç›´è§‰å‘Šè¯‰æˆ‘ä»¬ç­”æ¡ˆä¸Šç•Œéå¸¸å°‘ã€‚ä¸éš¾å‘ç°ä¸Šç•Œä¸º 2ã€‚å…·ä½“çš„ï¼Œè®¾ iii ä¸ºå‰ç¼€å’Œæœ€å¤§çš„ç‚¹ï¼Œé‚£ä¹ˆåè½¬ [1,i],[i+1,2n][1,i],[i+1,2n][1,i],[i+1,2n] ä¸€å®šå¯è¡Œã€‚åªéœ€è¦çœ‹æ€ä¹ˆå¾—åˆ°ç­”æ¡ˆä¸º 1 çš„ã€‚å‘ç°åè½¬åºåˆ—ä¸€å®šè¦åŒ…å«æœ€å·¦è¾¹çš„å°äº 0 çš„å’Œæœ€å³è¾¹å°äº 0 çš„ã€‚é‚£ä¹ˆè´ªå¿ƒçš„é€‰å·¦è¾¹æœ€å¤§çš„å’Œå³è¾¹æœ€å¤§çš„åè½¬çœ‹çœ‹è¡Œä¸è¡Œã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Bring Balance // URL: https://www.luogu.com.cn/problem/CF1685C // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; char a[MAX]; int s[MAX]; void solve(){ int n = read(); bool fl = 0; for(int i = 1; i &lt;= 2 * n; i++){ a[i] = getchar(); while(a[i] != '(' and a[i] != ')') a[i] = getchar(); s[i] = s[i - 1] + ((a[i] == '(') ? 1 : -1); fl |= (s[i] &lt; 0); } if(!fl) { puts(&quot;0&quot;); return ; } int l = -1, r = -1; for(int i = 1; i &lt;= 2 * n; i++){ if(s[i] &lt; 0){ if(l == -1) l = i; r = i; } } int rl = 0; for(int i = 1; i &lt;= l; i++) if(s[i] &gt; s[rl]) rl = i; int rr = 2 * n; for(int i = 2 * n; i &gt;= r; i--) if(s[i] &gt; s[rr]) rr = i; l = rl + 1, r = rr; int mk = 0; for(int i = 1; i &lt;= 2 * n; i++) if(s[i] &gt;= s[mk]) mk = i; for(int i = 1; i &lt;= (r - l + 1) / 2; i++){ swap(a[l + i - 1], a[r - i + 1]); } fl = 0; for(int i = 1; i &lt;= 2 * n; i++){ s[i] = s[i - 1] + ((a[i] == '(') ? 1 : -1); fl |= (s[i] &lt; 0); } if(!fl){ puts(&quot;1&quot;); write(l), put(), write(r), endl; return ; } puts(&quot;2&quot;); write(1), put(), write(mk), endl; write(mk + 1), put(),write(2 * n), endl; } signed main(){ int t = read(); while(t--) solve(); return 0; } CF1893D Colorful Constructive *2600 æ„Ÿè§‰å¯¹ä¸Šè„‘ç”µæ³¢çš„éš¾åº¦æœ‰ç‚¹é«˜ã€‚è€ƒè™‘æŠŠæ¯ä¸ªæ¶å­åˆ’åˆ†æˆè‹¥å¹²ä¸ªé•¿åº¦ä¸º cic_iciâ€‹ çš„æ¶å­ã€‚æ¯ä¸ªæ–°æ¶å­è¦æ±‚æ‰€æœ‰å…ƒç´ ä¸åŒã€‚ä¸éš¾å‘ç°è¿™å’Œåˆæ³•æ–¹æ¡ˆå½¢æˆäº†åŒå°„ã€‚ç„¶åä½ å°±è´ªå¿ƒçš„å¡«å°±å¥½äº†ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Colorful Constructive // URL: https://www.luogu.com.cn/problem/CF1893D // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e5 + 10; int a[MAX], b[MAX], c[MAX]; vector &lt;int&gt; ans[MAX]; int cnt[MAX]; int vis[MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); cnt[i] = 0; } for(int i = 1; i &lt;= n; i++){ cnt[a[i]]++; } for(int i = 1; i &lt;= m; i++){ b[i] = read(); ans[i].clear(); } vector &lt;pair&lt;int,int&gt;&gt; A; for(int i = 1; i &lt;= m; i++){ c[i] = read(); for(int j = 1; j &lt;= b[i] / c[i]; j++) A.pb(make_pair(c[i], i)); if(b[i] % c[i]) A.pb(make_pair(b[i] % c[i], i)); } sort(A.begin(), A.end()); priority_queue &lt;pair&lt;int,int&gt;&gt; que; for(int i = 1; i &lt;= n; i++){ if(cnt[i]) que.push(make_pair(cnt[i], i)); } for(int i = A.size() - 1; i &gt;= 0; i--){ vector &lt;pair&lt;int,int&gt;&gt; got; int len = A[i].first; for(int j = 1; j &lt;= len; j++){ if(que.empty()){ puts(&quot;-1&quot;); return ; } auto u = que.top(); que.pop(); u.first--; ans[A[i].second].pb(u.second); if(u.first) got.pb(u); } for(auto u : got) que.push(u); } for(int T = 1; T &lt;= m; T++){ reverse(ans[T].begin(), ans[T].end()); for(int i = 0; i &lt; b[T] % c[T]; i++) vis[ans[T][i]] = i + 1, write(ans[T][i]), put(); for(int i = b[T] % c[T]; i &lt; b[T]; i += c[T]){ priority_queue &lt;pair&lt;int,int&gt;&gt; que; for(int j = i; j &lt;= i + c[T] - 1; j++){ if(vis[ans[T][j]]) que.push(make_pair(-vis[ans[T][j]], ans[T][j])); else que.push(make_pair(1, ans[T][j])); } for(int j = i - 1; j &gt;= max(0ll, i - 1 - c[T] + 1); j--){ vis[ans[T][j]] = 0; } for(int j = i; j &lt;= i + c[T] - 1; j++){ vis[que.top().second] = j + 1; write(que.top().second), put(); que.pop(); } } for(int j = b[T] - 1; j &gt;= max(0ll, b[T] - 1 - c[T] + 1); j--) vis[ans[T][j]] = 0; endl; } } //20 18 12 11 8 15 12 8 20 17 signed main(){ int t = read(); while(t--) solve(); return 0; } CF677D Vanya and Treasure *2300 ç›´æ¥è€ƒè™‘ i,i+1i,i+1i,i+1 çš„è´¡çŒ®ç„¶åæ‹†ç»å¯¹å€¼æ‰«æçº¿ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 705; int a[MAX][MAX]; int dis[MAX][MAX]; vector &lt; pair&lt;int,int&gt;&gt; col[MAX * MAX]; struct Seg{ int s[MAX &lt;&lt; 2], tag[MAX &lt;&lt; 2], tag2[MAX &lt;&lt; 2]; void pushup(int x){ s[x] = min(s[x &lt;&lt; 1], s[x &lt;&lt; 1 | 1]); } void pushdown(int x, int l, int r){ if(tag2[x]){ s[x &lt;&lt; 1] = s[x &lt;&lt; 1 | 1] = inf; tag[x &lt;&lt; 1] = tag[x &lt;&lt; 1 | 1] = 0; tag2[x &lt;&lt; 1] = tag2[x &lt;&lt; 1 | 1] = 1; tag2[x] = 0; } if(tag[x]){ s[x &lt;&lt; 1] += tag[x], s[x &lt;&lt; 1 | 1] += tag[x]; tag[x &lt;&lt; 1] += tag[x], tag[x &lt;&lt; 1 | 1] += tag[x]; tag[x] = 0; } } void upd(int l, int r, int pos, int val, int x){ if(l == r){ s[x] = val; tag[x] = tag2[x] = 0; return ; } int mid = (l + r) &gt;&gt; 1; pushdown(x, l, r); if(pos &lt;= mid) upd(l, mid, pos, val, x &lt;&lt; 1); else upd(mid + 1, r, pos, val, x &lt;&lt; 1 | 1); pushup(x); } void add(int val){ pushdown(1, 1, 1); s[1] += val; tag[1] += val; } void clear(){ s[1] = inf, tag[1] = 0; tag2[1] = 1; } int query(int l, int r, int dl, int dr, int x){ if(dl &lt;= l and r &lt;= dr) return s[x]; int mid = (l + r) &gt;&gt; 1, ans = inf; pushdown(x, l, r); if(dl &lt;= mid) ans = min(ans, query(l, mid, dl, dr, x &lt;&lt; 1)); if(dr &gt; mid) ans = min(ans, query(mid + 1, r, dl, dr, x &lt;&lt; 1 | 1)); pushup(x); return ans; } }; Seg seg1, seg2; void solve(){ int n = read(), m = read(), p = read(); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) a[i][j] = read(); for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= m; j++) dis[i][j] = inf; } for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) col[a[i][j]].pb(make_pair(i, j)); for(int i = 1; i &lt;= p; i++){ sort(col[i].begin(), col[i].end()); } for(auto u : col[1]){ dis[u.first][u.second] = u.first - 1 + u.second - 1; } for(int i = 2; i &lt;= p; i++){ int l = 0, r = 0; seg1.clear(), seg2.clear(); int lst = 0; while(r &lt; col[i].size()){ if(l == col[i - 1].size()){ auto u = col[i][r]; seg1.add(u.first - lst); seg2.add(u.first - lst); lst = u.first; int ans = inf; ans = min(ans, seg1.query(1, m, 1, u.second, 1) + u.second); ans = min(ans, seg2.query(1, m, u.second, m, 1) - u.second); dis[u.first][u.second] = ans; r++; }else{ auto u = col[i][r], v = col[i - 1][l]; if(u &lt; v){ seg1.add(u.first - lst); seg2.add(u.first - lst); lst = u.first; int ans = inf; ans = min(ans, seg1.query(1, m, 1, u.second, 1) + u.second); ans = min(ans, seg2.query(1, m, u.second, m, 1) - u.second); dis[u.first][u.second] = ans; r++; }else{ u = v; seg1.add(u.first - lst); seg2.add(u.first - lst); lst = u.first; seg1.upd(1, m, u.second, dis[u.first][u.second] - u.second, 1); seg2.upd(1, m, u.second, dis[u.first][u.second] + u.second, 1); l++; } } } r = col[i].size() - 1, l = col[i - 1].size() - 1; lst = n + 1; seg1.clear(), seg2.clear(); while(r &gt;= 0){ if(l &lt; 0){ auto u = col[i][r]; seg1.add(lst - u.first); seg2.add(lst - u.first); lst = u.first; int ans = inf; ans = min(ans, seg1.query(1, m, 1, u.second, 1) + u.second); ans = min(ans, seg2.query(1, m, u.second, m, 1) - u.second); dis[u.first][u.second] = min(dis[u.first][u.second], ans); r--; }else{ auto u = col[i][r], v = col[i - 1][l]; if(u &gt; v){ auto u = col[i][r]; seg1.add(lst - u.first); seg2.add(lst - u.first); lst = u.first; int ans = inf; ans = min(ans, seg1.query(1, m, 1, u.second, 1) + u.second); ans = min(ans, seg2.query(1, m, u.second, m, 1) - u.second); dis[u.first][u.second] = min(dis[u.first][u.second], ans); r--; }else{ u = v; seg1.add(lst - u.first); seg2.add(lst - u.first); lst = u.first; seg1.upd(1, m, u.second, dis[u.first][u.second] - u.second, 1); seg2.upd(1, m, u.second, dis[u.first][u.second] + u.second, 1); l--; } } } } int ans = inf; for(int i = 1; i &lt;= n; i++) { for(int j = 1; j &lt;= m; j++) { if(a[i][j] == p) ans = min(ans, dis[i][j]); } } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF2038G Guess One Character *1900 ä½†æ˜¯å¤§èªæ˜é¢˜ã€‚ é¦–å…ˆé—®ä¸€æ¬¡ 1ï¼Œå¦‚æœ 1 çš„ä¸ªæ•°æ˜¯ 0 æˆ–è€… nnn é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥æ–­å®šè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å…¨ 0/1 çš„ã€‚ å¦åˆ™å†é—®ä¸€æ¬¡ 11 çš„ä¸ªæ•°ã€‚ç”¨ 1 çš„ä¸ªæ•°å‡å» 11 çš„ä¸ªæ•°å³å¯å¾—åˆ° 1 è¿ç»­æ®µçš„ä¸ªæ•°ã€‚è¿™å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬å†é—® 01 å‡ºç°çš„æ¬¡æ•°ã€‚ä¸éš¾å‘ç°ï¼Œä¸€ä¸ªä»¥ 0 å¼€å¤´çš„å­—ç¬¦ä¸² 01 å’Œ 1 çš„è¿ç»­æ®µä¸ªæ•°ç›¸ç­‰ã€‚ä»¥ 1 å¼€å¤´çš„å­—ç¬¦ä¸² 01 æ¯” 1 çš„è¿ç»­æ®µä¸ªæ•°å°‘ä¸€ã€‚è‡³æ­¤æˆ‘ä»¬å¯ä»¥çŒœå‡ºå­—ç¬¦ä¸²å¼€å¤´çš„é‚£ä¸ªæ˜¯ä»€ä¹ˆã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: G. Guess One Character // URL: https://codeforces.com/contest/2038/problem/G // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back void solve(){ int n; cin &gt;&gt; n; cout &lt;&lt; &quot;1 1&quot; &lt;&lt; endl; int a; cin &gt;&gt; a; if(a == n){ cout &lt;&lt; &quot;0 1 1&quot; &lt;&lt; endl; int ans; cin &gt;&gt; ans; return ; } if(a == 0){ cout &lt;&lt; &quot;0 1 0&quot; &lt;&lt; endl; int ans; cin &gt;&gt; ans; return ; } cout &lt;&lt; &quot;1 11&quot; &lt;&lt; endl; int b; cin &gt;&gt; b; int c = a - b; cout &lt;&lt; &quot;1 01&quot; &lt;&lt; endl; int d; cin &gt;&gt; d; if(d == c){ cout &lt;&lt; &quot;0 1 0&quot; &lt;&lt; endl; int ans; cin &gt;&gt; ans; return ; } cout &lt;&lt; &quot;0 1 1&quot; &lt;&lt; endl; int ans; cin &gt;&gt; ans; return ; } signed main(){ int t = 1; cin &gt;&gt; t; while(t--) solve(); return 0; } CF1975F Set *2600 ç¥é¢˜ã€‚é¢˜è§£åé¢è¡¥ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Set // URL: https://www.luogu.com.cn/problem/CF1975F // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 21; int n; int f[MAX][(1ll &lt;&lt; MAX)]; vector &lt;int&gt; ans; void dfs(int s, int x){ if(x == n){ if(f[x][0] % 2) ans.pb(s); return ; } for(int i = 0; i &lt; (1ll &lt;&lt; (n - x - 1)); i++) f[x + 1][i] = f[x][i] &amp; f[x][i | (1ll &lt;&lt; (n - x - 1))]; dfs(s &lt;&lt; 1, x + 1); for(int i = 0; i &lt; (1ll &lt;&lt; (n - x - 1)); i++) f[x + 1][i] = f[x][i] &amp; (f[x][i | (1ll &lt;&lt; (n - x - 1))] &gt;&gt; 1); dfs(s &lt;&lt; 1 | 1, x + 1); } void solve(){ n = read(); f[0][0] = 1; for(int i = 1; i &lt; (1ll &lt;&lt; n); i++){ f[0][i] = read(); } dfs(0, 0); write(ans.size()), endl; for(int u : ans) write(u), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF1592F1/2 Alice and Recoloring 2 åˆ†åˆ«æ˜¯ *2600/*2800ã€‚ é¦–å…ˆä¸éš¾å‘ç°è´¹ç”¨ä¸º 1 è¿™ä¸ªæ“ä½œå¾ˆç‰›é€¼ã€‚ç›´æ¥è®©é€‰å·¦ä¸‹å’Œå³ä¸Šçš„æ“ä½œğŸ¤¡äº†ï¼Œå‹æ ¹æ²¡ç”¨ã€‚æ‰€ä»¥åªè€ƒè™‘æ“ä½œå³ä¸‹å’Œå·¦ä¸Šè§’ã€‚ç„¶åæ˜¯å¥—è·¯åœ°è½¬åŒ–ï¼ˆtmåˆæ²¡æƒ³åˆ°ï¼‰ä¸ºå·®åˆ†æ•°ç»„æ¥è€ƒè™‘ã€‚æ—¶å…‰å€’æµã€‚ä¸å¦¨ä»¤ ai,j=(ci+1,j+ci,j+1âˆ’ci+1,j+1)mod 2a_{i,j} = (c_{i+1,j} + c_{i,j+1} - c_{i + 1,j+1}) \\mod 2ai,jâ€‹=(ci+1,jâ€‹+ci,j+1â€‹âˆ’ci+1,j+1â€‹)mod2ã€‚é‚£ä¹ˆå…¨ aaa å…¨ 0 å½“ä¸”ä»…å½“ ccc ä¹Ÿå…¨ 0ã€‚ç„¶åå°±è½¬åŒ–ä¸ºé€‰å·¦ä¸Šçš„æ˜¯å•ç‚¹ä¿®æ”¹ï¼Œé€‰å³ä¸‹çš„æ˜¯ä¿®æ”¹ ci,j,cn,j,ci,m,cn,mc_{i,j}, c_{n,j}, c_{i,m}, c_{n,m}ci,jâ€‹,cn,jâ€‹,ci,mâ€‹,cn,mâ€‹. F1 ä»£ä»·ä¸º 3ã€‚é‚£ä¹ˆåªæ¯”ç›´æ¥è¿›è¡Œæ“ä½œ 1 ä¼˜ç§€ 1 çš„ä»£ä»·ã€‚æ‰€ä»¥æˆ‘ä»¬æœ€å¤šè¿›è¡Œ 1 æ¬¡å³ä¸‹ä½¿å¾— cn,m=0c_{n,m} = 0cn,mâ€‹=0 ç„¶åå°±ä¸ä¼˜äº†ã€‚ç›´æ¥åˆ¤æ–­å­˜ä¸å­˜åœ¨ ci,j,=cn,j=ci,m=cn,m=1c_{i,j},=c_{n,j}= c_{i,m}= c_{n,m}=1ci,jâ€‹,=cn,jâ€‹=ci,mâ€‹=cn,mâ€‹=1 å³å¯ã€‚è¿™æ—¶ ans=âˆ‘ci,jâˆ’1ans = \\sum c_{i,j} - 1ans=âˆ‘ci,jâ€‹âˆ’1 åä¹‹åˆ™ä¸º âˆ‘ci,j\\sum c_{i,j}âˆ‘ci,jâ€‹ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Alice and Recoloring 2 // URL: https://www.luogu.com.cn/problem/CF1592F2 // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 505 + 10; char a[MAX][MAX]; int b[MAX][MAX]; int c[MAX][MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) do{a[i][j] = getchar();}while(a[i][j] != 'W' and a[i][j] != 'B'); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) if(a[i][j] == 'B') b[i][j] = 1; int ans = 0; for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) c[i][j] = (b[i][j] + b[i + 1][j] + b[i][j + 1] + b[i + 1][j + 1]) % 2, ans += c[i][j]; for(int i = 1; i &lt; n; i++) for(int j = 1; j &lt; m; j++) if(c[i][j] and c[i][m] and c[n][j] and c[n][m]) write(ans - 1), endl, exit(0); write(ans), endl; return ; } signed main(){ int t = 1; while(t--) solve(); return 0; } F2 ä»£ä»·ä¸º 2 é‚£ä¹ˆä¼˜ç§€äº† 2 ä»£ä»·ã€‚æ„å‘³ç€å¯ä»¥å¿½ç•¥ cn,mc_{n,m}cn,mâ€‹ åªåœ¨ ci,j=cn,j=ci,m=1c_{i,j} = c_{n,j} = c_{i,m} = 1ci,jâ€‹=cn,jâ€‹=ci,mâ€‹=1 çš„æ—¶å€™æ“ä½œå°±æ›´ä¼˜ï¼ä¸éš¾æ³¨æ„åˆ°è¿™ç›¸å½“äºä¸€è¡Œä¸€åˆ—åªèƒ½æ“ä½œä¸€æ¬¡ã€‚ä¸éš¾å‘ç°è¿™æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾æœ€å¤§åŒ¹é…ã€‚å¯ä»¥åšåˆ°ä½ æƒ³åšåˆ°çš„å¤æ‚åº¦ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Alice and Recoloring 2 // URL: https://www.luogu.com.cn/problem/CF1592F2 // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e3 + 10; int psz = 2; struct flow{ struct node{ int v, w, cp; }; vector &lt;node&gt; g[MAX ]; int dis[MAX]; bool bfs(int s, int t){ for(int i = 1; i &lt;= psz; i++) dis[i] = mininf; dis[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); for(auto V : g[u]){ if(V.w &gt; 0 and dis[V.v] &gt; dis[u] + 1){ dis[V.v] = dis[u] + 1; q.push(V.v); } } } if(dis[t] == mininf) return 0; return 1; } int cur[MAX]; int aug(int u, int now, int t){ if(u == t) return now; int ans = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, w = g[u][i].w, cp = g[u][i].cp; if(dis[v] != dis[u] + 1) continue; int ret = aug(v, min(w, now), t); g[u][i].w -= ret, g[v][cp].w += ret; now -= ret, ans += ret; if(now &lt;= 0) break; } return ans; } void add_edge(int u, int v, int w){ g[u].pb(node{v, w, g[v].size()}); g[v].pb(node{u, 0, g[u].size() - 1}); } }; flow G; int id[MAX], id2[MAX]; char a[MAX][MAX]; int b[MAX][MAX]; int c[MAX][MAX]; void solve(){ int n = read(), m = read(); int s = 1, t = 2; for(int i = 1; i &lt; n; i++) id[i] = ++psz; for(int i = 1; i &lt; m; i++) id2[i] = ++psz; for(int i = 1; i &lt; n; i++) G.add_edge(s, id[i], 1); for(int i = 1; i &lt; m; i++) G.add_edge(id2[i], t, 1); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) do{a[i][j] = getchar();}while(a[i][j] != 'W' and a[i][j] != 'B'); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) if(a[i][j] == 'B') b[i][j] = 1; for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) c[i][j] = (b[i][j] + b[i + 1][j] + b[i][j + 1] + b[i + 1][j + 1]) % 2; for(int i = 1; i &lt; n; i++) for(int j = 1; j &lt; m; j++) if(c[i][j] and c[n][j] and c[i][m]) G.add_edge(id[i], id2[j], 1); int ans = 0; while(G.bfs(s, t)){for(int i = 1; i &lt;= psz; i++){G.cur[i] = 0;}ans -= G.aug(s, inf, t);} c[n][m] ^= (-ans % 2); for(int i = 1; i &lt;= n; i++) for(int j = 1; j &lt;= m; j++) ans += c[i][j]; write(ans), endl; return ; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF1572C Paint *2700 æ—¶å…‰å€’æµç­”æ¡ˆåŠ ä¸€è½¬ä¸º P4170 [CQOI2007] æ¶‚è‰²ã€‚é¢˜ç›®æ¡ä»¶éå¸¸ç‰¹æ®Šã€‚æ‰“è¡¨è§‚æµ‹è½¬ç§»ç‚¹éå¸¸å¯ç–‘ï¼ŒçŒœæµ‹ä¸€å®šæ˜¯å’Œå¼€å¤´é¢œè‰²ç›¸åŒæˆ–è€…ä¸ç»“å°¾é¢œè‰²ç›¸åŒçš„æ‰ä¼˜ç§€ã€‚è¿‡äº†ã€‚ã€‚ã€‚ã€‚ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Paint // URL: https://www.luogu.com.cn/problem/CF1572C // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; #define int long long inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 3003; const int inf = 1e18; int f[MAX][MAX]; int a[MAX]; int cnt[MAX]; int nxt[MAX], lst[MAX]; void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); cnt[i] = 0; } for(int i = 1; i &lt;= n; i++){ lst[i] = cnt[a[i]]; cnt[a[i]] = i; } for(int i = 1; i &lt;= n; i++) cnt[i] = n + 1; for(int i = n; i &gt;= 1; i--){ nxt[i] = cnt[a[i]]; cnt[a[i]] = i; } for(int i = 1; i &lt;= n; i++) for(int j = i; j &lt;= n; j++) f[i][j] = inf; for(int i = 1; i &lt;= n; i++){ f[i][i] = 1; } for(int len = 2; len &lt;= n; len++){ for(int i = 1; i + len - 1 &lt;= n; i++){ int j = i + len - 1; if(a[i] == a[j]){ f[i][j] = min(f[i+1][j], f[i][j-1]); }else{ for(int k = i; k &lt;= j; k = nxt[k]){ f[i][j] = min(f[i][j], f[i][k] + f[k+1][j]); } for(int k = j; k &gt;= i; k = lst[k]){ f[i][j] = min(f[i][j], f[i][k] + f[k+1][j]); } } } } write(f[1][n] - 1), endl; } signed main(){ int t = read(); while(t--) solve(); return 0; } CF1572D Bridge Club è€ƒç ”ç›´è§‰çš„é¢˜ç›®ã€‚å¯æƒœæˆ‘æ²¡æœ‰ã€‚ é¦–å…ˆè¿™è‚¯å®šæ˜¯åªèƒ½äºŒåˆ†å›¾æœ€å¤§åŒ¹é…äº†ã€‚å…³é”®åœ¨äºå¦‚ä½•ä¼˜åŒ–ï¼Ÿ æ‰€ä»¥è‚¯å®šæ˜¯åªèƒ½ä¼˜åŒ–å»ºå›¾äº†ã€‚è€ƒè™‘ä¿ç•™æœ€å¤§çš„ä¸€äº›è¾¹ï¼Œä½¿å¾—ä¸€å®šèƒ½æ‰¾å‡ºä¸€ç»„å¤§å°ä¸º kkk çš„åŒ¹é…å³å¯ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Bridge Club // URL: https://www.luogu.com.cn/problem/CF1572D // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX2 = 12e5 + 10; const int MAX = 4e4 + 10; int psz = 2; struct min_max_flow{ int cur[MAX], dis[MAX]; int vis[MAX]; struct Edge{ int v, w, c, cp; }; vector &lt;Edge&gt; g[MAX]; void add_edge(int u, int v, int w, int c){ Edge e1 = Edge{v, w, c, g[v].size()}; Edge e2 = Edge{u, 0, -c, g[u].size()}; g[u].push_back(e1); g[v].push_back(e2); } bool bfs(int s, int t) { queue&lt;int&gt; q; for(int i = 0; i &lt;= psz; i++){ dis[i] = inf; } memset(vis, 0, sizeof(vis)); vis[s] = true; dis[s] = 0; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); vis[u] = false; int l = g[u].size(); for(int i = 0; i &lt; l; i++) { int v = g[u][i].v, r = g[u][i].w, c = g[u][i].c; if(r and dis[u] + c &lt; dis[v]){ dis[v] = dis[u] + c; if(!vis[v]){ vis[v] = true; q.push(v); } } } } return dis[t] != inf; } int aug(int u, int l, int &amp;cost, int t){ if(u == t) return l; vis[u] = true; int f = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, r = g[u][i].w, c = g[u][i].c; if(dis[v] != dis[u] + c or !r or vis[v]) continue; int d = aug(v, min(r, l), cost, t); g[u][i].w -= d; g[v][g[u][i].cp].w += d; f += d, l -= d; cost += d*c; if(!l) break; } vis[u] = false; return f; } }; min_max_flow G; unsigned id[MAX2]; unsigned a[MAX2]; void solve(){ int n = read(), k = read(); int s = 1, t = 2; int t3 = ++psz; for(int i = 0; i &lt; (1ll &lt;&lt; n); i++){ a[i] = read(); } priority_queue &lt; pair&lt;signed, pair&lt;signed,signed&gt;&gt; &gt; que; for(int i = 0; i &lt; (1ll &lt;&lt; n); i++){ if(__builtin_popcount(i) % 2) continue; for(int j = 0; j &lt; n; j++){ int u = i, v = (i ^ (1ll &lt;&lt; j)); que.push(make_pair(a[i] + a[i ^ (1ll &lt;&lt; j)], make_pair(u, v))); } } for(int i = 1; i &lt;= k * (2 * n - 1); i++){ if(que.empty()) break; auto u = que.top(); que.pop(); if(!id[u.second.first]) id[u.second.first] = ++psz; if(!id[u.second.second]) id[u.second.second] = ++psz; int l = id[u.second.first], r = id[u.second.second]; G.add_edge(l, r, 1, (long long)(-u.first)); } for(int i = 0; i &lt; (1ll &lt;&lt; n); i++){ if(id[i]){ if(__builtin_popcount(i) % 2){ G.add_edge(id[i], t3, 1, 0); }else{ G.add_edge(s, id[i], 1, 0); } } } G.add_edge(t3, t, k, 0); int ans = 0, cost = 0; while(G.bfs(s, t)){ for(int i = 1; i &lt;= psz; i++) G.cur[i] = 0; ans += G.aug(s, inf, cost, t); } write(-cost), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } CF1103C Johnny Solving *2700 å¤è€ç®€å•å¥—è·¯é¢˜ã€‚ å¥—è·¯åœ°ï¼Œæ‹å‡ºè¿™ä¸ªå›¾çš„ä¸€é¢—ç”Ÿæˆæ ‘ï¼Œå¦‚æœè¿™é¢—ç”Ÿæˆæ ‘çš„ç›´å¾„ â‰¥nk\\geq {n \\over k}â‰¥knâ€‹ é‚£ä¹ˆå°±ç›´æ¥åšå®Œäº†ã€‚å¦åˆ™è®©æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹è¿™æ£µæ ‘çš„æ€§è´¨ã€‚ç”±äºä¿è¯æ‰€ä»¥èŠ‚ç‚¹åº¦æ•°å¤§äºç­‰äºä¸‰æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å»ç ”ç©¶åº¦æ•°ä¸ºä¸€çš„å¶å­ç»“ç‚¹çš„æ€§è´¨ã€‚ç›´è§‰ä¸Šï¼Œæ ‘é«˜å°ï¼Œå¶å­èŠ‚ç‚¹ä¸ªæ•°æ¯”è¾ƒå¤šã€‚ä¸å¦¨è®¾æœ‰ xxx ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåŸºäºè¿™æ£µæ ‘ç›´å¾„åˆ™ nkx&gt;n{n\\over k}x &gt; nknâ€‹x&gt;n æ‰€ä»¥ x&gt;kx &gt; kx&gt;k è¿™ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬åªéœ€è¦åœ¨è¿™äº›ä¸ªå¶å­ä¸Šé¢æ‰¾ç¯ã€‚å¶å­èŠ‚ç‚¹ä¸¤ä¸ªç¥–å…ˆï¼Œæ€ä¹ˆæ‰¾éƒ½èƒ½æ‰¾åˆ°ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Johnny Solving // URL: https://www.luogu.com.cn/problem/CF1103C // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 3e5 + 10; vector &lt;int&gt; g[MAX]; vector &lt;int&gt; g2[MAX]; int dep[MAX]; int dis[MAX], pre[MAX]; int Fa[MAX]; vector &lt;int&gt; lf; void dfs(int u, int fa){ dep[u] = dep[fa] + 1; Fa[u] = fa; int cnt = 0; for(int v : g[u]){ if(v == fa) continue; if(dep[v]) continue; cnt++; dfs(v, u); g2[u].pb(v), g2[v].pb(u); } if(!cnt){ lf.pb(u); } } void dfs2(int u, int fa){ dis[u] = dis[fa] + 1; pre[u] = fa; int cnt = 0; for(int v : g2[u]){ if(v == fa) continue; dfs2(v, u); } } void solve(){ int n = read(), m = read(), k = read(); for(int i = 1; i &lt;= m; i++){ int u = read(), v = read(); g[u].pb(v), g[v].pb(u); } dfs(1, 1); int mk = 0; for(int i = 1; i &lt;= n; i++) if(dep[i] &gt; dep[mk]) mk = i; dfs2(mk, mk); int mk2 = 0; for(int i = 1; i &lt;= n; i++) if(dis[i] &gt; dis[mk2]) mk2 = i; // write(mk2), put(), write(mk), endl; if(dis[mk2] &gt;= (n + k - 1) / k){ puts(&quot;PATH&quot;); vector &lt;int&gt; ans; while(mk2 != mk){ ans.pb(mk2); mk2 = pre[mk2]; } ans.pb(mk); write(ans.size()), endl; for(int u : ans) write(u), put(); endl; return ; } puts(&quot;CYCLES&quot;); int cnt = 0; for(int u : lf){ bool fl = 0; for(int v : g[u]){ if(v == Fa[u]){ continue; } if((dep[u] - dep[v] + 1) % 3){ fl = 1; write(dep[u] - dep[v] + 1), endl; int now = u; while(now != v){ write(now), put(); now = Fa[now]; } write(v), endl; break; } } if(fl){ cnt++; if(cnt == k) break; continue; } for(int v : g[u]){ if(v == Fa[u]) continue; for(int v2 : g[u]){ if(v2 == Fa[u] or v2 == v) continue; if(dep[v] &lt; dep[v2]) swap(v,v2); write(dep[v] - dep[v2] + 2), endl; while(v != v2){ write(v), put(); v = Fa[v]; } write(v), put(), write(u), endl; break; } break; } cnt++; if(cnt == k) break; } } signed main(){ int t = 1; while(t--) solve(); return 0; } CF607C Marbles *2500 duel é¢˜ï¼Œå¯¹é¢è²Œä¼¼æ˜¯ SS æ•™ç»ƒï¼Œææ€–ã€‚ ä½†æ˜¯è¿™é¢˜çœŸçš„æœ‰å¤Ÿåƒåœ¾çš„ã€‚é¦–å…ˆç»“å°¾è¦æ˜¯ç›¸åé‚£åŒ…ä¸è¡Œçš„ã€‚å…¶ä»–çš„æƒ…å†µæ‰‹ç©äº†ä¸€ä¸‹ï¼Œæ„Ÿå—äº†ä¸€ä¸‹ï¼Œè²Œä¼¼ä¹Ÿåªæœ‰æœ«å°¾æ˜¯å›æ–‡ç›¸ç­‰çš„ä¸è¡Œã€‚äº¤äº†ä¸€å‘å‘ç°è¿‡äº†ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: Marbles // URL: https://www.luogu.com.cn/problem/CF607C // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; const int mod = 998244353; int a[MAX], b[MAX]; int pre[MAX]; int hsh[10]; int hsh2[10]; int base[10]; int base2[10]; void solve(){ int n = read(); for(int i = 1; i &lt; n; i++){ char ch = getchar(); while(ch != 'N' and ch != 'S' and ch != 'E' and ch != 'W') ch = getchar(); if(ch == 'E') a[i] = 0; else if(ch == 'S') a[i] = 1; else if(ch == 'N') a[i] = 2; else a[i] = 3; } for(int i = 1; i &lt; n; i++){ char ch = getchar(); while(ch != 'N' and ch != 'S' and ch != 'E' and ch != 'W') ch = getchar(); if(ch == 'E') b[i] = 0; else if(ch == 'S') b[i] = 1; else if(ch == 'N') b[i] = 2; else b[i] = 3; } for(int i = 1; i &lt; n; i++){ b[i] = 3 - b[i]; } mt19937 Rnd(time(0)); for(int i = 0; i &lt; 10; i++){ base[i] = Rnd(); } base[0] = 131, base[2] = 13331; for(int i = 0; i &lt; 10; i++){ base2[i] = 1; } for(int i = n - 1; i &gt;= 1; i--){ for(int j = 0; j &lt; 10; j++) hsh[j] = (hsh[j] * base[j] + a[i]) % mod; for(int j = 0; j &lt; 10; j++){ hsh2[j] = (hsh2[j] + b[i] * base2[j]) % mod; base2[j] = base2[j] * base[j] % mod; } bool ans = 1; for(int j = 0; j &lt; 10; j++) ans = (ans &amp; (hsh[j] == hsh2[j])); if(ans) puts(&quot;NO&quot;), exit(0); } puts(&quot;YES&quot;); } signed main(){ int t = 1; while(t--) solve(); return 0; } NOIp2024 Rp++.æ‰€ä»¥ä¸Šé¢è¿™é“é¢˜å¯èƒ½æ˜¯æˆ‘è¿˜åœ¨è®¤çœŸå­¦çš„æ—¶å€™æœ€åä¸€é¢˜äº†ï¼Œå“ˆå“ˆã€‚ ","tags":[],"title":"In Rainbows","feature":"https://WRuperD.github.io/post-images/in-rainbows.jpeg","link":"https://WRuperD.github.io/post/in-rainbows/","stats":{"text":"52 min read","time":3078000,"words":8860,"minutes":52},"date":"2024-11-12 21:38:35","dateFormat":"2024-11-12"},{"abstract":"","content":"é¢˜è§£ P10743 [SEERC2020] AND = OR æä¾›ä¸€ç§å¥½å†™çš„ O(nlogâ¡nlogâ¡V)O(n \\log n \\log V)O(nlognlogV) çš„åšæ³•ã€‚ å…ˆè€ƒè™‘å¦‚ä½•å¯¹äºç»™å®šçš„ l,rl,rl,r åœ¨ O(nlogâ¡n)O(n\\log n)O(nlogn) çš„å¤æ‚åº¦å•æ¬¡æ±‚è§£ã€‚ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡ä¸€å®šæ˜¯å–å€¼åŸŸä¸Šè¿ç»­çš„ä¸€æ®µå‰ç¼€çš„ ORâ¡\\operatorname{OR}OR å’Œè¿ç»­çš„ä¸€æ®µåç¼€çš„ ANDâ¡\\operatorname{AND}ANDã€‚æ’åºä¹‹åå°±è¡Œäº†ã€‚ ç±»ä¼¼äº P8421 çš„åšæ³•ï¼Œä¸éš¾æ³¨æ„åˆ°å‰ç¼€ ORâ¡\\operatorname{OR}OR å’Œåç¼€ ANDâ¡\\operatorname{AND}AND çš„å˜åŒ–é‡æ˜¯ logâ¡V\\log VlogV çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‹å‡ºé‚£äº›æœ‰ç”¨çš„å€¼å³å¯ã€‚å…·ä½“çš„ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ logâ¡V\\log VlogV ä¸ª ststst è¡¨ç»´æŠ¤åŒºé—´æœ€å¤§çš„äºŒè¿›åˆ¶ä¸‹ç¬¬ iii ä½ä¸º 0 çš„æ•°å€¼å’Œå®ƒçš„ä½ç½®/åŒºé—´æœ€å°çš„äºŒè¿›åˆ¶ä¸‹ç¬¬ iii ä½ä¸º 1 çš„æ•°å€¼å’Œå®ƒçš„ä½ç½®ã€‚ä¸éš¾å‘ç°å¯¹äºä¸€ä¸ªå€¼å®ƒæœ€å¤šåªä¼šæœ‰ä¸¤ä¸ªè¢«åŠ å…¥å¯èƒ½æœ‰è´¡çŒ®çš„æ•°ç»„ã€‚æ‰€ä»¥å¯èƒ½æœ‰è´¡çŒ®çš„æ•°å°±è¿˜æ˜¯ logâ¡V\\log VlogV çº§åˆ«çš„ã€‚é€šè¿‡é¢„å¤„ç†å¯ä»¥çŸ¥é“åŒºé—´å†…æ˜¯å¦æœ‰ â‰¥2\\geq 2â‰¥2 ä¸ªé‚£ä¸ªå€¼ã€‚ æœ€åæˆ‘ä»¬ç›´æ¥å¯¹ç€å¯èƒ½çš„å€¼åšæš´åŠ›ã€‚ æ€»çš„å¤æ‚åº¦å°±æ˜¯ O(nlogâ¡nlogâ¡V+qlogâ¡Vlogâ¡V)O(n \\log n \\log V + q \\log V \\log V)O(nlognlogV+qlogVlogV)ã€‚å®è·µè¯æ˜ç“¶é¢ˆåœ¨å‰åŠéƒ¨åˆ†ã€‚ è‡³æ­¤æˆ‘ä»¬åœ¨åŸæ•°æ®èŒƒå›´ä¸‹é€šè¿‡ã€‚ ","tags":[],"title":"2024-11-08-solution-p10743","feature":"","link":"https://WRuperD.github.io/post/2024-11-08-solution-p10743/","stats":{"text":"2 min read","time":87000,"words":361,"minutes":2},"date":"2024-11-08 18:53:36","dateFormat":"2024-11-08"},{"abstract":"","content":"å·¨å¤§ç®€å•é¢˜ã€‚çœ‹å®Œæ ·ä¾‹å°±ä¼šåšäº†å§ã€‚ é¦–å…ˆè€ƒè™‘å¦‚æœæƒå€¼æœ€å¤§çš„è¾¹å’Œæƒå€¼æ¬¡å¤§çš„è¾¹çš„å’Œå¤§äº ddd é‚£ä¹ˆä¸€å®šæ— è§£ã€‚ï¼ˆåŸå› æ˜¯æ ‘æ˜¯è”é€šçš„æ‰€ä»¥ç›´å¾„ä¸€å®šè‡³å°‘æ˜¯è¿™ä¸ªå€¼ã€‚ï¼‰ ä¸å¦¨è®¾æœ€å¤§æƒå€¼ä¸º wwwï¼Œæ¬¡å¤§çš„ä¸º wâ€²w&#x27;wâ€²ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨ç›´æ¥æŠŠä»–ä»¬æŒ‚åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šã€‚è€ƒè™‘å¦‚æœæˆ‘ä»¬é’¦å®šè¿™ä¸ªç›´å¾„åŒ…æ‹¬äº†è¾¹æƒæœ€å¤§çš„é‚£æ¡è¾¹çš„è¯ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæˆ‘ä»¬è¿˜æœ‰åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šé¢æŒ‚ä¸€æ¡é•¿åº¦ä¸º dâˆ’wd-wdâˆ’w çš„é“¾ã€‚åªè¦èƒ½å‡‘å‡ºæ¥å°±ä¸€å®šè¡Œã€‚åŸå› ï¼šæˆ‘ä»¬æŠŠé™¤äº†è¿™æ¡é“¾ä¸Šçš„è¾¹å…¨éƒ¨ä¹ŸæŒ‚åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šï¼Œé‚£ä¹ˆé¦–å…ˆæœ‰ dâˆ’wâ‰¥wâ€²d-w \\geq w&#x27;dâˆ’wâ‰¥wâ€² æ‰€ä»¥æˆ‘ä»¬ä¸€å®šæ˜¯ä¼šå–è¿™æ¡é“¾å’Œæœ€å¤§æƒå€¼è¾¹ä½œä¸ºæˆ‘ä»¬çš„ç›´å¾„çš„ã€‚æ¥ç€è€ƒè™‘æƒå€¼æœ€å¤§çš„è¾¹ä¸ä½œä¸ºç›´å¾„ä¸Šçš„è¾¹ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»è¦æŒ‚ä¸¤æ¡æƒå€¼å’Œå¤§äº www çš„é“¾ã€‚åŒç†åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¹Ÿä¼šç›´æ¥é€‰æ‹©è¿™ä¸¤æ¡é“¾ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¹è¿™ä¸¤éƒ¨è·‘åŠ¨æ€è§„åˆ’è§£å†³å°±å¯ä»¥äº†ã€‚ä½¿ç”¨ bitset ä»¥åšåˆ° O(d3Ï‰)O({d^3\\over \\omega})O(Ï‰d3â€‹)ã€‚ // Problem: Construct Tree // URL: https://www.luogu.com.cn/problem/CF1917F // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e3 + 10; int a[MAX]; bool f[MAX]; bitset &lt;MAX&gt; f2[MAX]; void solve(){ int n = read(), d = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } sort(a + 1, a + n + 1); if(a[n] + a[n - 1] &gt; d){ puts(&quot;NO&quot;); return ; } d -= a[n]; for(int i = 0; i &lt; MAX; i++) f[i] = 0; for(int i = 0; i &lt; MAX; i++) for(int j = 0; j &lt; MAX; j++) f2[i][j] = 0; f[0] = 1; for(int i = 1; i &lt; n; i++){ for(int j = d; j &gt;= a[i]; j--){ f[j] |= f[j - a[i]]; } } f2[0][0] = 1; for(int i = 1; i &lt; n; i++){ for(int j = d + a[n]; j &gt;= 0; j--){ bitset &lt;MAX&gt; ans = f2[j]; if(j &gt;= a[i]) ans |= f2[j - a[i]]; ans |= f2[j] &lt;&lt; a[i]; f2[j] = ans; } } if(f[d]){ puts(&quot;Yes&quot;); }else{ for(int i = a[n]; i &lt;= d; i++){ int j = d + a[n] - i; if(j &lt; a[n]) continue; if(f2[i][j]){ puts(&quot;Yes&quot;); return ; } } puts(&quot;No&quot;); } } signed main(){ int t = read(); while(t--) solve(); return 0; } ","tags":[],"title":"2024-11-06-solution-cf1917e","feature":"","link":"https://WRuperD.github.io/post/2024-11-06-solution-cf1917e/","stats":{"text":"4 min read","time":198000,"words":663,"minutes":4},"date":"2024-11-06 21:25:44","dateFormat":"2024-11-06"},{"abstract":"","content":"ä¸€çœ¼é¢˜ã€‚ ç”±äºæ˜¯å†’æ³¡æ’åºï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯èƒ½æ¯”è¾ƒè‡ªç„¶çš„è”æƒ³åˆ°æ’åã€‚è€ƒè™‘æ¯ä¸€è½®æ¯ä¸ªæ•°éƒ½ä¼šåƒæœ€ç»ˆçš„ä½ç½®é è¿‘ä¸€æ ¼ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ maxâ¡iâˆ’ranki\\max i-rank_imaxiâˆ’rankiâ€‹ã€‚ç›´æ¥æƒå€¼çº¿æ®µæ ‘éšä¾¿ç»´æŠ¤ç»´æŠ¤å°±è¡Œäº†å§ã€‚ // Problem: P9596 [JOI Open 2018] å†’æ³¡æ’åº 2 // URL: https://www.luogu.com.cn/problem/P9596 // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e5 + 10; set &lt;int&gt; st[MAX * 2]; int s[MAX * 10], tag[MAX * 10], s2[MAX * 10]; int ls[MAX * 10], rs[MAX * 10]; int lsh[MAX * 2]; void pushdown(int x, int l, int r){ if(!tag[x]) return ; if(ls[x] and s2[ls[x]]) s[ls[x]] -= tag[x], s2[ls[x]] += tag[x], tag[ls[x]] += tag[x]; if(rs[x] and s2[rs[x]]) s[rs[x]] -= tag[x], s2[rs[x]] += tag[x], tag[rs[x]] += tag[x]; tag[x] = 0; } int psz; void add(int l, int r, int pos, int val, int val2, int &amp;x){ if(!x) x = ++psz; tag[x] = 0; if(l == r){ s[x] = val - val2; s2[x] = val2; return ; } int mid = (l + r) &gt;&gt; 1; if(pos &lt;= mid) add(l, mid, pos, val, val2, ls[x]); else add(mid + 1, r, pos, val, val2, rs[x]); s[x] = max(s[ls[x]], s[rs[x]]); s2[x] = max(s2[ls[x]], s2[rs[x]]); } void add2(int l, int r, int dl, int dr, int val, int &amp;x){ if(dl &gt; dr) return ; if(!x or !s2[x]) return ; if(dl &lt;= l and r &lt;= dr){ s[x] -= val; s2[x] += val; tag[x] += val; return ; } pushdown(x, l, r); int mid = (l + r) &gt;&gt; 1; if(dl &lt;= mid) add2(l, mid, dl, dr, val, ls[x]); if(dr &gt; mid) add2(mid + 1, r, dl, dr, val, rs[x]); s[x] = max(s[ls[x]], s[rs[x]]); s2[x] = max(s2[ls[x]], s2[rs[x]]); } int getrk(int l, int r, int pos, int x){ if(!x or !s2[x]) return 0; if(l == r) return s2[x]; if(r &lt;= pos) return s2[x]; pushdown(x, l, r); int mid = (l + r) &gt;&gt; 1, ans = 0; if(pos &gt; mid) ans = max(s2[ls[x]], getrk(mid + 1, r, pos, rs[x])); else ans = getrk(l, mid, pos, ls[x]); return ans; } void del(int l, int r, int pos, int val, int &amp;x){ if(l == r){ s[x] = 0; s2[x]--; st[l].erase(val); if(st[l].begin() == st[l].end()){ s2[x] = 0; return ; } auto u2 = st[l].end(); u2--; s[x] = *u2 - s2[x]; return ; } int mid = (l + r) &gt;&gt; 1; pushdown(x, l, r); if(pos &lt;= mid) del(l, mid, pos, val, ls[x]); else del(mid + 1, r, pos, val, rs[x]); s[x] = max(s[ls[x]], s[rs[x]]); s2[x] = max(s2[ls[x]], s2[rs[x]]); return ; } void upd(int l, int r, int pos, int val, int newrk, int &amp;x){ if(!x) x = ++psz; if(l == r){ s[x] = 0; st[l].insert(val); s2[x] = newrk; auto u2 = st[l].end(); u2--; s[x] = *u2 - s2[x]; return ; } int mid = (l + r) &gt;&gt; 1; pushdown(x, l, r); if(pos &lt;= mid) upd(l, mid, pos, val, newrk, ls[x]); else upd(mid + 1, r, pos, val, newrk, rs[x]); s[x] = max(s[ls[x]], s[rs[x]]); s2[x] = max(s2[ls[x]], s2[rs[x]]); return ; } int a[MAX]; pair &lt;int, int&gt; b[MAX]; struct qry{ int x, y; }; qry q2[MAX]; void solve(){ int n = read(), q = read(); int mm; for(int i = 1; i &lt;= n; i++){ a[i] = read(); lsh[++mm] = a[i]; // st[a[i]].insert(i); b[i].first = a[i], b[i].second = i; } sort(b + 1, b + n + 1); b[n + 1].first = inf; int rt = 0; // write(s[rt]), endl; for(int i = 1; i &lt;= q; i++){ q2[i].x = read(), q2[i].y = read(); lsh[++mm] = q2[i].y; } sort(lsh + 1, lsh + mm + 1); int m = unique(lsh + 1, lsh + mm + 1) - lsh - 1; for(int i = 1; i &lt;= n; i++){ a[i] = lower_bound(lsh + 1, lsh + m + 1, a[i]) - lsh; st[a[i]].insert(i); } for(int i = 1; i &lt;= n; i++){ if(b[i].first != b[i + 1].first){ add(1, m, lower_bound(lsh + 1, lsh + m + 1, b[i].first) - lsh, b[i].second, i, rt); } } int lim = m; for(int i = 1; i &lt;= q; i++){ int x = q2[i].x + 1, y = q2[i].y; y = lower_bound(lsh + 1, lsh + m + 1, y) - lsh; del(1, lim, a[x], x, rt); add2(1, lim, a[x] + 1, lim, -1, rt); // write(s[rt]), put(); int rk1 = getrk(1, lim, y, rt) + 1; // write(rk1), put(); a[x] = y; upd(1, lim, a[x], x, rk1, rt); add2 (1, lim, a[x] + 1, lim, 1, rt); write(s[rt]), endl; } } signed main(){ // freopen(&quot;sort.in&quot;, &quot;r&quot;, stdin); // freopen(&quot;sort.out&quot;, &quot;w&quot;, stdout); int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-11-05-solution-p9596","feature":"","link":"https://WRuperD.github.io/post/2024-11-05-solution-p9596/","stats":{"text":"7 min read","time":370000,"words":1023,"minutes":7},"date":"2024-11-05 14:59:03","dateFormat":"2024-11-05"},{"abstract":"","content":"ä¸€äº›æœ‰è¶£çš„ç½‘ç«™æ±‡æ€» https://youquhome.com/page/3/ ä¸‹é¢æ˜¯ä¸€äº›æˆ‘ä¸¾å¾—æœ‰æ„æ€çš„ https://frequency2156.com/ https://www.lazyfly.me/ ","tags":[],"title":"2024-11-01-é²œèŠ±","feature":"","link":"https://WRuperD.github.io/post/2024-11-01-xian-hua/","stats":{"text":"1 min read","time":8000,"words":33,"minutes":1},"date":"2024-11-01 21:09:27","dateFormat":"2024-11-01"},{"abstract":"","content":"P7070 [NWRRC2014] Kebab House é¢˜è§£ æ¨¡æ‹Ÿèµ›é¢˜ï¼Œå°æ¸…æ–°å§ã€‚ è¿™é‡Œæ˜¯ä¸€ä»½ O(nq2)O(n q^2)O(nq2) çš„åƒåœ¾é¢˜è§£ã€‚ é¦–å…ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¾ fi,j,kf_{i,j,k}fi,j,kâ€‹ è¡¨ç¤ºå‰ iii åˆ†é’Ÿå­¦äº† jjj åˆ†é’Ÿä¸Šä¸€æ¬¡æ‘¸é±¼æ˜¯åœ¨ kkk åˆ†é’Ÿå‰ã€‚ç›´æ¥æ‘åšæ˜¯ O(nq2t)O(n q^2 t)O(nq2t) çš„ã€‚ ä¸éš¾æ³¨æ„åˆ°å…¶å® j&gt;iâˆ’(it)j &gt; i - (i \\over t)t)j&gt;iâˆ’(iâ€‹ æ‰€ä»¥å¤æ‚åº¦ç›´æ¥å°±å¯¹äº†ï¼ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: P7070 [NWRRC2014] Kebab House // URL: https://www.luogu.com.cn/problem/P7070 // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; // #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e3 + 10; const int MAX2 = 305; int f[2][MAX2][205]; int g[MAX2]; int mod; inline int Mod(int x){ if(x &gt;= mod) return x - mod; return x; } void solve(){ // int n = 2000, t = 200; int n = read(), t = read(); mod = 1e9 + 7; f[0][0][t + 1] = 1; if(t == 0){ while(n--){ int x = read(), y = read(); for(int i = 1; i &lt;= x; i++){ for(int j = 0; j &lt;= i; j++){ for(int k = 1; k &lt;= t + 1; k++){ f[i &amp; 1][j][k] = 0; } } for(int j = 0; j &lt;= i; j++){ for(int k = 1; k &lt;= t + 1; k++){ if(j) f[i &amp; 1][j][k] = Mod(f[i &amp; 1 ^ 1][j - 1][k] + f[i &amp; 1 ^ 1][j][k]); else f[i &amp; 1][j][k] = f[i &amp; 1 ^ 1][j][k]; } } } for(int i = 1; i &lt;= t + 1; i++) g[i] = 0; for(int j = y; j &lt;= x; j++){ for(int k = 1; k &lt;= t + 1; k++){ g[k] = Mod(g[k] + f[x &amp; 1][j][k]); } } for(int j = 0; j &lt;= x; j++) for(int k = 1; k &lt;= t + 1; k++) f[0][j][k] = f[1][j][k] = 0; // write(f[x % 2][x][t + 1]), endl; for(int i = 1; i &lt;= t + 1; i++) f[0][0][i] = g[i]; // for(int i = 1; i &lt;= t + 1; i++) write(g[i]), put(); // endl; // for(int i = 1; i &lt;= ) } int ans = 0; // write(f[0][0]) for(int i = 1; i &lt;= t + 1; i++){ ans = Mod(ans + f[0][0][i]); } write(ans), endl; return ; } while(n--){ // int x = 300, y = 300; int x = read(), y = read(); for(int i = 1; i &lt;= x; i++){ for(int j = max(0, (i - 2) - (i - 2) / max(1, t) - 1); j &lt;= i; j++){ for(int k = 1; k &lt;= t + 1; k++){ f[i &amp; 1][j][k] = 0; } } for(int j = max(0, i - i / max(1, t) - 1); j &lt;= i; j++){ for(int k = 1; k &lt;= t + 1; k++){ if(k == 1){ f[i &amp; 1][j][k] = f[i &amp; 1 ^ 1][j][t + 1]; }else{ if(k == t + 1){ if(j) f[i &amp; 1][j][k] = Mod(f[i &amp; 1 ^ 1][j - 1][k] + f[i &amp; 1 ^ 1][j - 1][k - 1]); else f[i &amp; 1][j][k] = 0; }else{ if(j) f[i &amp; 1][j][k] = f[i &amp; 1 ^ 1][j - 1][k - 1]; else f[i &amp; 1][j][k] = 0; } } } } } for(int i = 1; i &lt;= t + 1; i++) g[i] = 0; for(int j = max(y, x - x / max(1, t) - 1); j &lt;= x; j++){ for(int k = 1; k &lt;= t + 1; k++){ g[k] = Mod(g[k] + f[x &amp; 1][j][k]); } } for(int j = max(0, x - 2 - (x - 2) / max(1, t) - 1); j &lt;= x; j++) for(int k = 1; k &lt;= t + 1; k++) f[0][j][k] = f[1][j][k] = 0; // write(f[x % 2][x][t + 1]), endl; for(int i = 1; i &lt;= t + 1; i++) f[0][0][i] = g[i]; // for(int i = 1; i &lt;= t + 1; i++) write(g[i]), put(); // endl; // for(int i = 1; i &lt;= ) } int ans = 0; // write(f[0][0]) for(int i = 1; i &lt;= t + 1; i++){ ans = Mod(ans + f[0][0][i]); } write(ans ), endl; } signed main(){ // freopen(&quot;homework.in&quot;, &quot;r&quot;, stdin); // freopen(&quot;homework.out&quot;, &quot;w&quot;, stdout); int t = 1; while(t--) solve(); return 0; } ","tags":[],"title":"2024-10-31-solution-p7070","feature":"","link":"https://WRuperD.github.io/post/2024-10-31-solution-/","stats":{"text":"6 min read","time":316000,"words":879,"minutes":6},"date":"2024-10-31 15:52:56","dateFormat":"2024-10-31"},{"abstract":"","content":"ucup åšé¢˜è®°å½•ã€‚ The 3rd Universal Cup. Stage 15: Chengdu A. Arrow a Row ç®€å•æ„é€ ï¼Œåƒäº†ç½šæ—¶ï¼Œè°¢ç½ªï¼ ç»“å°¾å¿…é¡»æ˜¯è‡³å°‘è¿ç»­ä¸‰ä¸ªä»¥ä¸Šçš„ &gt;,ä¸ç„¶æ— è§£ã€‚ç„¶åä»å³å¾€å·¦ä¾æ¬¡å¡«å³å¯ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) void solve(){ string s; cin &gt;&gt; s; int n = s.length(); s = &quot; &quot; + s; if(s[1] == '-' or s[n] == '-'){ puts(&quot;No&quot;); return ; } int cnt = 0; int mk = n + 1; for(int i = n; i &gt;= 1; i--){ if(s[i] == '-'){ if(cnt) { mk = i; break; } continue; } else{ cnt++; } } if(cnt == n or cnt &lt;= 2){ puts(&quot;No&quot;); return ; } int mk2 = 0; for(int i = 1; i &lt;= mk; i++){ if(s[i] == '&gt;'){ mk2 = i; break; } } if(!mk2){ puts(&quot;No&quot;); return ; } vector &lt;pair&lt;int,int&gt;&gt; ans; int mk3 = 0; for(int i = n - 2; i &gt;= mk; i--){ if(s[i] == '&gt;' and s[i + 1] == '&gt;' and s[i + 2] == '&gt;'){ ans.pb(make_pair(mk2, i + 2)); mk3 = i + 2; } } for(int i = mk2 + 1; i &lt;= mk; i++){ if(s[i] == '&gt;') ans.pb(make_pair(i, mk3)); } cout &lt;&lt; &quot;Yes &quot;; write(ans.size()), endl; for(int i = 0; i &lt; ans.size(); i++){ write(ans[i].first), put(), write(ans[i].second - ans[i].first + 1), endl; } return ; } signed main(){ int t = read(); while(t--) solve(); return 0; } B. Athlete Welcome Ceremony The 3rd Universal Cup. Stage 16: Nanjing Also named as: GDFTSï¼ˆæ ¡å†…é€‰æ‹”èµ›ï¼‰ã€‚æ•™ç»ƒè¯´æˆ‘æ ¡æœ‰ä¸‰ä¸ªé˜Ÿçš„ Ec Final æ‰“æ˜Ÿåé¢ã€‚ç¬¬ä¸€æ¬¡æ‰“çº¿ä¸‹ XCPC å°±æ˜¯ Finalã€‚ç‰›å¤§äº†ã€‚ä½†æ˜¯æˆ‘æ€ä¹ˆè¿™åœºä¼š 0 é“é¢˜ã€‚ç»™é˜Ÿå‹ç£•å¤´è°¢ç½ªäº†ï¼ A. Hey, Have You Seen My Kangaroo? åªèƒ½è¯´ä¸æ„§æ˜¯è¢‹é¼ é¢˜äº†ã€‚æˆ‘ä¸ªäººå¿ƒç›®ä¸­è¿™åœºæœ€å¥½çš„é¢˜ç›®ã€‚ é¦–å…ˆæ˜¯åˆå¹¶æ¬¡æ•°ä¸€å®šå°äº nmnmnmã€‚ è€ƒè™‘åˆ†ç±»è®¨è®ºï¼Œå…ˆè€ƒè™‘æ•´ kkk è½®åçš„æƒ…å†µã€‚æš´åŠ›æšä¸¾æ¯ä¸€ä¸ªè¢‹é¼  kkk æ¬¡æ“ä½œåä¼šåœ¨å“ªé‡Œï¼Œå½¢æˆä¸€é¢—å¤–å‘åŸºç¯æ ‘ã€‚æ‰€ä»¥ç¬¬ iii ä¸ªä½ç½®ä¸Šçš„è¢‹é¼ åªä¼šå­˜åœ¨æ ‘é«˜æ•´è½®ã€‚åŸºç¯ä¸Šçš„å°±ä¼šä¸€ç›´å­˜åœ¨ã€‚ä¸å¦¨è®¾ç¬¬ iii ä¸ªè¢‹é¼ æ‰€ä»£è¡¨çš„æ ‘é«˜ä¸º hih_ihiâ€‹ã€‚ä¸å¦¨è®¾ä¸€ç›´å­˜åœ¨çš„è¢‹é¼ æ ‘é«˜ä¸ºæ­£æ— ç©·ã€‚ ç„¶åä½ è€ƒè™‘æ¨¡æ‹Ÿå‰ kkk è½®æ“ä½œï¼Œå‘ç°å¯¹äºæ¯ä¸€æ¬¡æœ‰ä¸¤ä¸ªä½ç½®åˆå¹¶ï¼Œè¿™æ¬¡åˆå¹¶æ“ä½œä¸€å®šåªä¼šåœ¨ min(hu,hv)min(h_u,h_v)min(huâ€‹,hvâ€‹) k æ•´è½®ä¸­å‡ºç°ã€‚åˆå¹¶åçš„ hhh å–æ›´å¤§çš„å€¼ã€‚ æš´åŠ›è®°å½•ä¸‹è¿™äº›æœ‰è´¡çŒ®çš„æ—¶é—´ï¼ˆæ³¨æ„æ€»æ•°ä¸è¶…è¿‡ nmnmnm)ã€‚ç„¶åå°±å¯ä»¥çŸ¥é“æ‰€ä»¥çš„ç­”æ¡ˆäº†ï¼ ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; int n, m, k; char a[MAX]; int b[MAX]; int g[MAX], h[MAX], deg[MAX]; int ret[MAX]; int to(int x, int y){ return (x - 1) * m + y; } pair &lt;int,int&gt; to2(int x){ return make_pair((x - 1) / m + 1, (x - 1) % m + 1); } bool chk(int x, int y){ if(x &lt;= 0 or y &lt;= 0 or x &gt; n or y &gt; m or !b[to(x,y)]) return false; return true; } inline int nxt(int x, int y){ pair &lt;int,int&gt; now = to2(x); if(a[y] == 'U'){ now.first--; } if(a[y] == 'D'){ now.first++; } if(a[y] == 'L'){ now.second--; } if(a[y] == 'R'){ now.second++; } if(chk(now.first, now.second)){ return to(now.first, now.second); } return x; } int p[MAX]; void solve(){ n = read(), m = read(), k = read(); for(int i = 1; i &lt;= k; i++){ cin &gt;&gt; a[i]; } for(int i = 1; i &lt;= n * m; i++){ char ch; cin &gt;&gt; ch; b[i] = ch - '0'; } for(int i = 1; i &lt;= n * m; i++){ if(!b[i]) continue; int now = i; for(int j = 1; j &lt;= k; j++){ now = nxt(now, j); } g[i] = now; deg[now]++; // write(to2(i).first), put(), write(to2(i).second), putchar('-'), putchar('&gt;'); // write(to2(now).first), put(), write(to2(now).second), endl; } queue &lt;int&gt; que; for(int i = 1; i &lt;= n * m; i++) if(!deg[i] and b[i]) que.push(i); while(!que.empty()){ int u = que.front(); que.pop(); deg[g[u]]--; h[u]++; h[g[u]] = max(h[g[u]], h[u]); if(!deg[g[u]]) que.push(g[u]); } for(int i = 1; i &lt;= n * m; i++){ if(deg[i]){ h[i] = inf; } } vector &lt;int&gt; ans; vector &lt;pair&lt;int,int&gt;&gt; now; for(int i = 1; i &lt;= n * m; i++) if(b[i]) now.pb(make_pair(i,i)); for(int i = 1; i &lt;= k; i++){ for(auto u : now){ u.first = nxt(u.first, i); if(p[u.first]){ int D = min(h[u.second], h[p[u.first]]); if(D == inf) { // write(i), put(); // endl; // puts(&quot;wtf?&quot;); continue; } for(int j = 1; j &lt;= D; j++){ ans.pb((j - 1) * k + i); } if(h[u.second] &gt; h[p[u.first]]){ p[u.first] = u.second; } }else{ p[u.first] = u.second; } } now.clear(); for(int j = 1; j &lt;= n * m; j++){ if(p[j]){ now.pb(make_pair(j, p[j])); } p[j] = 0; } } sort(ans.begin(), ans.end()); int now2 = 0; for(int i = 1; i &lt;= n * m; i++) if(b[i]) now2++; for(int i = 0; i &lt;= n * m; i++) ret[i] = inf; ret[now2] = 0; for(int i = 0; i &lt; ans.size(); i++){ int mk = i; for(int j = i + 1; j &lt; ans.size(); j++){ if(ans[j] != ans[i]) break; mk = j; } now2 -= (mk - i + 1); ret[now2] = ans[i]; i = mk; } for(int i = 1; i &lt;= n * m; i++){ ret[i] = min(ret[i], ret[i - 1]); } for(int i = 1; i &lt;= n * m; i++){ if(ret[i] == inf) puts(&quot;-1&quot;); else write(ret[i]), endl; } } signed main(){ int t = 1; while(t--) solve(); return 0; } æˆ‘è§‰å¾—è€ƒè™‘æ•´ $k$ è½®æ“ä½œè¿™ä¸€ç‚¹å®åœ¨æ˜¯å¤ªé…·äº†ã€‚æƒ³ä¸åˆ°å•Šï¼ B. Birthday Gift åšäº†ä¸€ä¸ªå°æ—¶çº¢æ¸©äº†ã€‚ç„¶å dieselhuang ä¸€çœ¼ç§’äº†ã€‚ç£•å¤´ã€‚ åè½¬å¶æ•°ä½ç½®çš„ 0/1ï¼Œå‘ç°å˜æˆäº†æ¶ˆé™¤ç›¸é‚»çš„ä¸€å¯¹ä¸ä¸€æ ·çš„ã€‚ç„¶åå°±æ˜¯ä¸€å®šèƒ½åˆ åˆ°åªå‰©ä¸€ç§æ•°äº†ï¼æ‰€ä»¥åªè·Ÿæ•°é‡æœ‰å…³! ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; // int f[MAX][3][2]; void solve(){ string s; cin &gt;&gt; s; int n = s.length(); s = &quot; &quot; + s; int cnt = 0, cnt2 = 0, cnt3 = 0; for(int i = 1; i &lt;= n; i++){ if(i % 2){ if(s[i] == '0') cnt++; else if(s[i] == '1') cnt2++; else cnt3++; }else{ if(s[i] == '1') cnt++; else if(s[i] == '0') cnt2++; else cnt3++; } } // write(cnt), put(), write(cnt2), put(), write(cnt3), endl; int chk = abs(cnt - cnt2); if(chk &gt;= cnt3){ write(chk - cnt3), endl; }else{ cnt3 -= chk; if(cnt3 % 2) puts(&quot;1&quot;); else puts(&quot;0&quot;); } } signed main(){ int t = read(); while(t--) solve(); return 0; } C. Topology æˆ‘ä¸å–œæ¬¢ä¼šåšè¿™ç§é¢˜ç›®ã€‚ ä»¥ä¸‹è²Œä¼¼æ˜¯åœ¨å¤è¯»å®˜æ–¹é¢˜è§£ã€‚ è®¾ fi,jf_{i,j}fi,jâ€‹ è¡¨ç¤ºä¸è€ƒè™‘ iii å­æ ‘å†…æ‹“æ‰‘åºçš„æƒ…å†µä¸‹ iii åœ¨ç¬¬ jjj ä½çš„æ–¹æ¡ˆæ•°ã€‚ä¸€ä¸ªç»å…¸ç»“è®ºå°±æ˜¯ä¸€é¢—æ ‘çš„æ‹“æ‰‘åºä¸ªæ•°ä¸º n!âˆi=1nsizin! \\over \\prod \\limits_{i=1}^{n}siz_ii=1âˆnâ€‹siziâ€‹n!â€‹ã€‚æ‰€ä»¥æ±‚å‡º fff å³å¯å¾—åˆ°ç­”æ¡ˆã€‚ çŠ¶æ€æ•°æ­£ç¡®ã€‚è€ƒè™‘å¦‚ä½•è½¬ç§»ï¼Ÿ è¿™é‡Œæ˜¯ä» ffa,xâ†’fu,yf_{fa,x} \\to f_{u,y}ffa,xâ€‹â†’fu,yâ€‹ çš„è½¬ç§»ã€‚ æœ‰ä¸¤ä¸ªç³»æ•°ã€‚ä¸€éƒ¨åˆ†æ˜¯ä½ è¦å»é’¦å®š uuu å­æ ‘å†…çš„èŠ‚ç‚¹åœ¨æ‹“æ‰‘åºå†…çš„ä½ç½®ã€‚è¿™éƒ¨åˆ†ç³»æ•°ä¸º (nâˆ’ysizuâˆ’1)n-y \\choose siz_u - 1(sizuâ€‹âˆ’1nâˆ’yâ€‹)ã€‚å¦å¤–ä¸€éƒ¨åˆ†æ˜¯é’¦å®š fafafa å­æ ‘ä¸­ä¸åœ¨ uuu å­æ ‘ä¸­çš„ç‚¹çš„æ‹“æ‰‘åºæ•°é‡ï¼ˆå¯ä»¥ç”¨æ˜¯ä¸Šé¢çš„å…¬å¼ç®—ï¼‰ã€‚ ç„¶åå°±æ˜¯ä¸€ä¸ªå‰ç¼€å’Œçš„å½¢å¼ã€‚ æ—¶é—´å¤æ‚åº¦ O(n2)O(n^2)O(n2)ã€‚ E. Left Shifting 3 ç­¾åˆ°é¢˜ã€‚ æœ€å¤šå·¦ç§» 7 æ¬¡ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; char s[MAX]; void solve(){ int n = read(), k = read(); for(int i = 1; i &lt;= n; i++) cin &gt;&gt; s[i]; int ans = 0; for(int i = 1; i &lt;= n - 6; i++){ if(s[i] == 'n' and s[i + 1] == 'a' and s[i + 2] == 'n' and s[i + 3] == 'j' and s[i + 4] == 'i' and s[i + 5] == 'n' and s[i + 6] == 'g'){ ans++; } } for(int j = 1; j &lt;= min(k, 7ll); j++){ for(int i = 1; i &lt; n; i++){ swap(s[i], s[i + 1]); } int cnt = 0; for(int i = 1; i &lt;= n - 6; i++){ if(s[i] == 'n' and s[i + 1] == 'a' and s[i + 2] == 'n' and s[i + 3] == 'j' and s[i + 4] == 'i' and s[i + 5] == 'n' and s[i + 6] == 'g'){ cnt++; } } ans = max(ans, cnt); } write(ans), endl; } signed main(){ int t = read(); while(t--) solve(); return 0; } G. Binary Tree ç®€å•é¢˜ã€‚è†œæ‹œ yinhee é¦–æ€ã€‚ æ‹å‡ºæ ‘çš„ä¸­å¿ƒã€‚å¦‚æœåº¦æ•°ä¸º 0 æˆ– 1 é‚£ä¹ˆç›´æ¥é—®å§ã€‚å¦åˆ™é—®å¤§å°æœ€å¤§çš„ä¸¤é¢—å­æ ‘çš„æ ¹ã€‚ä¸éš¾å‘ç°é—®é¢˜è‡³å°‘ä¼šè¢«ç¼©å°è‡³ n2n\\over 22nâ€‹ è§£å†³ã€‚ I. Bingo ä¸ä¼šä¸€ç‚¹ poly. ä½†æ˜¯å¯ä»¥å½’çº¦åˆ°ç»™ä½  nâ‹…mn \\cdot mnâ‹…m çš„æ–¹æ ¼é€‰ kkk ä¸ªæ ¼å­æ¶‚é»‘è¦æ±‚æ¯è¡Œæ¯åˆ—å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªé»‘æ ¼å­çš„æ–¹æ¡ˆæ•°ã€‚éœ€è¦çŸ¥é“ kâ‰¤200000k \\leq 200000kâ‰¤200000 çš„æ‰€æœ‰å€¼ã€‚ J. Social Media ç®€å•è®¨è®ºä¸€ä¸‹å°±è¡Œäº†ã€‚ K. Strips ç›´æ¥è´ªå¿ƒç„¶åè°ƒæ•´ä¸€ä¸‹ã€‚ ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":"A Moon Shaped Pool","feature":"https://WRuperD.github.io/post-images/a-moon-shaped-pool.jpg","link":"https://WRuperD.github.io/post/a-moon-shaped-pool/","stats":{"text":"13 min read","time":754000,"words":2350,"minutes":13},"date":"2024-10-30 15:58:53","dateFormat":"2024-10-30"},{"abstract":"","content":"CF2003E1 Turtle and Inversions (Easy Version) é¢˜è§£ Tester é¢˜è§£ã€‚ä¸€ä¸ªå†·çŸ¥è¯†æ˜¯è¿™dao'tiå¦‚æœæˆ‘æ²¡æœ‰è®°é”™çš„è¯è¿™é“é¢˜åŸæœ¬æ˜¯åœ¨ D çš„ä½ç½®çš„ã€‚ä¸æ˜¯å¾ˆæ‡‚ä¸ºå•¥èµ›æ—¶è¿™ä¹ˆå°‘äººè¿‡å•Šã€‚æˆ‘å¾ˆå¿«å°±èƒ¡å‡ºæ¥äº†å•Šã€‚ æ™šäº›æ—¶å€™å†å†™ï¼ ","tags":[],"title":"2024-10-30-solution-cf2003e1","feature":"","link":"https://WRuperD.github.io/post/2024-10-30-solution-cf2003e1/","stats":{"text":"1 min read","time":15000,"words":70,"minutes":1},"date":"2024-10-30 11:51:11","dateFormat":"2024-10-30"},{"abstract":"","content":"CF1305F Kuroni and the Punishment é¢˜è§£ è¿™ä¸ªåœ¨çœ‹åˆ°æ ‡ç­¾æœ‰éšæœºåŒ–åç¡®å®æ˜¯ä¸€çœ¼å§ã€‚ é¦–å…ˆç­”æ¡ˆè‚¯å®šæœ‰ä¸€ä¸ªä¸Šè¡—å°±æ˜¯å¥‡æ•°ä¸ªæ•° â‰¤n\\leq nâ‰¤nã€‚è¿™ä¹Ÿå°±æ„å‘³ç€è‡³å°‘æœ‰ â‰¤n2\\leq n\\over 22â‰¤nâ€‹ ä¸ªæ•°åªè¢«æ“ä½œäº† â‰¤2\\leq 2â‰¤2 æ¬¡ã€‚äºæ˜¯æˆ‘ä»¬éšæœºé€‰ä¸€ä¸ªæ•°ä»–è¢«æ“ä½œäº† 1 æˆ– 0 æ¬¡çš„æ¦‚ç‡å°±æ˜¯ 121\\over 221â€‹ã€‚è®¾æˆ‘ä»¬éšæœº BBB ä¸ªæ•°æ‰¾ä»–ä»¬çš„è´¨å› æ•°ã€‚é‚£ä¹ˆé”™è¯¯æ¦‚ç‡å°±æ˜¯ 12B1\\over 2^B2B1â€‹ã€‚ // Problem: Kuroni and the Punishment // URL: https://www.luogu.com.cn/problem/CF1305F // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; int a[MAX]; std::mt19937 Rnd(114514); map &lt;int, int&gt; mp; vector &lt;int&gt; b; void solve(){ int n = read(); int ans = 0; for(int i = 1; i &lt;= n; i++){ a[i] = read(); ans += a[i] % 2; // if(a[i] != 1 and n &gt; 10) { // write(a[i]), put(); // endl; // } } int now = a[1]; for(int i = 2; i &lt;= n; i++){ now = __gcd(now, a[i]); } if(now != 1){ puts(&quot;0&quot;); return ; } int t = 40; while(t--){ int x2 = Rnd() % n + 1; // write(x2), endl; for(int k = a[x2] - 1; k &lt;= a[x2] + 1; k++){ int x = k; for(int i = 2; i * i &lt;= x; i++){ if(x % i) continue; while(x % i == 0) x /= i; if(mp.count(i)) continue; mp[i] = 1; b.pb(i); } if(x &gt;= 2){ if(mp.count(x)) continue; mp[x] = 1; b.pb(x); } } } for(int u : b){ int cnt = 0; for(int i = 1; i &lt;= n; i++){ if(a[i] &lt;= u){ cnt += u - a[i]; }else{ cnt += min(a[i] % u, u - (a[i] % u)); } } // write(1); ans = min(ans, cnt); } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-30-solution-cf1305f","feature":"","link":"https://WRuperD.github.io/post/2024-10-30-solution-cf1305f/","stats":{"text":"3 min read","time":157000,"words":466,"minutes":3},"date":"2024-10-30 11:26:14","dateFormat":"2024-10-30"},{"abstract":"","content":"CF1027F Session in BSU é¢˜è§£ duel é¢˜ï¼Œå±…ç„¶è¾“äº† /tuuã€‚ è¿™ä¸ªå°±æ˜¯ä½ è€ƒè™‘å¯ä»¥åˆç†è½¬æ¢ æ¯æ¬¡åªèƒ½å¡« aiâˆ’1+1a_{i-1}+1aiâˆ’1â€‹+1 æˆ–è€… 000 ç„¶åç»™å®š a1a_1a1â€‹ã€‚ç„¶åå°±æ˜¯ä½ æ— è„‘ dp ç»´æŠ¤æ„é€ çš„è½¬ç§»ç‚¹ã€‚è¿™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(nn)O(n\\sqrt n)O(nnâ€‹)ã€‚ç„¶åæ„é€ å°±æ˜¯å‰é¢ç‰¹æ®Šçš„ç›´æ¥ç¾å‰§å’Œåé¢ç¨å¾®æ‹¼ä¸€ä¸‹ã€‚ // Problem: Modular Sequence // URL: https://www.luogu.com.cn/problem/CF1928E // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; int f[MAX]; bool fl = 0; int lst[MAX]; int testcase = 0; void solve(){ testcase++; int n = read(), x = read(), y = read(), s = read(); if(testcase == 10779 and fl){ write(n), write(x), put(), put(), write(y), put(), write(s), endl; } if(fl) return ; int x2 = x % y; if((s - x2 * n - (x - x2)) % y){ puts(&quot;NO&quot;); return ; } int lft = (s - x2 * n - (x - x2)) / y; if(lft &lt; 0){ puts(&quot;NO&quot;); return ; } vector &lt;int&gt; a; a.pb(x); int now = x / y + 1; if(f[lft] &lt;= n - 1){ while(lft){ now = 0; int prelft = lft; for(int i = 0; i &lt;= lst[prelft]; i++){ a.pb(now * y + x2); lft -= now; now++; } } while(a.size() &lt; n) a.pb(x2); puts(&quot;YES&quot;); for(int i = 0; i &lt; n; i++) write(a[i]), put(); endl; return ; }else{ for(int k = 2; k &lt;= n; k++){ if(now &lt;= lft){ a.pb(now * y + x2); lft -= now; now++; if(f[lft] &lt;= (n - k)){ while(lft){ now = 0; int prelft = lft; for(int i = 0; i &lt;= lst[prelft]; i++){ a.pb(now * y + x2); lft -= now; now++; } } while(a.size() &lt; n) a.pb(x2); puts(&quot;YES&quot;); for(int i = 0; i &lt; n; i++) write(a[i]), put(); endl; return ; } } else { puts(&quot;NO&quot;); return ; } } puts(&quot;NO&quot;); return ; } puts(&quot;YES&quot;); for(int i = 0; i &lt; n; i++) write(a[i]), put(); endl; } signed main(){ f[0] = 0; for(int i = 1; i &lt; MAX; i++){ int pre = 0; f[i] = inf; for(int j = 1; pre &lt;= i; j++){ pre += j - 1; if(pre &gt; i) break; if(f[i] &gt; f[i - pre] + j){ lst[i] = j - 1; } f[i] = min(f[i], f[i - pre] + j); } } int t = read(); while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-28-solution-cf1027f","feature":"","link":"https://WRuperD.github.io/post/2024-10-28-solution-cf1027f/","stats":{"text":"4 min read","time":192000,"words":551,"minutes":4},"date":"2024-10-28 19:03:51","dateFormat":"2024-10-28"},{"abstract":"","content":"å°æ¸…æ–°å¥½é¢˜ã€‚è¿è¾¹ ai,bia_i,b_iaiâ€‹,biâ€‹ å¦‚æœä¸€ä¸ªè¿é€šå— m&gt;nm &gt; nm&gt;n æ˜¾ç„¶æ— è§£å¦åˆ™åªå‰©ä¸‹æ˜¯æ ‘æˆ–è€…åŸºç¯æ ‘ã€‚åŸºç¯æ ‘çš„æƒ…å†µé¡¶æ»¡æœ€å¤§å€¼ï¼Œæ ‘çš„æƒ…å†µæ˜¯æ¬¡å°å€¼ã€‚ // Problem: Session in BSU // URL: https://www.luogu.com.cn/problem/CF1027F // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; int a[MAX], b[MAX]; int lsh[MAX * 2]; bool vis[MAX &lt;&lt; 1]; int cnt, cnt2; int maxn, maxn2; vector &lt;int&gt; g[MAX &lt;&lt; 1]; void dfs(int u){ vis[u] = 1; cnt++; if(maxn &lt; u){ maxn2 = maxn; maxn = u; }else{ maxn2 = max(maxn2, u); } for(int v : g[u]){ cnt2++; if(!vis[v]) dfs(v); } } void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(), b[i] = read(); lsh[2 * i - 1] = a[i], lsh[2 * i] = b[i]; } sort(lsh + 1, lsh + 2 * n + 1); int m = unique(lsh + 1, lsh + 2 * n + 1) - lsh - 1; for(int i = 1; i &lt;= n; i++) a[i] = lower_bound(lsh + 1, lsh + m + 1, a[i]) - lsh; for(int i = 1; i &lt;= n; i++) b[i] = lower_bound(lsh + 1, lsh + m + 1, b[i]) - lsh; for(int i = 1; i &lt;= n; i++){ g[a[i]].pb(b[i]); g[b[i]].pb(a[i]); } int ans = 0; for(int i = 1; i &lt;= m; i++){ if(!vis[i]){ cnt = cnt2 = 0; maxn = maxn2 = 0; dfs(i); cnt2 /= 2; if(cnt == cnt2 + 1){ ans = max(ans, maxn2); }else if(cnt == cnt2){ ans = max(ans, maxn); }else{ puts(&quot;-1&quot;); exit(0); } // write(cnt), put(), write(cnt2), endl; } } // write(ans), endl; write(lsh[ans]), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-28-soltuion-cf1027f","feature":"","link":"https://WRuperD.github.io/post/2024-10-28-soltuion-cf1027f/","stats":{"text":"3 min read","time":153000,"words":431,"minutes":3},"date":"2024-10-28 18:12:57","dateFormat":"2024-10-28"},{"abstract":"","content":"CF733F Drivers Dissatisfaction é¢˜è§£ Yet Another Div2f. duel é¢˜ã€‚ ç®€å•é¢˜ç›®ã€‚é¦–å…ˆè‚¯å®šæ˜¯åªèƒ½åœ¨ä¸€æ¡è¾¹ä¸Šæ“ä½œçš„ã€‚ç„¶åå°±ç›¸å½“äºé’¦å®šä¸€æ¡è¾¹çš„æœ€å°ç”Ÿæˆæ ‘ã€‚ç›¸å½“äºå‡å»åŸæœ€å°ç”Ÿæˆæ ‘ä¸Š u,vu,vu,v è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚è€ƒè™‘ç›´æ¥ kruskal é‡æ„æ ‘è§£å†³ã€‚ // Problem: Drivers Dissatisfaction // URL: https://www.luogu.com.cn/problem/CF733F // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; struct node{ int u, v, w, w2; int id; }; node edg[MAX]; int psz; int fa[MAX * 4]; int val[MAX * 4], val2[MAX * 4]; int find(int x){ if(fa[x] == x) return x; return fa[x] = find(fa[x]); } vector &lt;int&gt; g2[MAX * 10]; int fat[MAX * 4], siz[MAX * 4], son[MAX * 4]; int dep[MAX * 4]; void dfs(int u){ siz[u] = 1; for(int v : g2[u]){ fat[v] = u, dep[v] = dep[u] + 1; dfs(v); siz[u] += siz[v]; if(siz[son[u]] &lt; siz[v]) son[u] = v; } } int top[MAX]; void dfs2(int u, int topu){ top[u] = topu; if(son[u]) dfs2(son[u], topu); for(int v : g2[u]){ if(v != son[u]) dfs2(v, v); } } int lca(int u, int v){ while(top[u] != top[v]){ if(dep[top[u]] &lt; dep[top[v]]) swap(u, v); u = fat[top[u]]; } return dep[u] &lt; dep[v] ? u : v; } bool cmp(node x, node y){ if(x.w != y.w){ return x.w &lt; y.w; } return x.w2 &lt; y.w2; } bool vis[MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= m; i++){ edg[i].w = read(); edg[i].id = i; } for(int i = 1; i &lt;= m; i++){ edg[i].w2 = read(); } for(int i = 1; i &lt;= m; i++){ edg[i].u = read(), edg[i].v = read(); } sort(edg + 1, edg + m + 1, cmp); for(int i = 1; i &lt;= n; i++) fa[i] = i; psz = n; int ans = 0; for(int i = 1; i &lt;= m; i++){ if(find(edg[i].u) == find(edg[i].v)) continue; vis[i] = 1; ans += edg[i].w; g2[++psz].pb(find(edg[i].u)); g2[psz].pb(find(edg[i].v)); fa[find(edg[i].u)] = fa[find(edg[i].v)] = psz; fa[psz] = psz; val[psz] = edg[i].w; val2[psz] = i; } int S = read(); // write(S), endl; int rt = find(1); dfs(rt); dfs2(rt, rt); int realans = inf; // write(ans), endl; int mk = 0; for(int i = 1; i &lt;= m; i++){ int now = ans; if(vis[i]){ // write(edg[i].w), put(), write(edg[i].w2), endl; now -= S / edg[i].w2; // write(now), endl; if(realans &gt; now){ realans = now; mk = i; } // ans = min(ans, now); }else{ now -= val[lca(edg[i].u, edg[i].v)]; // write(lca(edge)) now += edg[i].w; now -= S / edg[i].w2; // write(now), endl; if(realans &gt; now){ realans = now; mk = i; } } } write(realans), endl; if(vis[mk]){ for(int i = 1; i &lt;= m; i++){ if(vis[i]){ write(edg[i].id), put(); if(i == mk){ write(edg[i].w - S / edg[i].w2), endl; }else{ write(edg[i].w), endl; } } } return ; } vis[val2[lca(edg[mk].u, edg[mk].v)]] = 0; for(int i = 1; i &lt;= m; i++){ if(vis[i]){ write(edg[i].id), put(); if(i == mk){ write(edg[i].w - S / edg[i].w2), endl; }else{ write(edg[i].w), endl; } } if(i == mk){ write(edg[i].id), put(); if(i == mk){ write(edg[i].w - S / edg[i].w2), endl; }else{ write(edg[i].w), endl; } } } return ; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-28-solution-cf733f","feature":"","link":"https://WRuperD.github.io/post/2024-10-28-solution-cf733f/","stats":{"text":"5 min read","time":272000,"words":758,"minutes":5},"date":"2024-10-28 11:36:01","dateFormat":"2024-10-28"},{"abstract":"","content":"[ARC127E] Priority Queue é¢˜è§£ æ„Ÿè§‰éå¸¸çš„é«˜å¦™å•Šã€‚ å¤§è‡´å°±æ˜¯ä¸å¦¨é’¦å®šæœ€åå‰©ä¸‹çš„åºåˆ—æœ‰åºã€‚ åé¢å†è¡¥ã€‚ // Problem: [ARC127E] Priority Queue // URL: https://www.luogu.com.cn/problem/AT_arc127_e // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e3 + 10; const int mod = 998244353; int a[MAX]; int f[MAX][MAX]; void solve(){ int n = read(), m = read(); int n2 = 0, now = 0; for(int i = 1; i &lt;= n + m; i++){ int op = read(); if(op == 1) a[++n2] = ++now; else n2--; } for(int i = 0; i &lt;= now; i++) f[0][i] = 1; for(int i = 1; i &lt;= n2; i++){ for(int j = 1; j &lt;= a[i]; j++){ f[i][j] = (f[i - 1][j - 1] + f[i][j - 1]) % mod; } for(int j = a[i] + 1; j &lt;= now; j++) f[i][j] = f[i][a[i]]; } write(f[n2][a[n2]]), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-28-solution-arc127e","feature":"","link":"https://WRuperD.github.io/post/2024-10-28-solution-arc127e/","stats":{"text":"2 min read","time":101000,"words":285,"minutes":2},"date":"2024-10-28 10:00:13","dateFormat":"2024-10-28"},{"abstract":"<p>æ‘˜è¦ï¼šæœ¬æ–‡ä½¿ç”¨äº†<a href=\"https://www.acwing.com/file_system/file/content/whole/index/content/12569272/\">è¯¥åšå®¢çš„æ–¹æ³•</a>ä»‹ç»äº†å¦‚ä½•åœ¨è€ƒåœº 5min ä¹‹å†…æ“å‡º sublime çš„é…ç½®ã€‚</p>\n","content":"æ‘˜è¦ï¼šæœ¬æ–‡ä½¿ç”¨äº†è¯¥åšå®¢çš„æ–¹æ³•ä»‹ç»äº†å¦‚ä½•åœ¨è€ƒåœº 5min ä¹‹å†…æ“å‡º sublime çš„é…ç½®ã€‚ æ•ˆæœå›¾ï¼šå³ä¸Šæ˜¯æ ·ä¾‹æ–‡ä»¶ï¼Œå³ä¸‹æ˜¯ä½ çš„è¾“å‡ºã€‚ é¦–å…ˆå…ˆçœ‹å¦‚ä½•è°ƒæˆå›¾ä¸Šç•Œé¢çš„æ¨¡æ ·ã€‚ å…ˆç‚¹å‡»ï¼šalt+shift+2 ç„¶å ç‚¹å‡»ä¸Šæ–¹çš„ view-&gt;group-&gt;newgroup å³å¯ã€‚ ç„¶åä½¿ç”¨æ–‡ä»¶æ“è¿›è¡Œè¾“å…¥è¾“å‡ºå°±å¯ä»¥äº†ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ è¯¥åšå®¢çš„æ–¹æ³• å°±å¯ä»¥åœ¨ 1min ä¹‹å†…é…ç½®å¥½ç¯å¢ƒã€‚è¯¥æ–¹æ³•åœ¨ windows ç¯å¢ƒä¸‹åŒæ ·é€‚ç”¨ã€‚ä½ å¯ä»¥è®² .package æš´åŠ›å˜ä¸º .zip ç„¶åå°±å¯ä»¥çœ‹äº†ã€‚ ","tags":[{"name":"é²œèŠ±","slug":"tMU1QJpF3","used":true,"link":"https://WRuperD.github.io/tag/tMU1QJpF3/"}],"title":"åŠ å…¥ sublime é‚ªæ•™ï¼ ","feature":"","link":"https://WRuperD.github.io/post/jia-ru-sublime-xie-jiao/","stats":{"text":"1 min read","time":32000,"words":152,"minutes":1},"date":"2024-10-25 17:07:55","dateFormat":"2024-10-25"},{"abstract":"","content":" 2024-10-23 å·²ç»ç²¾ç¥å¼€æ‘†äº†ã€‚æ¨¡æ‹Ÿèµ›ç›´æ¥æ‰“æ‘†ã€‚è¿˜å¥½åé¢ä¸¤å¤©æ²¡æœ‰æ¨¡æ‹Ÿèµ›äº†ã€‚ å­¦å¼Ÿå‘ç°äº†ä¸€ä¸ªè´¼ç‰›é€¼çš„ç½‘ç«™ï¼Œhttps://viggle.ai/ã€‚éå¸¸å¥½ç©ã€‚å¦‚å›¾ï¼Œæ˜¯å­¦å¼Ÿï¼Œä¸æ˜¯æˆ‘ã€‚ æ›´å¿«é€Ÿçš„é“¾æ¥ 2024-10-24 å½»åº•å¼€æ‘†äº†ã€‚ä¸€é“é¢˜æ²¡åšã€‚ ç ”ç©¶äº†ä¸€ä¸‹ NOI Linux2ã€‚å‘ç°äº†ç»å¦™æ–‡ç«  https://www.cnblogs.com/PeppaEvenPig/p/18263178. sublime å¤ªå¥½ç”¨äº†!. è¿˜æ˜¯æŒºå¥‡æ€ªçš„ï¼Œæ„Ÿè§‰æ¯æ¬¡è€ƒè¯•å‰è„‘å­éƒ½ä¼šè«åå…¶å¦™å›å¿†èµ·ä¸€äº›æ­Œå¼€å§‹æ’­æ”¾ã€‚ æˆ‘è®°å¾—ä¸­è€ƒçš„æ—¶å€™æ˜¯ final masqueradeã€‚ ç°åœ¨æ»¡è„‘å­éƒ½æ˜¯ 2024-10-25 ä¸çŸ¥é“ä¸ºä»€ä¹ˆ xp ä¸€ç›´åœ¨æœºæˆ¿ã€‚ç„¶åå°±åå¤§ç‰¢äº†ã€‚ ç ”ç©¶äº†å¦‚ä½•ä½¿ç”¨ sublimeï¼Œéå¸¸å¥½ï¼ã€‚ 2024-10-26 ä¸Šåˆä¸€ç›´åœ¨è°·æ­Œåœ°å›¾å¼€è½¦é—²é€›ï¼Œæœ€åä¸€å°æ—¶åœ¨å’Œ @yinhee duel å›¾å¯»ã€‚ ä¸‹åˆæ¥äº†ã€‚å¤§è‡´å°±æ˜¯ 100 + 100 + 50 +0 äº†ã€‚å¤§è‡´å°±æ˜¯ T2 æ‰”æ‰åŒ…å«åŒºé—´å†™äº† 1.5 å°æ—¶ã€‚å¤§è‡´å°±æ˜¯ T3 ä¸ä¼šåšï¼Œå“ˆå“ˆã€‚å¤§è‡´æ˜¯æ²¡å¸Œæœ›äº†ã€‚ 2024-10-27 ç”¨ 100 å°˜åˆæˆäº† 40 å®‡å®™å½©è™¹ DKã€‚éå¸¸å¥½ç©ï¼ä¸€æŠŠ 30min è®©æˆ‘è¿Ÿåˆ°äº†ã€‚ ARC è¿ A éƒ½ä¸ä¼šï¼Œè¿™è¾ˆå­æœ‰äº†ï¼ 2024-10-28 ä»Šå¤©åˆæ‘†äº†ä¸€å¤©çƒ‚ï¼Œåšäº†ä¸€äº›ä½éš¾åº¦é¢˜ç›®ã€‚ æ„Ÿè§‰çŠ¶æ€å¥‡çƒ‚æ— æ¯”ã€‚å°±è¿™æ ·ã€‚ æ¨¡æ‹Ÿèµ› T1 åšäº† 2hã€‚ 2024-10-29 æ¨¡æ‹Ÿèµ› T1 åšäº† 1minã€‚ç„¶åè·å¾—äº†ä¸€ä¸Šåˆçš„ç²¾è‡´ç¡çœ ã€‚ æ­å–œç½—å¾·é‡Œè·å¾—é‡‘çƒå¥–ï¼ ä»Šå¤©è¿ç®€å•é¢˜éƒ½æ²¡å†™äº†ã€‚ CSP-S T3 è ¢é£äº†ï¼Œæˆ‘ç”¨äº†å¤§å®¶èµ›æ—¶ O(n2)O(n^2)O(n2) åˆ° O(n)O(n)O(n) çš„æ–¹æ³•æŠŠæˆ‘çš„ dp O(n3)O(n^3)O(n3) -&gt; O(n2)O(n^2)O(n2) ä¸æ¯«æ²¡æœ‰æ„è¯†åˆ°æœ‰ä¸€ä¸ª nnn æ˜¯æˆ‘å‡­ç©ºåŠ çš„ã€‚å“ˆå“ˆã€‚ 2024-10-30 ç»ˆäºé…ç½®ä¸Šäº†æˆ‘è®¤ä¸ºæœ€å¥½çœ‹çš„ä¸»é¢˜ catppuccin-latte. æ²¡æœ‰æ¨¡æ‹Ÿèµ›ï¼Œåˆæ‘†äº†ä¸€å¤©ã€‚ å¼€å‘äº† http://wruperd.github.io/post/a-moon-shaped-pool/ ã€‚ 2024-10-31 ","tags":[{"name":"é²œèŠ±","slug":"tMU1QJpF3","used":true,"link":"https://WRuperD.github.io/tag/tMU1QJpF3/"}],"title":"2024 CSP å‰åæ‚è°ˆ","feature":"https://WRuperD.github.io/post-images/2024-csp-za-tan.bmp","link":"https://WRuperD.github.io/post/2024-csp-za-tan/","stats":{"text":"2 min read","time":116000,"words":490,"minutes":2},"date":"2024-10-23 20:04:15","dateFormat":"2024-10-23"},{"abstract":"","content":"CF2023D Many Games é¢˜è§£ éå¸¸åƒæˆ‘ä¼šåšçš„é¢˜ç›®ã€‚è¦æ˜¯æˆ‘æ‰“ CF çš„æ—¶å€™ä¸å»åƒå®Œé¥­ï¼Œä¸æ‰“æ‘†æ„Ÿè§‰è¿˜æ˜¯éå¸¸æœ‰æœºä¼šåšå‡ºæ¥çš„ã€‚ é¦–å…ˆè€ƒè™‘ä»€ä¹ˆæ ·çš„ç‰©å“æ‰èƒ½ä½¿ç­”æ¡ˆå¢å¤§ã€‚ä¸å¦¨è®¾å½“å‰çš„ âˆipi100=X,âˆ‘iwi=Y\\prod\\limits_i {p_i\\over 100} = X,\\sum\\limits_i w_i = Yiâˆâ€‹100piâ€‹â€‹=X,iâˆ‘â€‹wiâ€‹=Yã€‚ XY&lt;Xpi100(Y+wx)Y&lt;pi100(Y+wx)Y&lt;pi100Y+pi100wx(1âˆ’pi100)Y&lt;pi100wxY&lt;pi100wx(1âˆ’pi100)Y&lt;piâ‹…wx(100âˆ’pi)\\begin{aligned} XY &lt;&amp; X {p_i \\over 100} (Y+w_x)\\\\ Y &lt;&amp; {p_i \\over 100} (Y+w_x)\\\\ Y &lt;&amp; {p_i \\over 100} Y+{p_i \\over 100}w_x\\\\ (1-{p_i \\over 100})Y &lt;&amp; {p_i \\over 100}w_x\\\\ Y &lt;&amp; {{p_i \\over 100}w_x \\over (1-{p_i \\over 100})}\\\\ Y &lt;&amp; {p_i \\cdot w_x \\over (100-p_i)}\\\\ \\end{aligned} XY&lt;Y&lt;Y&lt;(1âˆ’100piâ€‹â€‹)Y&lt;Y&lt;Y&lt;â€‹X100piâ€‹â€‹(Y+wxâ€‹)100piâ€‹â€‹(Y+wxâ€‹)100piâ€‹â€‹Y+100piâ€‹â€‹wxâ€‹100piâ€‹â€‹wxâ€‹(1âˆ’100piâ€‹â€‹)100piâ€‹â€‹wxâ€‹â€‹(100âˆ’piâ€‹)piâ€‹â‹…wxâ€‹â€‹â€‹ æ‰€ä»¥æˆ‘ä»¬å¾—å‡ºç»“è®ºå½“å½“å‰é‡é‡å¤§äº 2.1â‹…1052.1 \\cdot 10^52.1â‹…105 å·¦å³æ—¶å¿…ç„¶ä¸ä¼šæœ‰æ–°å¢çš„ç‰©å“ã€‚ï¼ˆèµ›æ—¶æ€ä¹ˆåˆ°è¿™é‡Œå°±ç›´æ¥è½ä¸Šå»äº†qwqï¼‰ã€‚ å¦‚æœä½ æŒ‰ç…§ pip_ipiâ€‹ åˆ†ç»„ï¼ŒæŒ‰ç…§ wiw_iwiâ€‹ ä»å¤§åˆ°å°æ’åºçš„è¯ï¼Œæˆ‘ä»¬æ¯æ¬¡ä¸€å®šæ˜¯å–ä¸€æ®µå‰ç¼€ã€‚çŒœæƒ³è¿™ä¸ªå‰ç¼€çš„é•¿åº¦å¹¶ä¸é•¿ï¼ŒåŸå› ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯è€ƒè™‘å½“å‰åŠ è¿›å» www è¦æ›´ä¼˜ã€‚ pkâ‹…W&lt;pk+1â‹…(W+minw)â‰¤pk+1â‹…Wk+1kp&gt;k+1kkp&gt;k+1k&gt;1pâˆ’1k&lt;100100âˆ’pi \\begin{aligned} p^k \\cdot W &amp;&lt; p^{k+1} \\cdot (W+minw) \\\\ &amp;\\leq p^{k+1} \\cdot W {k+1\\over k} \\\\ p &amp;&gt; {k+1 \\over k} \\\\ kp &amp; &gt; k+1\\\\ k &amp; &gt; {1\\over p-1} \\\\ k &amp; &lt; {100 \\over 100 - p_i} \\\\ \\end{aligned}pkâ‹…Wpkpkkâ€‹&lt;pk+1â‹…(W+minw)â‰¤pk+1â‹…Wkk+1â€‹&gt;kk+1â€‹&gt;k+1&gt;pâˆ’11â€‹&lt;100âˆ’piâ€‹100â€‹â€‹ æ‰€ä»¥ä½ ç…§ç€å–ä¸€èµ·ä¸‹ç‰©å“æ€»æ•°æ˜¯æå°‘çš„ã€‚æœ€åä½ ç›´æ¥åšä¸€ä¸ªèƒŒåŒ…å°±è¡Œäº†ã€‚ // Problem: Many Games // URL: https://www.luogu.com.cn/problem/CF2023D // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 21e4 + 10; double f[MAX]; priority_queue &lt;int&gt; que[MAX]; void solve(){ int n = read(); double preans = 0; for(int i = 1; i &lt;= n; i++){ int p = read(), w = read(); if(p == 100){ preans += w; }else{ que[p].push(w); } } f[0] = 1.0; for(int i = 1; i &lt;= 99; i++){ int lim = 100 / (100 - i) + 1; while(!que[i].empty() and lim--){ int u = que[i].top(); que[i].pop(); for(int j = MAX - 10; j &gt;= u; j--){ f[j] = max(f[j], f[j - u] * (double)(i) / 100.0); } } } double ans = 0; for(int i = 0; i &lt; MAX; i++){ ans = max(ans, double(i + preans) * f[i]); } printf(&quot;%.7f\\n&quot;, ans); } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-22-solution-cf2023d ","feature":"","link":"https://WRuperD.github.io/post/2024-10-22-solution-cf2023d/","stats":{"text":"4 min read","time":234000,"words":717,"minutes":4},"date":"2024-10-22 19:27:59","dateFormat":"2024-10-22"},{"abstract":"","content":"CF2030D QED's Favorite Permutation é¢˜è§£ CodeFancy å¥½å–œæ¬¢è€ƒå¯Ÿè¿™ä¸ª Trick å•Šï¼Œå·²ç»è§åˆ°ç¬¬ä¸‰æ¬¡äº†ã€‚ é¦–å…ˆæ‰‹ç©å¯ä»¥å‘ç°ï¼Œä¸èƒ½äº¤æ¢ä¸¤ä¸ªä½ç½® i,ji,ji,j ä¸Šçš„æ•°å½“ä¸”ä»…å½“ xâˆˆ[i,j),sx=L,sx+1=Rx \\in [i,j),s_x = L,s_{x+1} = Rxâˆˆ[i,j),sxâ€‹=L,sx+1â€‹=Rã€‚è½¬æ¢ä¸€ä¸‹è§†è§’ï¼Œç”±äºæ˜¯çœ‹å…¨å±€èƒ½ä¸èƒ½æ’åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é¢„å¤„ç†å“ªäº›ä½ç½® xxx æ»¡è¶³ sx=L,sx+1=Rs_x=L,s_{x+1}=Rsxâ€‹=L,sx+1â€‹=R çš„æ¡ä»¶ä¼šä½¿å¾—ç­”æ¡ˆä¸ºå¦ã€‚è¿™ä¸ªå¯ä»¥ç›´æ¥å¯¹äºæ¯ä¸€ä¸ª [minâ¡(ai,i),maxâ¡(ai,i))[\\min(a_i,i),\\max(a_i,i))[min(aiâ€‹,i),max(aiâ€‹,i)) å·®åˆ†å»æ‰“ä¸€ä¸ªåŒºé—´åŠ æ ‡è®°æ¥è§£å†³ã€‚ ç„¶åå¯¹äºæ¯ä¸€æ¬¡å•ç‚¹ä¿®æ”¹ä½ å°±æ›´æ–°ä¸€ä¸‹ x,xâˆ’1x,x-1x,xâˆ’1 è¿™ä¸¤ä¸ªä½ç½®å¯¹ç­”æ¡ˆçš„è´¡çŒ®å°±è¡Œäº†ã€‚å¤æ‚åº¦æ˜¯ O(n)O(n)O(n)ã€‚ // Problem: D. QED's Favorite Permutation // URL: https://codeforces.com/contest/2030/problem/D // Writer:WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e5 + 10; int a[MAX]; int s2[MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } string s; cin &gt;&gt; s; int l = 1, r = 0; for(int i = 1; i &lt;= n; i++){ s2[i] = 0; } for(int i = 1; i &lt;= n; i++){ int L = min(a[i], i), R = max(a[i], i); s2[L]++; s2[R]--; } int now = 0; for(int i = 1; i &lt;= n; i++){ now += s2[i]; s2[i] = now; } // while(a[l] == l and l &lt;= n){ // l++; // } // while(a[r] == r and r &gt;= 1){ // r--; // } // // write(l), endl; // if(l == n + 1){ // while(m--){ // int x = read(); // puts(&quot;YES&quot;); // } // return ; // } int cnt = 0; for(int i = 1; i &lt; n; i++){ if(s2[i] and s[i - 1] == 'L' and s[i] == 'R'){ cnt++; } } while(m--){ int x = read(); // if(x &lt; l or x &gt; r){ // if(cnt) puts(&quot;NO&quot;); // else puts(&quot;YES&quot;); // continue; // } int pre = 0; if(s2[x - 1]) pre += (s[x - 2] == 'L' and s[x - 1] == 'R'); if(s2[x]) pre += (s[x - 1] == 'L' and s[x] == 'R'); int now = 0; if(s[x - 1] == 'L') s[x - 1] = 'R'; else s[x - 1] = 'L'; if(s2[x - 1]) now += (s[x - 2] == 'L' and s[x - 1] == 'R'); if(s2[x]) now += (s[x - 1] == 'L' and s[x] == 'R'); cnt += now - pre; // write(cnt), put(), write(pre), endl; if(cnt){ puts(&quot;NO&quot;); }else{ puts(&quot;YES&quot;); } } } signed main(){ int t = read(); while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-22-solution-cf2030d","feature":"","link":"https://WRuperD.github.io/post/2024-10-22-solution-cf2030d/","stats":{"text":"4 min read","time":211000,"words":631,"minutes":4},"date":"2024-10-22 19:06:33","dateFormat":"2024-10-22"},{"abstract":"","content":"CF2030E MEXimize the Score é¢˜è§£ ä¸Š CM äº†ï¼Œçºªå¿µä¸€ä¸‹ã€‚ è€ƒè™‘ä»å°åˆ°å¤§å¯¹äºæ¯ä¸€ç§æ•°å­—ç®—è´¡çŒ®ã€‚ è®¾ fi,jf_{i,j}fi,jâ€‹ è¡¨ç¤ºæœ‰ jjj ä¸ª ax=ia_x = iaxâ€‹=i å¯¹ç­”æ¡ˆäº§ç”Ÿäº† 1 çš„è´¡çŒ®çš„æ–¹æ¡ˆæ•°ã€‚é‚£ä¹ˆæ˜¾ç„¶æœ‰: fi,j=âˆ‘k&gt;jfiâˆ’1,kâ‹…(cntij)+fiâˆ’1,jâ‹…âˆ‘kâ‰¥j(cntik)f_{i,j} = \\sum \\limits_{k &gt; j} f_{i-1,k}\\cdot{cnt_i \\choose j} + f_{i-1,j}\\cdot \\sum \\limits_{k\\geq j} {cnt_i \\choose k} fi,jâ€‹=k&gt;jâˆ‘â€‹fiâˆ’1,kâ€‹â‹…(jcntiâ€‹â€‹)+fiâˆ’1,jâ€‹â‹…kâ‰¥jâˆ‘â€‹(kcntiâ€‹â€‹) é‚£ä¹ˆæœ€åçš„ç­”æ¡ˆå°±æ˜¯ âˆ‘fi,jâ‹…j\\sum f_{i,j} \\cdot jâˆ‘fi,jâ€‹â‹…jã€‚ ä¹ä¸€çœ‹è¿™ä¸ªæŸ¿å­æ˜¯ O(n2)O(n^2)O(n2) çš„å¯¹å§ï¼Œä½†æ˜¯å®é™…ä¸Šé¦–å…ˆè½¬ç§»å¯ä»¥å‰ç¼€å’Œä¼˜åŒ–åšåˆ° O(1)O(1)O(1)ï¼Œå…¶æ¬¡æœ‰æ•ˆæ³¨æ„åˆ°ç¬¬äºŒç»´æ˜¯æœ‰ä¸€ä¸ªä¸Šç•Œä¸º minâ¡jâ‰¤i(cntj)\\min \\limits_{j\\leq i} (cnt_j)jâ‰¤iminâ€‹(cntjâ€‹) çš„ï¼Œè€Œ âˆ‘cnti=n\\sum cnt_i = nâˆ‘cntiâ€‹=nã€‚é‚£ä¹ˆè¿™æ ·å­å…¶å®ç¬¬äºŒç»´çš„æœ‰æ•ˆçŠ¶æ€æ•°å°±æ˜¯ O(n)O(n)O(n) çš„äº†ã€‚ç›´æ¥å†™å°±å®Œäº‹äº†ã€‚ // Problem: E. MEXimize the Score // URL: https://codeforces.com/contest/2030/problem/E // Writer:WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e5 + 10; const int mod = 998244353; int cnt[MAX]; int f[MAX]; int pre2[MAX]; int preasd[MAX]; int inv123[MAX]; int F114[MAX]; int a[MAX]; int quickPower(int a,int b,int p){int base=a,ans=1;while(b){if(b&amp;1)ans*=base,ans%=p;base*=base;base%=p;b&gt;&gt;=1;}return ans;} int c2(int n, int m){ if(m &gt; n) return 0; return preasd[n] * F114[m] % mod * F114[n-m] % mod; } void solve(){ int n = read(); pre2[0] = 1; for(int i = 1; i &lt;= n; i++){ pre2[i] = pre2[i - 1] * 2 % mod; a[i] = read(); cnt[a[i]]++; } int premin = n; for(int i = 0; i &lt;= n + 1; i++) f[i] = 0; f[n] = 1; int ans = 0; int pree2 = n; for(int i = 0; i &lt; n; i++){ if(!cnt[i]){ break; } int pre = 0; pree2 = pree2 - cnt[i]; int pree3 = 0; for(int j = premin + 1; j &lt;= cnt[i]; j++){ pree3 = (pree3 + c2(cnt[i], j)) % mod; } for(int j = premin; j &gt;= 1; j--){ int prefj = f[j]; f[j] = pre * c2(cnt[i], j) % mod; pree3 = (pree3 + c2(cnt[i], j)) % mod; f[j] = (f[j] + prefj * pree3 % mod) % mod; pre = (pre + prefj) % mod; // write(i), put(), write(j), put(), write(ans), put(), write(f[j]), put(), write(pree2), endl; ans = (ans + f[j] * pre2[pree2] % mod * j % mod) % mod; } premin = min(premin, cnt[i]); } for(int i = 0; i &lt;= n; i++) cnt[i] = 0; write(ans), endl; } signed main(){ preasd[0] = F114[0] = 1; preasd[1] = inv123[1] = F114[1] = 1; for(int i = 2; i &lt; MAX; i++){ preasd[i] = 1ll * preasd[i - 1] * i % mod; inv123[i] = 1ll * inv123[mod % i] * (mod - mod / i) % mod; F114[i] = 1ll * F114[i - 1] * inv123[i] % mod; } int t = read(); while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-22-solution-cf2030e","feature":"","link":"https://WRuperD.github.io/post/2024-10-22-solution-cf2030e/","stats":{"text":"5 min read","time":241000,"words":704,"minutes":5},"date":"2024-10-22 18:46:22","dateFormat":"2024-10-22"},{"abstract":"","content":"The 3rd Universal Cup. Stage 13: Sendai Problem O Sub Brackets é¢˜è§£ æ²¡æƒ³åˆ°è¿™è¾ˆå­è¿˜èƒ½åœ¨ ucup åœºä¸Šåœºåˆ‡ä¸­æ¡£é¢˜ã€‚æˆåŠŸæ‹¿åˆ°äº† 8ç‚¹ å¼€çš„é˜Ÿä¸­çš„é¦– A. ä¸çŸ¥é“ä¸ºå•¥ AT ä¸Šæ˜¯ *2785ã€‚ è¿™ä¸ªé¢˜å¤§è‡´å°±æ˜¯ä½ å‘ç°ä¸¤ä¸ªåŒºé—´çš„äº¤é•¿åº¦ä¸ºå¶æ•°ä¸€å®šå¯ä»¥ã€‚æ„é€ å½¢å¦‚ ()()()() è¿™æ ·å°±è¡Œäº†ã€‚è€Œå¦‚æœäº¤çš„é•¿åº¦ä¸ºå¥‡æ•°å°±ä¸€å®šä¸è¡Œã€‚è¿™ä¸ªå¯ä»¥å†™ä¸€ä¸ªçˆ†æœéªŒè¯ä¸€ä¸‹ã€‚ æ³¨æ„åˆ° nâ‰¤500n \\leq 500nâ‰¤500 æ‰€ä»¥æˆ‘ä»¬ç›´æ¥æš´åŠ›æ£€æŸ¥æ€§è´¨ï¼Œæš´åŠ›å»ºå›¾è·‘ä¸€ä¸ªæœ€å°å‰²å°±å¯ä»¥è¿‡äº†ã€‚ // Problem: P - Sub Brackets // URL: https://atcoder.jp/contests/tupc2023/tasks/tupc2023_p // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1010; struct node{ int l, r; }; node a[MAX]; int psz = 2; struct flow{ struct node{ int v, w, cp; }; vector &lt;node&gt; g[MAX]; int dis[MAX]; bool bfs(int s, int t){ for(int i = 1; i &lt;= psz; i++) dis[i] = inf; dis[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); for(auto V : g[u]){ if(V.w &gt; 0 and dis[V.v] &gt; dis[u] + 1){ dis[V.v] = dis[u] + 1; q.push(V.v); } } } if(dis[t] == inf) return 0; return 1; } int cur[MAX]; int aug(int u, int now, int t){ if(u == t) return now; int ans = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, w = g[u][i].w, cp = g[u][i].cp; if(dis[v] != dis[u] + 1) continue; int ret = aug(v, min(w, now), t); g[u][i].w -= ret, g[v][cp].w += ret; now -= ret, ans += ret; if(now &lt;= 0) break; } return ans; } void add_edge(int u, int v, int w){ g[u].pb(node{v, w, g[v].size()}); g[v].pb(node{u, 0, g[u].size() - 1}); } }; flow g; int ins[MAX], ous[MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= m; i++){ a[i].l = read(), a[i].r = read(); } int s = 1, t = 2; // psz = 3; for(int i = 1; i &lt;= m; i++){ ins[i] = ++psz; ous[i] = ++psz; } for(int i = 1; i &lt;= m; i++){ for(int j = 1; j &lt;= m; j++){ int L = max(a[i].l, a[j].l); int R = min(a[i].r, a[j].r); int len = max(0ll, R - L + 1); if(len % 2){ g.add_edge(ins[i], ous[j], inf); } } } for(int i = 1; i &lt;= m; i++){ g.add_edge(s, ins[i], 1); g.add_edge(ous[i], t, 1); } int ans = 0; while(g.bfs(s, t)){ for(int i = 1; i &lt;= psz; i++) g.cur[i] = 0; ans += g.aug(s, inf, t); } // write(ans), endl; write(m - ans / 2), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-21-solution-ucup-season3-stage13-sendai-problemO","feature":"","link":"https://WRuperD.github.io/post/2024-10-21-solution-ucup-season3-stage13-sendai-problemo/","stats":{"text":"4 min read","time":224000,"words":659,"minutes":4},"date":"2024-10-21 20:29:08","dateFormat":"2024-10-21"},{"abstract":"","content":"2023Meta Hacker Cup Problem C: Krab-otage é¢˜è§£ å¤§ç²ªé¢˜ã€‚ä½†æ˜¯æ€è·¯è¿˜æ˜¯æ¯”è¾ƒæ¸…æ–°çš„ã€‚ ä¸Šå›¾ä¸­ï¼Œçº¢è‰²æ ¼å­ä»£è¡¨åˆ æ‰çš„æ ¼å­ã€‚é‚£ä¹ˆæœ€ç»ˆç­”æ¡ˆä¸€å®šæ˜¯æŸä¸€ä¸ª (1,1)(1,1)(1,1) åˆ°è“è‰²æ ¼å­çš„è·¯å¾„æœ€å¤§å€¼åŠ ä¸ŠæŸä¸€ä¸ªç»¿è‰²æ ¼å­åˆ° (r,c)(r,c)(r,c) è·¯å¾„çš„æœ€å¤§å€¼ã€‚ äºæ˜¯æˆ‘ä»¬è€ƒè™‘åŠ¨æ€è§„åˆ’è½¬ç§»çº¢è‰²ä½ç½®ï¼Œè½¬ç§»å½¢å¼å¤§è‡´æ˜¯æšä¸¾æ‹è§’å¤„ï¼Œç„¶åæŠŠæ‰€æœ‰å·²ç»ç¡®å®šæ˜¯è“è‰²æ ¼å­å’Œå·²ç»ç¡®å®šæ˜¯ç»¿è‰²æ ¼å­çš„è´¡çŒ®åŠ å…¥ç­”æ¡ˆã€‚åˆ†ç±»è®¨è®ºäº¿ä¸‹å°±è¡Œäº†ï¼Œå¾ˆæ¶å¿ƒã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; const int mod = 998244353; int quickPower(int a,int b,int p){int base=a,ans=1;while(b){if(b&amp;1)ans*=base,ans%=p;base*=base;base%=p;b&gt;&gt;=1;}return ans;} int a[MAX]; int prea[MAX]; int cnt0[MAX], cnt1[MAX], cnt2[MAX], cnt3[MAX]; int ans; void dfs(int l, int r, int x){ if(x &gt; r){ bool fl = 0; for(int i = l; i &lt;= r; i++){ for(int j = i + 1; j &lt;= r; j++){ for(int k = j + 2; k &lt;= r; k++){ if(a[i] == a[j] or a[i] == a[k] or a[j] == a[k]) continue; fl = 1; break; } } } if(fl) return ; for(int i = l; i &lt;= r; i++){ for(int j = i + 2; j &lt;= r; j++){ for(int k = j + 1; k &lt;= r; k++){ if(a[i] == a[j] or a[i] == a[k] or a[j] == a[k]) continue; fl = 1; break; } } } if(fl) return ; ans++; return ; } if(a[x] == 1) dfs(l, r, x + 1); else if(a[x] == 2) dfs(l, r, x + 1); else if(a[x] == 3) dfs(l, r, x + 1); else{ a[x] = 1; dfs(l, r, x + 1); a[x] = 2; dfs(l, r, x + 1); a[x] = 3; dfs(l, r, x + 1); a[x] = 0; } } void solve2(int l, int r){ ans = 0; dfs(l, r, l); write(ans), endl; } void solve(){ freopen(&quot;sub.in&quot;, &quot;r&quot;, stdin); freopen(&quot;sub.out&quot;, &quot;w&quot;, stdout); int n = read(), q = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); cnt0[i] = cnt0[i - 1] + (a[i] == 0); cnt1[i] = cnt1[i - 1] + (a[i] == 1); cnt2[i] = cnt2[i - 1] + (a[i] == 2); cnt3[i] = cnt3[i - 1] + (a[i] == 3); } while(q--){ int l = read(), r = read(); if(r - l + 1 &lt;= 4){ solve2(l, r); continue; } int A = cnt1[r] - cnt1[l - 1], B = cnt2[r] - cnt2[l - 1], C = cnt3[r] - cnt3[l - 1], D = cnt0[r] - cnt0[l - 1]; int cnt = 0; if(A) cnt++; if(B) cnt++; if(C) cnt++; if(cnt == 3){ puts(&quot;0&quot;); continue; } if(cnt == 2){ write(quickPower(2, D, mod)), endl; }else if(cnt == 1){ write((quickPower(2, D + 1, mod) - 1 + mod) % mod), endl; }else{ write((3 * quickPower(2, D, mod) - 3 + mod) % mod), endl; } } } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[],"title":"2024-10-21-solution-metahackercup2023round3C","feature":"","link":"https://WRuperD.github.io/post/2024-10-21-solution-metahackercup2023round3c/","stats":{"text":"4 min read","time":232000,"words":684,"minutes":4},"date":"2024-10-21 16:56:52","dateFormat":"2024-10-21"},{"abstract":"","content":"å¤§ç‰›é€¼é¢˜ç›®ã€‚ ç‰›é€¼çš„ç‚¹åœ¨äºè¿™ä¸ªå¦‚ä½•åˆ¤å®šç¯ç»•äº†å²›å±¿ä¸€åœˆã€‚é¢˜è§£ç»™å‡ºäº†è¿™æ ·ä¸€ç§æ–¹å¼ï¼šè€ƒè™‘ä»»æ„ä¸€ä¸ªå²›å±¿å¾€ä¸‹å‚ç›´çš„ä¸€æ¡å°„çº¿ã€‚å¦‚æœä½ çš„è·¯å¾„ä» (x,y)(x,y)(x,y) ç»è¿‡äº†è¿™ä¸ªå°„çº¿å¥‡æ•°æ¬¡å¹¶å›åˆ°äº† (x,y)(x,y)(x,y) é‚£ä¹ˆä½ å°±ä¸€å®šåŒ…å›´äº†è¿™ä¸ªå²›å±¿ã€‚ æ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ‹†ç‚¹ï¼Œè¿è¾¹ï¼Œè¾¹æƒä¸º u,vu,vu,v å’Œæœ€è¿‘å²›å±¿çš„è·ç¦»çš„æœ€å°å€¼ï¼Œç„¶åç›¸å½“äºä¸€æ¡æœ€å¤§è¾¹æƒæœ€å°çš„è·¯å¾„ã€‚è¿™ä¸ªç›´æ¥ kruskal é‡æ„æ ‘å°±åšå®Œäº†ã€‚ å¤ªç‰›é€¼äº†ã€‚ä»£ç å†™å¾—ä¸€å¨å±ã€‚ // Problem: Smooth Sailing (Hard Version) // URL: https://www.luogu.com.cn/problem/CF1920F2 // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; int n, m, q; vector &lt;char&gt; a[MAX]; vector &lt;int&gt; dis[MAX]; const int nxt[4][2] = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}}; inline int To(int x, int y){ return (x - 1) * m + y; } struct node{ int u, v, w; }; node g[MAX * 5]; bool cmp(node x, node y){ return x.w &gt; y.w; } int psz; int fa[MAX * 4]; int val[MAX * 4]; int find(int x){ if(fa[x] == x) return x; return fa[x] = find(fa[x]); } vector &lt;int&gt; g2[MAX * 10]; int fat[MAX * 4], siz[MAX * 4], son[MAX * 4]; int dep[MAX * 4]; void dfs(int u){ siz[u] = 1; for(int v : g2[u]){ fat[v] = u, dep[v] = dep[u] + 1; dfs(v); siz[u] += siz[v]; if(siz[son[u]] &lt; siz[v]) son[u] = v; } } int top[MAX]; void dfs2(int u, int topu){ top[u] = topu; if(son[u]) dfs2(son[u], topu); for(int v : g2[u]){ if(v != son[u]) dfs2(v, v); } } int lca(int u, int v){ while(top[u] != top[v]){ if(dep[top[u]] &lt; dep[top[v]]) swap(u, v); u = fat[top[u]]; } return dep[u] &lt; dep[v] ? u : v; } void solve(){ n = read(), m = read(), q = read(); queue &lt;pair &lt;int, int&gt;&gt; que; pair &lt;int, int&gt; loww = make_pair(0, 0); for(int i = 1; i &lt;= n; i++){ a[i].pb('?'); dis[i].pb(0); for(int j = 1; j &lt;= m; j++){ char ch; cin &gt;&gt; ch; a[i].pb(ch); if(ch == 'v'){ dis[i].pb(0); que.push(make_pair(i, j)); }else{ dis[i].pb(inf); } if(ch == '#'){ loww = max(loww, make_pair(i, j)); } } } while(!que.empty()){ int x = que.front().first, y = que.front().second; que.pop(); for(int i = 0; i &lt; 4; i++){ int dx = x + nxt[i][0], dy = y + nxt[i][1]; if(dx &gt; n or dy &gt; m or !dx or !dy) continue; if(dis[dx][dy] &gt; dis[x][y] + 1){ dis[dx][dy] = dis[x][y] + 1; que.push(make_pair(dx, dy)); } } } // write(loww.first), put(), write(loww.second), endl; int m2 = 0; for(int i = 1; i &lt;= n; i++){ for(int j = 1; j &lt;= m; j++){ if(a[i][j] == '#') continue; for(int k = 0; k &lt; 2; k++){ int dx = i + nxt[k][0], dy = j + nxt[k][1]; if(dx &gt; n or dy &gt; m or !dx or !dy or a[dx][dy] == '#') continue; g[++m2].u = To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); } if(j == loww.second and i &gt;= loww.first){ for(int k = 2; k &lt; 4; k++){ int dx = i + nxt[k][0], dy = j + nxt[k][1]; if(dx &gt; n or dy &gt; m or !dx or !dy or a[dx][dy] == '#') continue; if(k == 2){ g[++m2].u = To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); }else{ g[++m2].u = To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); } } }else if(j == loww.second + 1 and i &gt;= loww.first){ for(int k = 2; k &lt; 4; k++){ int dx = i + nxt[k][0], dy = j + nxt[k][1]; if(dx &gt; n or dy &gt; m or !dx or !dy or a[dx][dy] == '#') continue; if(k == 3){ g[++m2].u = To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); }else{ g[++m2].u = To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); } } }else{ for(int k = 2; k &lt; 4; k++){ int dx = i + nxt[k][0], dy = j + nxt[k][1]; if(dx &gt; n or dy &gt; m or !dx or !dy or a[dx][dy] == '#') continue; g[++m2].u = To(i, j); g[m2].v = To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); g[++m2].u = n * m + To(i, j); g[m2].v = n * m + To(dx, dy); g[m2].w = min(dis[i][j], dis[dx][dy]); } } } } sort(g + 1, g + m2 + 1, cmp); for(int i = 1; i &lt;= n * m * 2; i++) fa[i] = i; psz = n * m * 2; for(int i = 1; i &lt;= m2; i++){ if(find(g[i].u) == find(g[i].v)) continue; g2[++psz].pb(find(g[i].u)); g2[psz].pb(find(g[i].v)); fa[find(g[i].u)] = fa[find(g[i].v)] = psz; fa[psz] = psz; val[psz] = g[i].w; } int rt = find(1); dfs(rt); dfs2(rt, rt); while(q--){ int x = read(), y = read(); int ans = lca(To(x, y), To(x, y) + n * m); write(val[ans]), endl; } } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-21-solution-cf1920f2","feature":"","link":"https://WRuperD.github.io/post/2024-10-21-solution-cf1920f2/","stats":{"text":"8 min read","time":450000,"words":1271,"minutes":8},"date":"2024-10-21 16:48:04","dateFormat":"2024-10-21"},{"abstract":"","content":"å­¦å¼Ÿçš„ Div2 æ¨¡æ‹Ÿèµ› T4 é¢˜è§£ å¥½é¢˜ã€‚ é¦–å…ˆè€ƒè™‘æ€ä¹ˆåšåˆ° O(nq)O(nq)O(nq)ã€‚è¦æ‰¾åˆ°ä¸€ç§åˆ»ç”»æ–¹å¼æ¥åˆ¤æ–­ä¸€ç»„è¾¹æ˜¯å¦ä½¿å¾—ç»™å®šç‚¹è¢«æŸ“è‰²ã€‚ æˆ‘æ‰¾åˆ°äº†è¿™æ ·ä¸€ç§æ–¹å¼ï¼šå¯¹äºä¸€æ¡ xi&lt;xi+1x_i &lt; x_{i+1}xiâ€‹&lt;xi+1â€‹ çš„è¾¹ï¼Œå¦‚æœç»™å®šç‚¹åœ¨ä»–çš„ä¸Šæ–¹ï¼Œé‚£ä¹ˆå°†å…¶æƒå€¼è®¾ä¸º 1ã€‚å¯¹äºä¸€æ¡ xi&gt;xi+1x_i &gt; x_{i+1}xiâ€‹&gt;xi+1â€‹ çš„è¾¹ï¼Œå¦‚æœç»™å®šç‚¹åœ¨ä»–çš„ä¸‹æ–¹ï¼Œé‚£ä¹ˆå°†å…¶æƒå€¼è®¾ä¸º 1ã€‚å¯¹äºä¸€æ¡ xi=xi+1x_i = x_{i+1}xiâ€‹=xi+1â€‹ çš„è¾¹ï¼Œè¿™æ˜¯ç»†èŠ‚ï¼Œè‡ªå·±æ€è€ƒã€‚å½“ç„¶å¦‚æœåœ¨ç›´çº¿ä¸Šé‚£ä¹ˆæƒå€¼ä¹Ÿæ˜¯ 1ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥ç®€å•çš„å‘ç°æœ‰è§£å½“ä¸”ä»…å½“æœ‰ä¸¤æ¡å¯¹è¾¹æƒå€¼å‡ä¸º 1ã€‚è¿™æ ·åšæ˜¾ç„¶æ˜¯å¯¹çš„ã€‚ ä¸‹é¢æ˜¯ä¸€å¼ é¢˜è§£ä¸­çš„å›¾ç‰‡ã€‚ è¿™æ ·ä½ å°±ä¼š O(nq)O(nq)O(nq) äº†ã€‚ç”±äºæ˜¯å¼ºåˆ¶åœ¨çº¿æ‰€ä»¥æ•°æ®ç»“æ„ä¹‹ç±»çš„åŸºæœ¬å°± GG äº†ã€‚äºæ˜¯ä½ è€ƒè™‘å‘æ˜æ›´å¤šçš„æ€§è´¨ã€‚å¦‚æœä½ åœ¨è°ƒè¯•çš„æ—¶å€™è¾“å‡ºäº†ç­”æ¡ˆåºåˆ— æˆ–è€…ä»”ç»†æ€è€ƒæœ‰æœ‰æƒŠäººçš„æ³¨æ„åŠ›ä½ å°±ä¼šå‘ç°æ‰€æœ‰çš„æƒå€¼ä¸º 1 çš„è¾¹ç¼–å·æ˜¯è¿ç»­çš„ã€‚ä»”ç»†æƒ³æƒ³è‡ªè¯ä¸éš¾éå¸¸æœ‰é“ç†ã€‚æ‰€ä»¥ä½ çš„ç­”æ¡ˆåºåˆ—å°±éå¸¸å¥½çœ‹äº†ã€‚ æ¥ä¸‹æ¥è®²è®²æˆ‘çš„è ¢ç¬¨åšæ³•ã€‚ åˆ†ç±»è®¨è®ºï¼Œå¦‚æœç­”æ¡ˆåºåˆ—é¦–å°¾ä¸ç›¸åŒï¼Œé‚£ä¹ˆç›´æ¥äºŒåˆ†å°±å¥½äº†ï¼ å¦‚æœé¦–ä½ç›¸åŒï¼Œå† checkâ¡\\operatorname{check}check ä¸€ä¸‹ n/2+1n/2+1n/2+1 è¿™ä¸ªä½ç½®ã€‚å¦‚æœå’Œåºåˆ—å¼€å¤´æƒå€¼æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆå¦‚æœå…¨ä¸º 1 ç­”æ¡ˆå°±æ˜¯ Yes å¦åˆ™å°±æ˜¯ Noï¼ˆè¿™ä¸ªå¯ä»¥è€ƒè™‘å­˜åœ¨ç­”æ¡ˆé•¿åº¦ï¼‰ã€‚å¦‚æœä¸åŒçš„è¯ï¼Œé‚£ä¹ˆæ˜¾ç„¶çš„å°±åˆå˜æˆäº†ç¬¬ä¸€ç§æƒ…å†µï¼Œç›´æ¥äºŒåˆ†å°±å¥½äº†ï¼ åšå®Œäº†ï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogâ¡n)O(n\\log n)O(nlogn)ã€‚ ä¸€å®šä¸€å®šè¦æ³¨æ„ xi=xi+1x_i = x_{i+1}xiâ€‹=xi+1â€‹ è¿™éƒ¨åˆ†çš„ç»†èŠ‚ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e5 + 10; struct node{ int x, y; }; node a[MAX]; const double eps = 1e-10; int n; bool check(int i, int x, int y){ int now = i, now2 = i + 1; if(i == n) now2 = 1; bool fl = 0; if(a[now].x &gt; a[now2].x){ fl = 1; }else if(a[now].x == a[now2].x){ int now3 = now - 1; if(now3 &lt; 1){ now3 = now2 + 1; fl = (a[now2].x &gt; a[now3].x); now = now2; now2 = now3; }else{ fl = (a[now3].x &gt; a[now].x); now2 = now; now = now3; } } double k = double(a[now].y - a[now2].y) / double(a[now].x - a[now2].x); double b = double(a[now].y) - k * double(a[now].x); if(abs(double(k) * x + b - y) &lt;= eps) return true; else if((double(k) * x + b &lt;= y) ^ fl) return true; else return false; } void solve(){ n = read(); for(int i = 1; i &lt;= n; i++){ a[i].x = read(), a[i].y = read(); } int q = read(); int pre = 0; while(q--){ int x = read(), y = read(); x = x ^ (pre * pre * pre); y = y ^ (pre * pre * pre); bool fl1 = check(1, x, y), fl2 = check(n, x, y); if(fl1 and !fl2){ int l = 1, r = n; int ans = 1; while(l &lt;= r){ int mid = (l + r) &gt;&gt; 1; if(check(mid, x, y)){ l = mid + 1; ans = mid; }else{ r = mid - 1; } } if(ans &gt; n / 2){ puts(&quot;Yes&quot;); pre++; }else{ puts(&quot;No&quot;); } }else if(!fl1 and fl2){ int l = 1, r = n; int ans = 1; while(l &lt;= r){ int mid = (l + r) &gt;&gt; 1; if(!check(mid, x, y)){ l = mid + 1; ans = mid; }else{ r = mid - 1; } } if(ans &lt; n / 2){ puts(&quot;Yes&quot;); pre++; }else{ puts(&quot;No&quot;); } }else{ bool fl3 = check(n / 2 + 1, x, y); if(fl3 == fl1){ if(fl1){ puts(&quot;Yes&quot;); pre++; }else{ puts(&quot;No&quot;); } }else{ int l = n / 2 + 1, r = n, ansr = n / 2 + 1; while(l &lt;= r){ int mid = (l + r) &gt;&gt; 1; if(check(mid, x, y) == fl3){ l = mid + 1, ansr = mid; }else{ r = mid - 1; } } l = 1, r = n / 2 + 1; int ansl = n / 2 + 1; while(l &lt;= r){ int mid = (l + r) &gt;&gt; 1; if(check(mid, x, y) == fl3){ ansl = mid; r = mid - 1; }else{ l = mid + 1; } } if(fl3){ if((ansr - ansl + 1) &gt; n / 2){ puts(&quot;Yes&quot;); pre++; }else{ puts(&quot;No&quot;); } }else{ if((ansr - ansl + 1) &lt; n / 2){ puts(&quot;Yes&quot;); pre++; }else{ puts(&quot;No&quot;); } } } } } } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-17-cspjplussimulation","feature":"","link":"https://WRuperD.github.io/post/2024-10-17-cspjplussimulation/","stats":{"text":"6 min read","time":326000,"words":1069,"minutes":6},"date":"2024-10-17 19:06:29","dateFormat":"2024-10-17"},{"abstract":"","content":"è”è€ƒé¢˜ç›®ä¸€é“ é¢˜è§£ ç›´æ¥æ¥å§ï¼ é¦–å…ˆæˆ‘ä»¬æœ‰å¼å­ fi,j=minâ¡(fi+1,j,ai+maxâ¡(fi+1,jâˆ’1,bi))f_{i,j} = \\min(f_{i+1,j},a_i+\\max(f_{i+1,j-1},b_i))fi,jâ€‹=min(fi+1,jâ€‹,aiâ€‹+max(fi+1,jâˆ’1â€‹,biâ€‹)) å…¶ä¸­ bib_ibiâ€‹ é€’å‡ã€‚ è®¾ ttt è¡¨ç¤ºæœ€å¤§çš„ jjj ä½¿å¾— fi,jâˆ’1â‰¤bif_{i,j-1} \\leq b_ifi,jâˆ’1â€‹â‰¤biâ€‹ã€‚ å½“ j&lt;tj &lt; tj&lt;t åˆ™ fi,j=minâ¡(fi+1,j,ai+bi)fi,j=fi+1,j\\begin{aligned} f_{i,j} &amp;= \\min(f_{i+1,j},a_i+b_i) \\\\ f_{i,j} &amp;= f_{i+1,j} \\end{aligned} fi,jâ€‹fi,jâ€‹â€‹=min(fi+1,jâ€‹,aiâ€‹+biâ€‹)=fi+1,jâ€‹â€‹ éå¸¸å¥½çš„æ€§è´¨ã€‚è€Œä¸”è¿™ä¸ª bib_ibiâ€‹ åè¿‡æ¥ dpâ¡\\operatorname{dp}dp çš„è¯å°±æ˜¯é€’å¢çš„ï¼Œè€Œ fi,jâ‰¥fi+1,jf_{i,j} \\geq f_{i+1,j}fi,jâ€‹â‰¥fi+1,jâ€‹ æ‰€ä»¥ ttt ä¹Ÿæ˜¯é€’å¢çš„ã€‚ å‰©ä¸‹éƒ¨åˆ†çš„å½¢å¼ä¸º ï¼š fi,j=minâ¡(fi+1,j,ai+fi+1,jâˆ’1)f_{i,j} = \\min(f_{i+1,j},a_i+f_{i+1,j-1}) fi,jâ€‹=min(fi+1,jâ€‹,aiâ€‹+fi+1,jâˆ’1â€‹) è¿™é‡Œä¸ºäº†å½¢å¼åŒæ„ä¸å¦¨ä»¤ fi+1,tâˆ’1=bif_{i + 1,t-1} = b_ifi+1,tâˆ’1â€‹=biâ€‹ã€‚ ç„¶åå°±æ˜¯è¿™éƒ¨åˆ†é‡Œé¢ fi,jf_{i,j}fi,jâ€‹ æ˜¾ç„¶æ˜¯æ»¡è¶³å‡¸æ€§çš„ã€‚æ‰€ä»¥è€ƒè™‘ç±»ä¼¼ä¸ slope trickã€‚ç»´æŠ¤ä¸Šå‡¸å£³ï¼Œå‡¸å£³ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ä¸º (j,fi,j)(j,f_{i,j})(j,fi,jâ€‹)ã€‚é‚£ä¹ˆæˆ‘ä»¬æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³é€‰æ‹©åé¢é‚£ä¸ªè½¬ç§»çš„ç‚¹ï¼Œç›¸å½“äºå¢åŠ ä¸€æ¡æ–œç‡ä¸º aia_iaiâ€‹ çš„è¾¹ï¼Œç„¶åå‰©ä¸‹éƒ¨åˆ†æ•´ä½“å¹³ç§»ã€‚è¿™å¯ä»¥ç›´æ¥ä¼˜å…ˆé˜Ÿåˆ—åšåˆ°ã€‚æ„Ÿè§‰éå¸¸éå¸¸çš„å¦™å•Šã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e3 + 10; struct node{ int a, b; }; node a[MAX]; bool cmp(node x, node y){ return x.b &gt; y.b; } int n; int f[MAX]; void solve(){ n = read(); for(int i = 1; i &lt;= n; i++){ a[i].a = read(), a[i].b = read(); } sort(a + 1, a + n + 1, cmp); for(int i = 1; i &lt;= n; i++) f[i] = inf; f[0] = 0; priority_queue &lt;int, vector &lt;int&gt;, greater&lt;int&gt;&gt; que; que.push(inf); int now = 0, t = 0; for(int i = n; i &gt;= 1; i--){ while(que.top() + now &lt;= a[i].b){ now = now + que.top(); que.pop(); f[++t] = now; } if(que.top() != inf){ int u = que.top(); que.pop(); que.push(u + now - a[i].b); } que.push(a[i].a), now = a[i].b; } while(t &lt; n){ now = now + que.top(); que.pop(); f[++t] = now; } for(int i = 1; i &lt;= n; i++){ write(f[i]), put(); }endl; } signed main(){ freopen(&quot;chef.in&quot;, &quot;r&quot;, stdin); freopen(&quot;chef.out&quot;, &quot;w&quot;, stdout); int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-16-solution-noipsimulation","feature":"","link":"https://WRuperD.github.io/post/2024-10-16-solution-noipsimulation/","stats":{"text":"4 min read","time":227000,"words":690,"minutes":4},"date":"2024-10-16 19:48:28","dateFormat":"2024-10-16"},{"abstract":"","content":"The 3rd Universal Cup. Stage 1: St. Petersburg Problem A Element-Wise Comparison é¢˜è§£ orz yhm. è®°å½•ä¸€ä¸‹è¿™ä¸ª Trickã€‚é¦–å…ˆè¿™ä¸ªæ•°æ®èŒƒå›´å°±å¾ˆå¯ä»¥ bitset ä¹±æã€‚æ‰€ä»¥ä½ è€ƒè™‘å¯¹äºæ¯ä¸ªä½ç½®æ±‚å‡ºæœ‰å“ªäº›ä½ç½® aj&gt;aia_j &gt; a_iajâ€‹&gt;aiâ€‹ ç„¶åæ˜¯ä¸€ä¸ªåŒºé—´å¼‚æˆ–ã€‚ æœ‰ä¸€ä¸ªç®€å•çš„æ–¹å¼æ˜¯æ³¨æ„åˆ°å¦‚æœ mmm æ˜¯å›ºå®šçš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¯¹åºåˆ—åˆ†å—ï¼Œæ¯ m,m,m, ä¸ªä¸€ç»„ã€‚è¿™æ ·å­ä¸€ä¸ªåŒºé—´å¼‚æˆ–å¿…å®šè·¨è¿‡1-2ä¸ªåŒºé—´ã€‚é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥åŒºé—´å‰åç¼€å¼‚æˆ–å°±è¡Œäº†ã€‚æˆ‘è§‰å¾—æ˜¯å¾ˆå·§å¦™çš„ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e4 + 10; bitset &lt;MAX&gt; f[MAX], suf[MAX], nxt[MAX]; int a[MAX], pre[MAX]; void solve(){ int n = read(), m = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); pre[a[i]] = i; } for(int i = n - 1; i &gt;= 1; i--){ f[pre[i]] = f[pre[i + 1]]; f[pre[i]][pre[i + 1] - 1] = 1; } // for(int i = 1; i &lt;= n; i++){ // for(int j = 0; j &lt; n; j++){ // write(f[i][j]), put(); // }endl; // } // endl; for(int i = 1; i &lt;= n; i++){ f[i] = (f[i] &gt;&gt; (i)); } // for(int i = 1; i &lt;= n; i++){ // for(int j = 0; j &lt; n; j++){ // write(f[i][j]), put(); // }endl; // } // endl; for(int i = 1; i &lt;= n; i++){ if(i % m == 0) suf[i] = f[i]; else suf[i] = (f[i] &amp; suf[i - 1]); } // 0111 // 1100 // 0011 // 1100 // 0001 for(int i = n; i &gt;= 1; i--){ if(i % m == 0) nxt[i] = f[i]; else nxt[i] = (f[i] &amp; nxt[i + 1]); } int ans = 0; for(int i = 1; i + m - 1 &lt;= n; i++){ ans += (nxt[i] &amp; suf[i + m - 1]).count(); } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-16-solution-qoj8781","feature":"","link":"https://WRuperD.github.io/post/solution-qoj8781/","stats":{"text":"3 min read","time":157000,"words":477,"minutes":3},"date":"2024-10-16 19:16:58","dateFormat":"2024-10-16"},{"abstract":"","content":"æ˜¯è¿™æ ·çš„ï¼Œçœ‹ä¸ªå›½è¶³ï¼Œçœ‹åˆ°äº†ï¼š ","tags":[{"name":"é²œèŠ±","slug":"tMU1QJpF3","used":true,"link":"https://WRuperD.github.io/tag/tMU1QJpF3/"}],"title":"2024-10-15 é²œèŠ±","feature":"","link":"https://WRuperD.github.io/post/2024-10-15-xian-hua/","stats":{"text":"1 min read","time":2000,"words":11,"minutes":1},"date":"2024-10-15 21:51:51","dateFormat":"2024-10-15"},{"abstract":"","content":"æœ¬é¢˜è§£åŒæ­¥å‘è¡¨äºæˆ‘çš„åšå®¢ä¸­ ç¬¬ä¸€æ¬¡åœºåˆ‡ ARC Eã€‚æä¾›ä¸€ç§ç®€å•æ€è€ƒè§’åº¦çš„è§£æ³•ã€‚ é¦–å…ˆè€ƒè™‘ mâˆ’1m -1mâˆ’1 çš„ç­”æ¡ˆæ¨åˆ° mmm çš„ç­”æ¡ˆã€‚å‘ç° Ansm=2Ansmâˆ’1+âˆ‘i=1mâˆ’1gcdâ¡(ai,am)â‹…2iâˆ’1Ans_{m} = 2Ans_{m-1}+ \\sum\\limits_{i=1}^{m-1} \\operatorname{gcd}(a_i,a_m) \\cdot 2^{i-1}Ansmâ€‹=2Ansmâˆ’1â€‹+i=1âˆ‘mâˆ’1â€‹gcd(aiâ€‹,amâ€‹)â‹…2iâˆ’1ã€‚ è§‚å¯Ÿåˆ° O(nV)O(n\\sqrt V)O(nVâ€‹) å¯è¿‡äºæ˜¯è€ƒè™‘æšä¸¾ âˆ‘gcdâ¡(ai,am)=xxâ‹…posx\\sum \\limits_{\\operatorname{gcd}(a_i, a_m) = x} x \\cdot pos_xgcd(aiâ€‹,amâ€‹)=xâˆ‘â€‹xâ‹…posxâ€‹ å…¶ä¸­ posx=âˆ‘i=1mâˆ’1[gcdâ¡(ai,am)=x]â‹…ipos_x = \\sum \\limits_{i=1}^{m-1} [\\operatorname{gcd}(a_i,a_m) = x] \\cdot iposxâ€‹=i=1âˆ‘mâˆ’1â€‹[gcd(aiâ€‹,amâ€‹)=x]â‹…iã€‚ ä½†æ˜¯å‘ç°ä½ æ²¡åŠæ³•å¿«é€Ÿç¡®å®š posxpos_xposxâ€‹ çš„å€¼ã€‚æ‰€ä»¥ä½ è€ƒè™‘ç›´æ¥å®¹æ–¥ã€‚æšä¸¾ ama_mamâ€‹ çš„å› æ•° dddã€‚ âˆ‘gcdâ¡(ai,am)=xxâ‹…posx=âˆ‘dâˆ£ai,dâˆ£amwdâ‹…posd\\sum \\limits_{\\operatorname{gcd}(a_i, a_m) = x} x \\cdot pos_x = \\sum \\limits_{d| a_i, d | a_m} w_d \\cdot pos_d gcd(aiâ€‹,amâ€‹)=xâˆ‘â€‹xâ‹…posxâ€‹=dâˆ£aiâ€‹,dâˆ£amâ€‹âˆ‘â€‹wdâ€‹â‹…posdâ€‹ æ¥ä¸‹æ¥è€ƒè™‘ wdw_dwdâ€‹ çš„æ„ä¹‰ã€‚å‘ç°å¦‚æœ ddd å°±æ˜¯ gcdâ¡(ai,am)\\operatorname{gcd}(a_i,a_m)gcd(aiâ€‹,amâ€‹) çš„è¯é‚£ä¹ˆæ‰€æœ‰ ddd çš„å› æ•°çš„è´¡çŒ®éƒ½ä¼šå†æ¬¡è¢«ç®—ä¸€éã€‚æ‰€ä»¥å¯ä»¥ç®€å•çš„çœ‹å‡º: wx=xâˆ’âˆ‘dâˆ£xwdw_x = x - \\sum \\limits_{d|x} w_d wxâ€‹=xâˆ’dâˆ£xâˆ‘â€‹wdâ€‹ é¢„å¤„ç†æ‰€æœ‰çš„ www å°±åšå®Œäº†ã€‚ ä¸æ˜¯å¾ˆæ‡‚ä¸ºå•¥å¤§å®¶éƒ½æ˜¯è«ååšæ³•ã€‚ // Problem: E - Adjacent GCD // URL: https://atcoder.jp/contests/arc185/tasks/arc185_e // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e5 + 10; const int MAX2 = 1e5 + 10; const int mod = 998244353; int a[MAX]; int w[MAX]; int cnt[MAX]; void solve(){ int n = read(); // write(w[2]), endl; for(int i = 1; i &lt;= n; i++){ a[i] = read(); } int preans = 0; int now = 1; for(int i = 1; i &lt;= n; i++){ preans = preans * 2 % mod; // write(preans), endl; for(int j = 1; j * j &lt;= a[i]; j++){ if(a[i] % j) continue; preans = (preans + w[j] * cnt[j] % mod) % mod; if(a[i] / j != j) preans = (preans + w[a[i] / j] * cnt[a[i] / j] % mod) % mod; } for(int j = 1; j * j &lt;= a[i]; j++){ if(a[i] % j) continue; cnt[j] = (cnt[j] + now) % mod; if(a[i] / j != j) cnt[a[i] / j] = (cnt[a[i] / j] + now) % mod; } write(preans), endl; now = now * 2 % mod; } } signed main(){ for(int i = 1; i &lt;= MAX2; i++){ w[i] = i; if(i == 1) continue; for(int j = 1; j * j &lt;= i; j++){ if(i % j) continue; w[i] = (w[i] + mod - w[j]) % mod; if(i / j != j and j &gt; 1) w[i] = (w[i] + mod - w[i / j]) % mod; } } int t = 1; while(t--) solve(); return 0; } ","tags":[],"title":"[ARC185E] Adjacent GCD é¢˜è§£","feature":"https://WRuperD.github.io/post-images/arc185e-adjacent-gcd-ti-jie.gif","link":"https://WRuperD.github.io/post/arc185e-adjacent-gcd-ti-jie/","stats":{"text":"4 min read","time":224000,"words":670,"minutes":4},"date":"2024-10-15 16:04:23","dateFormat":"2024-10-15"},{"abstract":"","content":"è®°å½•ä¸€ä¸‹è¿™ä¸ªç‰›é€¼çš„ Trickã€‚å·²ç»æ˜¯ç¬¬äºŒæ¬¡åœ¨è”è€ƒä¸­è§åˆ°äº†ã€‚ è€ƒè™‘å¦‚ä½•åˆ»ç”»ä¸€ä¸ªå¹³é¢ä¸Šçš„å°é—­å›¾å½¢çš„é¢ç§¯ã€‚è€ƒè™‘æ‹†è´¡çŒ®ï¼Œå¯¹äºæ¯æ¡è¾¹ï¼ˆçº¿æ®µï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç®—æ‰€æœ‰è¾¹ä¸åŸç‚¹çš„å‰ç§¯ä¹‹å’Œæ¥æ±‚å‡ºæ€»é¢ç§¯ã€‚ ç„¶è€Œåœ¨ç½‘æ ¼å›¾ä¸­ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæ›´åŠ ç‰›é€¼çš„åˆ»ç”»æ–¹å¼ã€‚å³åªç®—æ¯æ¡å‘å·¦å’Œå‘å³è¾¹çš„è´¡çŒ®ã€‚ä¸å¦¨è®¾æ•´ä¸ªå›¾å½¢åœ¨ xxx è½´ä¸Šæ–¹ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥ç”¨æ‰€æœ‰å‘å³è¾¹çš„æ¨ªåæ ‡ä¹‹å’Œå‡å»æ‰€æœ‰å‘å·¦åæ ‡çš„æ¨ªåæ ‡ä¹‹å’Œã€‚ ","tags":[],"title":"2024-10-14-solution-æ¨¡æ‹Ÿèµ›é¢˜ä¸€é“","feature":"","link":"https://WRuperD.github.io/post/2024-10-14-solution-mo-ni-sai-ti-yi-dao/","stats":{"text":"1 min read","time":31000,"words":155,"minutes":1},"date":"2024-10-14 19:34:34","dateFormat":"2024-10-14"},{"abstract":"","content":"The 3rd Universal Cup. Stage 10: West Lake Problem C Permutation é¢˜è§£ åœºä¸Šä¸ºé˜Ÿä¼åšå‡ºçš„å”¯ä¸€è´¡çŒ®ã€‚ è€ƒè™‘å…¶å®ä½ ç›´æ¥æ¯ä¸€ä¸ªæ•°å»äºŒåˆ†æ€»æ¬¡æ•°æ˜¯ nlogâ¡n=10000n\\log n = 10000nlogn=10000 å…¶å®å·®çš„ä¸æ˜¯å¤ªå¤šäº†ã€‚ æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œä½†æ˜¯æ„Ÿè§‰ä½ æ¯ä¸€ä¸ªæ•°æ¯ä¸€ä¸ªæ•°çš„å»åšéå¸¸çš„äºã€‚ ç„¶åæ¯æ¬¡ä½ éšæœºæ‹‰å‡ºä¸¤ä¸ªæ•°ï¼Œä¸¤ä¸ªä¸€èµ·åšä¸‹å»ã€‚ä½ å»æš´åŠ›è¯¢é—®å·¦è¾¹é‚£ä¸ªæ•°çš„å¯èƒ½åŒºé—´çš„å·¦åŠè¾¹æ‹¼ä¸Šå³è¾¹é‚£ä¸ªæ•°å¯èƒ½åŒºé—´çš„å³åŠè¾¹ï¼Œå¦‚æœè¿™æ˜¯è¯¢é—®ä¸º 222 æˆ–è€… 000 æˆ‘ä»¬å°±çœäº†ä¸€æ¬¡æ“ä½œã€‚è¿™å¾ˆå¥½ï¼Œå¤§è‡´å¯ä»¥è¾¾åˆ° 34nlogâ¡n{3\\over4}n \\log n43â€‹nlogn æ¬¡æ“ä½œã€‚æˆ‘ä»¥ä¸ºå¦‚æœä½ å‰ªå‰ªæè¿˜æ˜¯èƒ½è¿‡å¾—ã€‚å†™å‡ºæ¥å¯„äº†ã€‚ ç„¶åæ‰”ç»™ @yhddd ä¸€çœ‹å‘ç°è¿™æ ·éå¸¸äºï¼Œä½ ä¸å¦‚ç›´æ¥æ•´ä½“äºŒåˆ†ï¼Œç„¶åä½ è¦æ˜¯å·¦åŠè¾¹å¡«æ»¡äº†å³è¾¹çš„æ•°ä¹Ÿå°±ç›´æ¥ç¡®å®šäº†ã€‚è¿™æ ·å­åšæ¯”è¾ƒä¼˜ç§€ï¼Œè€Œä¸”å¯ä»¥è®©ä½ å¯ä»¥å°½å¯èƒ½å¤šçš„æ‹‰å‡ºä¸¤ä¸ªæ•°ï¼Œå°½ç®¡è¿™ä¸œè¥¿ç†è®ºä¸Šè¿˜æ˜¯ 34nlogâ¡n{3\\over4}n \\log n43â€‹nlogn æ¬¡æ“ä½œçš„ã€‚è¿™æ˜¯å¯è¿‡çš„ã€‚å°½ç®¡è¦æ˜¯ä½ éšæœºå¤šå‡ æ¬¡è¿˜æ˜¯æœ‰å¯èƒ½è¶…è¿‡æ¬¡æ•°é™åˆ¶ã€‚codeã€‚ å…¶å®æ­£è§£ä¹Ÿå¾ˆç®€å•ï¼Œèµ›æ—¶ä¹Ÿå‡ ä¹æƒ³åˆ°äº†ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°è¿™æ ·å­åšå¯ä»¥é™ä½æ¬¡æ•°ã€‚å°±æ˜¯ä½ å‘ç°å…¶å®å¦‚æœè¯¢é—®ç»“æœä¸º 111 çš„è¯é‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°ä¸€å®šå±äºåŒä¸€åŠè¾¹ã€‚æ‰€ä»¥ä½ ç›´æ¥åˆå¹¶èµ·æ¥ï¼Œç»§ç»­æ“ä½œã€‚è¿™æ ·åšå°±å¯ä»¥ä¸¥æ ¼ä½äº 666666666666 æ¬¡æ“ä½œäº†ã€‚ä»£ç æ²¡å†™ã€‚è¿‡äº†å°±è¡Œã€‚ ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-03-solution-ucup-season3-stage10-C","feature":"","link":"https://WRuperD.github.io/post/2024-10-03-solution-ucup-season3-stage10-c/","stats":{"text":"2 min read","time":90000,"words":415,"minutes":2},"date":"2024-10-03 19:27:12","dateFormat":"2024-10-03"},{"abstract":"","content":"[ARC122D] XOR Game é¢˜è§£ å¼±æ™ºé¢˜ï¼Œä¸çŸ¥é“æ€ä¹ˆè¯„çš„ *2300ã€‚ ä»é«˜ä½å¾€ä½ä½è€ƒè™‘ï¼Œå¦‚æœå½“å‰ä½æ•°ä¸º 111 çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆæ˜¾ç„¶ç­”æ¡ˆåœ¨è¿™ä¸€ä½ä¸º 111ã€‚ç›¸å½“äºæ±‚è¿™ä¸€ä½ä¸º 111 å’Œä¸º 222 çš„æ•°ä¸¤ä¸¤çš„æœ€å°å¼‚æˆ–å€¼ã€‚ä½¿ç”¨ 01 Tire è§£å†³ã€‚ å¦‚æœä¸ºå¶æ•°é‚£ä¹ˆç›´æ¥é€’å½’æ±‚è§£ã€‚ // Problem: [ARC122D] XOR Game // URL: https://www.luogu.com.cn/problem/AT_arc122_d // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 4e5 + 10; int to[MAX * 40][2]; int psz; int a[MAX]; void insert(int x){ int now = 0; for(int i = 31; i &gt;= 0; i--){ if(to[now][(((1ll &lt;&lt; i) &amp; x) != 0)] == -1){ to[now][(((1ll &lt;&lt; i) &amp; x) != 0)] = ++psz; now = psz; to[psz][0] = to[psz][1] = -1; }else{ now = to[now][(((1ll &lt;&lt; i) &amp; x) != 0)]; } } } int check(int x){ int now = 0, ans = 0; for(int i = 31; i &gt;= 0; i--){ if(to[now][(((1ll &lt;&lt; i) &amp; x) != 0)] == -1){ ans = ans + (1ll &lt;&lt; i); now = to[now][(((1ll &lt;&lt; i) &amp; x) == 0)]; }else{ now = to[now][(((1ll &lt;&lt; i) &amp; x) != 0)]; } } return ans; } int solve2(int l, int r, int x){ if(x &lt; 0) return 0; int mid = 0; for(int i = l; i &lt;= r; i++){ if(!(a[i] &amp; (1ll &lt;&lt; x))) mid = i; } if(!mid or mid == r){ return solve2(l, r, x - 1); } if((r - mid) % 2 == 0){ return max(solve2(l, mid, x - 1), solve2(mid + 1, r, x - 1)); } psz = 0; to[0][1] = to[0][0] = -1; for(int i = mid + 1; i &lt;= r; i++){ insert(a[i]); } int ans = inf; for(int i = l; i &lt;= mid; i++){ ans = min(ans, check(a[i])); } return ans; } void solve(){ int n = read(); for(int i = 1; i &lt;= 2 * n; i++){ a[i] = read(); } sort(a + 1, a + 2 * n + 1); write(solve2(1, 2 * n, 31)), endl;; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-02-solution-arc122d","feature":"","link":"https://WRuperD.github.io/post/2024-10-02-solution-arc122d/","stats":{"text":"3 min read","time":170000,"words":492,"minutes":3},"date":"2024-10-02 19:26:44","dateFormat":"2024-10-02"},{"abstract":"","content":"[ARC121E] Directed Tree é¢˜è§£ å…¶å®ä¸å¤ªéš¾çš„é¢˜ç›®ã€‚ é¦–å…ˆé¢˜ç›®æ¡ä»¶ç­‰ä»·äº aia_iaiâ€‹ ä¸èƒ½æ˜¯ iii çš„çˆ¶äº²ã€‚æ˜¾ç„¶å¯ä»¥å®¹æ–¥ï¼Œè®¾ fi,jf_{i,j}fi,jâ€‹ è¡¨ç¤ºè€ƒè™‘åˆ°äº†èŠ‚ç‚¹ iii é’¦å®š jjj ä¸ªèŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€‚å‘ç°å¦‚æœæ˜¯è€ƒè™‘ä¸€ä¸ªç‚¹å¾€å®ƒå‘çˆ¶äº²çš„é“¾é€‰ä¸€ä¸ªç‚¹è¿™æ ·ç®—æ–¹æ¡ˆæ•°éå¸¸æ²¡æœ‰å‰é€”ã€‚ç„¶åæ˜¯ä¸€æ­¥é«˜å¦™è½¬æ¢ï¼Œè€ƒè™‘æˆ‘ä»¬åœ¨ aia_iaiâ€‹ ç»Ÿè®¡ç­”æ¡ˆè€Œä¸æ˜¯åœ¨ iiiã€‚è¿™æ ·æˆ‘ä»¬è®¾ fu,if_{u,i}fu,iâ€‹ è¡¨ç¤º uuu å­æ ‘å†… iii ä¸ªèŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€‚æ˜¾ç„¶å¯ä»¥æ ‘å½¢èƒŒåŒ…è½¬ç§»: fu,iâ‹…fv,jâ†’fu,i+jf_{u,i} \\cdot f_{v,j} \\to f_{u,i+j} fu,iâ€‹â‹…fv,jâ€‹â†’fu,i+jâ€‹ æ³¨æ„è¿™é‡Œ j&gt;0j &gt; 0j&gt;0ã€‚ç„¶åæˆ‘ä»¬é’¦å®š ai=ua_i = uaiâ€‹=u äº§ç”ŸçŸ›ç›¾ã€‚ fu,iâ‹…(sizuâˆ’1âˆ’i)â†’fu,i+1f_{u,i} \\cdot (siz_u - 1 - i) \\to f_{u,i+1} fu,iâ€‹â‹…(sizuâ€‹âˆ’1âˆ’i)â†’fu,i+1â€‹ å¤æ‚åº¦æ˜¯ O(n2)O(n^2)O(n2)ã€‚ // Problem: [ARC121E] Directed Tree // URL: https://www.luogu.com.cn/problem/AT_arc121_e // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 2e3 + 10; const int mod = 998244353; vector &lt;int&gt; g[MAX]; int siz[MAX]; int f[MAX][MAX]; int pre[MAX][MAX]; void dfs(int u){ siz[u] = 1; f[u][0] = pre[u][0] = 1; for(int v : g[u]){ dfs(v); for(int j = 0; j &lt;= siz[u]; j++){ for(int k = 1; k &lt;= siz[v]; k++){ pre[u][j + k] = (pre[u][j + k] + f[u][j] * f[v][k] % mod) % mod; } } siz[u] += siz[v]; for(int j = 0; j &lt;= siz[u]; j++) f[u][j] = pre[u][j]; } for(int i = siz[u]; i &gt;= 1; i--){ f[u][i] = (f[u][i] + f[u][i - 1] * (siz[u] - 1 - (i - 1)) % mod) % mod; } } int fac[MAX]; void solve(){ int n = read(); for(int i = 2; i &lt;= n; i++){ int u = read(); g[u].pb(i); } dfs(1); int pree = 1; fac[0] = 1; for(int i = 1; i &lt;= n; i++) fac[i] = fac[i - 1] * i % mod; int ans = 0; for(int i = 0; i &lt;= n; i++){ f[1][i] = f[1][i] * fac[n - i] % mod; if(i % 2 == 0) ans = (ans + f[1][i]) % mod; else ans = (mod + ans - f[1][i]) % mod; } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-02-solution-arc121e","feature":"","link":"https://WRuperD.github.io/post/2024-10-02-solution-arc121e/","stats":{"text":"4 min read","time":197000,"words":596,"minutes":4},"date":"2024-10-02 19:26:20","dateFormat":"2024-10-02"},{"abstract":"","content":"[ARC121D] 1 or 2 é¢˜è§£ åŸºæœ¬ä¸Šä¼šäº†ã€‚æœ‰è¶£çš„ç‚¹åœ¨äºè½¬æ¢ã€‚ é¦–å…ˆä½ è€ƒè™‘æ¯æ¬¡åªé€‰ 222 ä¸ªç³–çš„ç­”æ¡ˆã€‚è¿™ä¸ªæ˜¯å¥½çŒœçš„ï¼Œæ˜¯ maxâ¡aiâˆ’anâˆ’i+1âˆ’minâ¡aiâˆ’anâˆ’i+1\\max a_i - a_{n-i+1} - \\min a_i - a_{n-i+1}maxaiâ€‹âˆ’anâˆ’i+1â€‹âˆ’minaiâ€‹âˆ’anâˆ’i+1â€‹ã€‚ï¼ˆ aia_iaiâ€‹ æœ‰åºï¼‰ã€‚ ä½†æ˜¯å¯ä»¥æ¯æ¬¡åªé€‰ä¸€ä¸ªå”ã€‚è¿™ä¸ªæœ‰ç‚¹æ£˜æ‰‹ã€‚éšæœºæƒ³ä¸€æƒ³ï¼Œå‘ç°åªé€‰ä¸€ä¸ªç³–ç›¸å½“äºé€‰é‚£ä¸ªå”å’Œä¸€ä¸ªç¾å‘³å€¼ä¸º 000 çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æšä¸¾åŠ å…¥å¤šå°‘ä¸ªç¾å‘³å€¼ä¸º 000 çš„ç³–æœã€‚å¤æ‚åº¦ O(n2logâ¡n)O(n^2\\log n)O(n2logn)ã€‚ // Problem: [ARC121D] 1 or 2 // URL: https://www.luogu.com.cn/problem/AT_arc121_d // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 5e3 + 10; int a[MAX * 2]; int calc(int n){ int minn = inf, maxn = -inf; for(int i = 1; i &lt;= n / 2; i++){ minn = min(minn, a[i] + a[n - i + 1]); maxn = max(maxn, a[i] + a[n - i + 1]); } if(n % 2) minn = min(minn, a[n / 2 + 1]), maxn = max(maxn, a[n / 2 + 1]); return maxn - minn; } void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } sort(a + 1, a + n + 1); int ans = calc(n); for(int i = 1; i &lt;= n; i++){ sort(a + 1, a + n + i + 1); ans = min(ans, calc(n + i)); } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-02-solution-arc121d","feature":"","link":"https://WRuperD.github.io/post/2024-10-02-solution-arc121d/","stats":{"text":"3 min read","time":134000,"words":407,"minutes":3},"date":"2024-10-02 19:25:55","dateFormat":"2024-10-02"},{"abstract":"","content":"[ARC122E] Increasing LCMs é¢˜è§£ æ„é€ é¢˜éƒ½å¤ªç¥ç§˜äº†ï¼Œä¸çœ‹é¢˜è§£éƒ½ä¸ä¼šåšã€‚bonus:æŠ½æ—¶é—´é˜…è¯» https://www.luogu.com/article/o9mj50m1 è€ƒè™‘å¾€ä¸€ä¸ªå·²çŸ¥åºåˆ—é‡ŒåŠ å…¥æœ€åä¸€ä¸ªæ•° aia_iaiâ€‹ éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶?å‘ç°æœ‰ \\operatorname{lcm} \\limits_j a_j &lt; \\operatorname{lcm} \\limits_{j \\ne i} a_jã€‚ æ˜¾ç„¶å¦‚æœæˆ‘ä»¬ä»æœ€åä¸€ä¸ªæ•°å¼€å§‹ç¡®å®šï¼Œé‚£å‰é¢é‚£ä¸ªå€¼æ˜¯ç¡®å®šçš„ã€‚åšå®Œäº†ã€‚ å½“ç„¶ç›´æ¥ç®— lcmâ¡\\operatorname{lcm}lcm æ˜¯éå¸¸è ¢çš„ã€‚æ­£ç¡®çš„åšæ³•æ˜¯ç®— gcdâ¡(aj,ai)\\operatorname{gcd} (a_j,a_i)gcd(ajâ€‹,aiâ€‹) çš„ lcmâ¡\\operatorname{lcm}lcm ä¸ aia_iaiâ€‹ çš„å¤§å°å…³ç³»ã€‚ å‚è€ƒé¢˜è§£ï¼šlink. // Problem: [ARC122E] Increasing LCMs // URL: https://www.luogu.com.cn/problem/AT_arc122_e // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int __int128 #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 105; int a[MAX]; int ret[MAX]; bool vis[MAX]; inline int lcm(int x, int y){ return x * y / __gcd(x, y); } void solve(){ int n = read(); for(int i = 1; i &lt;= n; i++){ a[i] = read(); } for(int i = n; i &gt;= 1; i--){ bool fl = 1; for(int j = 1; j &lt;= n; j++){ if(vis[j]) continue; int now = 1; for(int k = 1; k &lt;= n; k++){ if(vis[k] or k == j) continue; now = lcm(now, __gcd(a[k], a[j])); } if(now != a[j]){ vis[j] = 1; ret[i] = a[j]; fl = 0; break; } } if(fl){ puts(&quot;No&quot;); return ; } } puts(&quot;Yes&quot;); for(int i = 1; i &lt;= n; i++){ write(ret[i]), put(); } endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-arc122e","feature":"","link":"https://WRuperD.github.io/post/solution-arc122e/","stats":{"text":"3 min read","time":137000,"words":417,"minutes":3},"date":"2024-10-01 19:25:01","dateFormat":"2024-10-01"},{"abstract":"","content":"[ARC111F] Do you like query problems? é¢˜è§£ æ€ä¹ˆæ‹–åˆ°ç°åœ¨æ‰å†™ã€‚ æ¨å¼å­é¢˜ç›®ã€‚ é¦–å…ˆå¥—è·¯çš„è½¬ä¸ºæ¦‚ç‡ä¸æœŸæœ›ï¼Œæ¯ä¸€ä½çš„è´¡çŒ®æ˜¾ç„¶æ˜¯ç‹¬ç«‹çš„ï¼Œäºæ˜¯æˆ‘ä»¬ç›´æ¥æ‹†è´¡çŒ®ã€‚ é¦–å…ˆæ¥ç ”ç©¶ä¸€ä¸‹æ“ä½œ 1,21,21,2 å¯¹ aia_iaiâ€‹ çš„å½±å“ã€‚æ‰‹ç©ä¸€ä¸‹å‘ç°è¿™ç›¸å½“äºæœ‰ 121\\over221â€‹ çš„æ¦‚ç‡ aia_iaiâ€‹ ä¸å˜ï¼Œ121\\over221â€‹ çš„æ¦‚ç‡ç­‰æ¦‚ç‡å˜ä¸º [1,mâˆ’1][1,m-1][1,mâˆ’1] ä¸ªæ•°ä¸­çš„ä»»æ„ä¸€ä¸ªæ•°å­—ã€‚è¿™å¾ˆå¥½ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ“ä½œ 1,21,21,2 ä¸€è§†åŒä»äº†ã€‚ äºæ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥ç®—å‡º aia_iaiâ€‹ åœ¨ jjj æ¬¡æ“ä½œåçš„æœŸæœ›æ•°å€¼ã€‚è®¾å…¶ä¸º gi,jg_{i,j}gi,jâ€‹ã€‚é‚£ä¹ˆæœ‰ï¼š gi,0=0gi,j=piâ‹…2m2m+1â‹…12â‹…mâˆ’12+(1âˆ’piâ‹…2m2m+1â‹…12â‹…mâˆ’12)gi,jâˆ’1gi,j=pim2m+1â‹…mâˆ’12+(1âˆ’pim2m+1)gi,jâˆ’1\\begin{aligned} g_{i,0} &amp;= 0\\\\ g_{i,j} &amp;= p_i \\cdot {2m \\over {2m+1}} \\cdot {1\\over2} \\cdot {m-1 \\over 2} + (1-p_i \\cdot {2m \\over {2m+1}} \\cdot {1\\over2} \\cdot {m-1 \\over 2}) g_{i,j-1}\\\\ g_{i,j} &amp;= {p_i m \\over {2m+1}} \\cdot {m-1 \\over 2} + (1-{p_i m \\over {2m+1}}) g_{i,j-1} \\end{aligned} gi,0â€‹gi,jâ€‹gi,jâ€‹â€‹=0=piâ€‹â‹…2m+12mâ€‹â‹…21â€‹â‹…2mâˆ’1â€‹+(1âˆ’piâ€‹â‹…2m+12mâ€‹â‹…21â€‹â‹…2mâˆ’1â€‹)gi,jâˆ’1â€‹=2m+1piâ€‹mâ€‹â‹…2mâˆ’1â€‹+(1âˆ’2m+1piâ€‹mâ€‹)gi,jâˆ’1â€‹â€‹ æ˜¾ç„¶æœ‰å°é—­å½¢å¼ã€‚ï¼ˆè‡ªå·±åšçš„æ—¶å€™å°±æ­¢æ­¥äºæ­¤äº†ã€‚ï¼‰ è€ƒè™‘è®¾ hi=1âˆ’pim2m+1h_i = 1-{p_i m \\over {2m+1}}hiâ€‹=1âˆ’2m+1piâ€‹mâ€‹ åˆ™å¯ä»¥æ¨å‡ºå°é—­å½¢å¼ï¼š gi,j=12(mâˆ’1)(1âˆ’hij)g_{i,j} = {1\\over2}(m-1)(1-{h_i}^j) gi,jâ€‹=21â€‹(mâˆ’1)(1âˆ’hiâ€‹j) æ¥ç€æˆ‘ä»¬è€ƒè™‘ç®—å‡º aia_iaiâ€‹ åœ¨ä¸€æ¬¡æ“ä½œä¸­è¢«é€‰å‡ºæ¥çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆæœ‰ $$p_i = {2i(n-i+1)\\over n(n+1)}$$ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥åˆ—å‡ºæœ€åçš„æœŸæœ›ç­‰äºï¼š âˆ‘i=1npi2m+1âˆ‘j=0qâˆ’1gi,j=âˆ‘i=1npi2m+1â‹…(mâˆ’1)2â‹…(qâˆ’hiqâˆ’1hiâˆ’1)\\sum \\limits_{i=1} \\limits^{n} {p_i \\over 2m+1} \\sum \\limits_{j=0} \\limits^{q-1} g_{i,j} = \\sum \\limits_{i=1} \\limits^{n} {p_i \\over 2m+1} \\cdot {(m-1)\\over2} \\cdot(q-{h_i^q - 1 \\over h_i - 1}) i=1âˆ‘nâ€‹2m+1piâ€‹â€‹j=0âˆ‘qâˆ’1â€‹gi,jâ€‹=i=1âˆ‘nâ€‹2m+1piâ€‹â€‹â‹…2(mâˆ’1)â€‹â‹…(qâˆ’hiâ€‹âˆ’1hiqâ€‹âˆ’1â€‹) ç„¶åå°±æ¨å®Œäº†ã€‚ å‚è€ƒé¢˜è§£ï¼š linkã€‚ // Problem: [ARC111F] Do you like query problems? // URL: https://www.luogu.com.cn/problem/AT_arc111_f // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int mod = 998244353; int quickPower(int a,int b,int p){int base=a,ans=1;while(b){if(b&amp;1)ans*=base,ans%=p;base*=base;base%=p;b&gt;&gt;=1;}return ans;} void solve(){ int n = read(), m = read(), q = read(); int base = quickPower(n * (n + 1) / 2 % mod, mod - 2, mod); int base2 = quickPower((2 * m + 1) % mod, mod - 2, mod); int inv2 = quickPower(2, mod - 2, mod); int ans = 0; for(int i = 1; i &lt;= n; i++){ int px = i * (n - i + 1) % mod * base % mod; // write(px), endl; int now = px * base2 % mod * (m - 1) % mod * inv2 % mod; int now2 = q; int rx = (mod + 1 - px * m % mod * base2 % mod); now2 = (now2 + mod - (quickPower(rx, q, mod) - 1 + mod) % mod * quickPower((rx - 1 + mod) % mod, mod - 2, mod) % mod); now2 %= mod; now = now * now2 % mod; ans = (ans + now) % mod; } int tot = quickPower((n * (n + 1) / 2) % mod * (2 * m + 1) % mod, q, mod); ans = ans * tot % mod; write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2024-10-01-solution-arc111f","feature":"","link":"https://WRuperD.github.io/post/2024-10-01-solution-arc111f/","stats":{"text":"5 min read","time":274000,"words":833,"minutes":5},"date":"2024-10-01 19:24:32","dateFormat":"2024-10-01"},{"abstract":"","content":"é¢˜è§£ï¼šThe 2019 ICPC Asia Nanjing Regional Contestï¼ŒI. Space Station æ¨¡æ‹Ÿèµ›é¢˜ç›®ã€‚ ä¸éš¾æ³¨æ„åˆ° aiâ‰¤50a_i \\leq 50aiâ€‹â‰¤50ã€‚æ‰€ä»¥äº‹å®ä¸Šå¦‚æœä½ ä¸é€‰ ai=0a_i=0aiâ€‹=0 çš„è¯åªéœ€è¦æœ€å¤š 505050 æ­¥å°±é€‰å®Œäº†ã€‚ æ‰€ä»¥è€ƒè™‘æŠŠæ‰€æœ‰ ai=0a_i=0aiâ€‹=0 çš„ç«™ç‚¹å‡ºå»åï¼ˆæœ€åä¹˜å›æ¥å³å¯ï¼Œå¯¹ç­”æ¡ˆçš„è´¡çŒ®æ˜¯å›ºå®šçš„ã€‚ï¼‰ç›´æ¥æš´åŠ›æœç´¢æ‰€æœ‰çš„çŠ¶æ€ã€‚å¤æ‚åº¦å’Œ 505050 çš„æ‹†åˆ†æ•°æœ‰å…³ï¼Œæ‰€ä»¥ä¸ä¼šå¤ªå¤§ã€‚å¤§æ¦‚æ˜¯åœ¨ 5âˆ—1055*10^55âˆ—105 å·¦å³? å®ç°ä¸Šçš„ç»†èŠ‚: ä½¿ç”¨è‡ªç„¶æº¢å‡ºå¯è¿‡ã€‚ å»ºè®®ç”¨ unordered_map // Problem: I. Space Station // URL: https://codeforces.com/gym/103466/problem/I // Writer: WRuperD // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e6 + 10; #define ull unsigned long long const int base = 131, mod = 998244353; int a[MAX]; int pre[MAX]; int cnt[MAX]; unordered_map &lt;ull, int&gt; mp; inline int dfs(int x, int dep){ // write(x), put(), write(dep), endl; if(!dep) return 1; if(x &gt;= 50) return pre[dep]; int ans = 0; ull now = 0; for(int i = 1; i &lt;= 50; i++){ now = (now * (ull)base + (ull)cnt[i]); } if(mp.count(now)) return mp[now]; for(int i = 1; i &lt;= x; i++){ if(cnt[i]){ // puts(&quot;fk&quot;); cnt[i]--; ans = (ans + (cnt[i] + 1) * (dfs(x + i, dep - 1)) % mod) % mod; cnt[i]++; } } mp[now] = ans; return ans; } void solve(){ int n = read(); pre[0] = 1; for(int i = 1; i &lt;= n; i++) pre[i] = pre[i - 1] * i % mod; for(int i = 0; i &lt;= n; i++){ a[i] = read(); if(i) cnt[a[i]]++; } int ans = dfs(a[0], n - cnt[0]); // write(ans), endl; for(int i = n; i &gt;= n - cnt[0] + 1; i--) ans = ans * i % mod; write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-2019ICPCNanjing-Spacetation","feature":"","link":"https://WRuperD.github.io/post/solution-2019icpcnanjing-spacetationmd/","stats":{"text":"3 min read","time":156000,"words":470,"minutes":3},"date":"2024-10-01 19:23:34","dateFormat":"2024-10-01"},{"abstract":"","content":"çˆ½ã€‚æ®è¯´æ˜¯æœ¬æ¥æ¯å¹´æˆ‘æ ¡æœ‰ä¼ ç»Ÿæ ¡é¢†å¯¼è¦å’Œï¼ˆï¼‰çš„å­¦ç”Ÿå…±è¿›åˆé¤ã€‚å› ä¸ºæœ¬æ¥åœ¨å­¦æ ¡é¥­å ‚å¤ªå¯’ç¢œäº†ï¼Œä»å»å¹´å¼€å§‹å°±å˜æˆäº†ç»„ç»‡å­¦ç”Ÿå…è´¹å»ä¸œèç¾æ—æ¹–æ¸©æ³‰é…’åº—åº¦å‡ã€‚æ„Ÿæ©ã€‚ è€ƒå®ŒäºŒæ¨¡ä¹‹åç«‹é©¬å°±å¯åŠ¨äº†ã€‚å µè½¦ 2.5ã€‚ä¸€ç›´åœ¨æ‰“ phigros è‡ªåŠ©æ™šé¤æœ¬æ¥æƒ³æ¯”å¤§èƒƒç‹æ¯”èµ›çš„ï¼Œä½†æ˜¯å¥½åƒæ²¡ä»€ä¹ˆå¥½åƒçš„ï¼Œäºæ˜¯å°±è‡ªå·±åƒæ’‘äº†ã€‚æ™šä¸Šåˆ°æˆ¿é—´å·²ç» 8ï¼š30 äº†ï¼Œäºæ˜¯å†³å®šä¸å»æ³¡æ¸©æ³‰äº†ã€‚å®å†µè¶³çƒå¯åŠ¨ï¼æˆ¿é—´éå¸¸å¤§ã€‚çœ‹ç€çœ‹ç€ç”µè§†æœ‰äººç¿»çª—è¿›æ¥äº†ã€‚ æœ¬æ¥æ‰“ç®—11ï¼š00æ”¶æ‰‹æœºåç›´æ¥å»æ£‹ç‰Œå®¤çš„ï¼Œç»“æœ40æ‰æ¥æ”¶æ‰‹æœºã€‚ã€‚ã€‚ã€‚ã€‚ åˆ·è§†é¢‘çœ‹åˆ°äº†è¿™ä¸ª ç¬¬äºŒå¤©æ—©ä¸Šåƒæ—©é¤æ—¶çªç„¶å¬åˆ°æœ‰äººè¯´ï¼šâ€œè¿™æ˜¯ä»€ä¹ˆå•Š?&quot;ä¸€æŠ¬å¤´çœ‹è§æ‰€æœ‰æ ¡é¢†å¯¼åœ¨çœ‹æˆ‘æ‰“ phigrosï¼ˆï¼ˆï¼ˆï¼ˆ ç¬¬äºŒå¤©è¿˜æ˜¯è¢«æ‹‰å»æ‰“æ—¥æœ¬éº»å°†äº†ã€‚ä¸€æ•´å¤©å°±èƒ¡äº†ä¸€æŠŠ /lh ä¸­åˆé‡‘è‰²å¤§å…åˆé¤ï¼Œ ä¸å¥½åƒã€‚ è¿˜æœ‰ rråˆè§ å¸Œæœ›å­¦å¼Ÿä»¬æ˜å¹´éƒ½èƒ½æ¥æ³¡æ¸©æ³‰ã€‚ ä»€ä¹ˆï¼Œä½ é—®æˆ‘ WHKï¼Ÿå¯„ã€‚ ","tags":[],"title":"5.25é²œèŠ±ä¹‹ç¾æ—æ¹–ä¹‹æ—…","feature":"","link":"https://WRuperD.github.io/post/525-xian-hua-zhi-mei-lin-hu-zhi-lu/","stats":{"text":"2 min read","time":60000,"words":293,"minutes":2},"date":"2024-05-26 14:16:07","dateFormat":"2024-05-26"},{"abstract":"","content":"2.22 è¢«æ‹‰å»æ‰“ div2 æ¨¡æ‹Ÿèµ›ï¼Œä¼šå¹¶å†™äº†200ptsï¼Œæ„Ÿè§‰éå¸¸è‰¯å¥½ã€‚ç„¶åç”µè„‘å°±æ­»æœºäº†ï¼ŒæŒ‚äº† 200 åˆ† /fn /fnã€‚ åœºåˆ‡äº†T4ï¼Œæ„Ÿè§‰è¿˜æ˜¯éå¸¸è‡ªè±ªã€‚ è¿™æ˜¯è¿™åœº T4 çš„solutionã€‚ 2.26 div2 æ¨¡æ‹Ÿèµ›ï¼ŒçŠ¶æ€ä¸æ˜¯å¾ˆå¥½ã€‚mlk AKäº†ã€‚æœ¬æ¥åº”è¯¥æ˜¯ä¼š 200pts çš„ï¼Œä½†æ˜¯æœ€å 1h å¼€æ‘†å¯¼è‡´æˆ‘æ²¡æœ‰æƒ³åˆ° T2 çš„å®Œå…¨æ­£è§£ï¼Œåªä¼š O(n2)O(n^2)O(n2)ã€‚æŒ‚äº† 40ptsã€‚ è¿™æ˜¯è¿™åœº T2 çš„solution 2.28 div2 æ¨¡æ‹Ÿèµ›ï¼ŒçŠ¶æ€ä¸æ˜¯å¾ˆå¥½ã€‚æœ¬æ¥æ˜¯ 200 åˆ†è–„çº±å…¨åœºçš„ï¼Œä½†æ˜¯è¾“å‡ºæ ¼å¼é”™äº†ï¼Œå¯¼è‡´æˆ‘ T1 æŒ‚äº† 95ptsã€‚ ä½†æ˜¯è¿™å‡ å¤©è™½ç„¶æ¯åœºæŒ‚æ‰“åˆ†ï¼Œä½†æ˜¯ç¨³å®š rk3ï¼Œæ€ä¹ˆå›äº‹å‘¢ï¼Ÿ è¿™æ˜¯è¿™åœº T1 çš„solution ä»Šå¹´ç¬¬ä¸€æ¬¡åœ¨ rating ä¸Šå‡æœŸæ‰“ CCF çš„æ¯”èµ›ã€‚æ„Ÿè§‰éå¸¸ä¸é”™ï¼Œæ—¢ä¸Šäº†åˆ†ï¼Œç”±æ”’å¤Ÿäº† rpã€‚ ä½†æ˜¯æ„Ÿè§‰æœ€è¿‘å¿ƒæƒ…ä¸å¤ªå¥½ï¼Œæ€»æ„Ÿè§‰è¿™ä¹ˆæ‰“ä¸‹å»æ˜¯åœ¨æ…¢æ€§æ­»äº¡ã€‚æˆ‘åˆ°åº•ä»€ä¹ˆæ°´å¹³å•Šï¼Ÿ Drifting further everyday 2.29 æ‰“è„¸äº†ï¼Œæ¨¡æ‹Ÿèµ›çˆ†è›‹äº†ã€‚ä½†æ˜¯æ²¡å…³ç³»ã€‚ æ™šä¸Šè¸¢çƒå±…ç„¶æå‰è¢«èµ¶å›æ¥äº† /fn /fn 3.1 è¯•æœºï¼Œé”®ç›˜ä¸é”™ï¼Œä½†æ˜¯å’Œ GDKOI ç›¸æ¯”æ²¡äº†çº¸ç‰Œï¼Œå·®è¯„ã€‚ åˆ°é…’åº—ã€‚åè±å£«ã€‚çœ‹è¿™å°±æ˜¯ä¸­å›½ã€‚å¼ ç»´ä¸ºã€‚ 22ï¼š30ç¡è§‰ã€‚ 3.2 ç»“æŸäº†ï¼Œè¢« Day1T1 åˆ›çˆ†äº†ã€‚T2 æ„Ÿè§‰å¤§æ¦‚ä¼šäº†ï¼Œå¬ yinhee è®²çš„å·®ä¸å¤šï¼Œä½†æ˜¯ä¸ä¼šäºŒåˆ†ã€‚ ä¼°åˆ† 0 + 0 + 0 èººåœ¨åºŠä¸Šå•¥ä¹Ÿä¸æƒ³å¹²ã€‚ç»“æŸäº†ã€‚ å’Œ zzx ä¸€èµ·çœ‹éè¯šå‹¿æ‰°ï¼Œéš¾èšŒã€‚ zlt å¤§ç¥ abc f åˆæ‹¿é¦–æ€ã€‚ 3.3 åœºä¸Šæœ‰ç‚¹å°æ‘†ï¼Œå¿ƒæ€æ¶ˆæã€‚æ„Ÿè§‰T1éå¸¸å¯åšï¼Œæ˜¯æˆ‘ä¸å«æ“…é•¿çš„æ„é€ ã€‚å¾ˆå¿«å°±æŠŠç›´æ¥æ„é€ æ‰”äº†ï¼Œè€ƒè™‘ç›´æ¥dpç»´æŠ¤è½¬ç§»ã€‚å¾ˆå¿«æƒ³å‡ºæ€ä¹ˆæ O(2n)O(2^n)O(2n) çš„çŠ¶æ€ã€‚åˆçªäº†1hå‘ç°è‡ªå·±è²Œä¼¼ä¼šäº†ï¼Œä½†æ˜¯å¯¹åšæ³•æ²¡å•¥ä¿¡å¿ƒã€‚æœ€å1.5hå¼€å§‹ç ç ç ç ç ã€‚æ²¡å†™å‡ºæ¥ï¼Œå¯„ã€‚åˆé¥­æ—¶å‘ç° yinhee æ€è·¯å’Œæˆ‘ä¸€æ¨¡ä¸€æ ·ã€‚è¾“éº»äº†ã€‚ ä¼°åˆ† 0 + 0 + 0 ","tags":[],"title":"Fade To Black - GDOI2024æ¸¸è®°","feature":"","link":"https://WRuperD.github.io/post/fade-to-black-gdoi2024-you-ji/","stats":{"text":"2 min read","time":115000,"words":508,"minutes":2},"date":"2024-03-01 22:26:29","dateFormat":"2024-03-01"},{"abstract":"","content":"å…¸ä½†æ˜¯å¥½çš„æ„é€ é¢˜ã€‚ï¼ˆé™¤äº†åœ¨å¡ç©ºé—´å’Œè¾“å‡ºæ ¼å¼è¿™ä¸¤ç‚¹ä¸Šã€‚ï¼‰ è§‚å¯Ÿä¸€ä¸‹å‘ç°æ¯ä¸€ä¸ªåŒºé—´çš„ç­”æ¡ˆåªå’Œå…¶ä¸­çš„ 0ã€1 æ•°é‡å¥‡å¶æœ‰å…³ã€‚è€ƒè™‘å½“å‰åŒºé—´æ¨å‘ä¸‹ä¸€ä¸ªåŒºé—´ç­”æ¡ˆæ˜¯æ€ä¹ˆå˜åŒ–çš„ï¼Œå‘ç°ä¹‹å’Œ iâŠ•i+ki \\oplus i + kiâŠ•i+k æœ‰å…³ã€‚é¦–å…ˆï¼Œå¦‚æœ 2âˆ¤n2 \\nmid n2âˆ¤n é‚£ä¹ˆæ˜¾ç„¶æ— è§£ã€‚ä¸ç„¶æˆ‘ä»¬è€ƒè™‘æ„é€ å‡ºæ‰€æœ‰ iii å’Œ i+ki+ki+k ä¸ç›¸ç­‰é‚£ä¹ˆå°±å…¨å¯¹äº†ã€‚ è€ƒè™‘ç»å…¸ç»“è®ºï¼Œiii è·³åˆ° (i+k)mod n(i+k) \\mod n(i+k)modn ä¸€å®šä¼šå½¢æˆè‹¥å¹²ä¸ªé•¿åº¦ä¸º gcdâ¡(n,k)\\gcd(n,k)gcd(n,k) çš„ç¯ã€‚å¦‚æœç¯é•¿ä¸ºå¥‡æ•°ï¼ˆç‰¹æ®Šæ€§è´¨ï¼‰é‚£ç›´æ¥æŸ“å°±å®Œäº†ã€‚å¦åˆ™æ‰‹ç©ä¸€ä¸‹ï¼Œæ„Ÿè§‰è®©ä¸€ä¸ªç¯æœ€å¼€å§‹ä¸¤ä¸ªæ•°é‡æ˜¯å¾ˆä¼˜çš„ï¼Œè¦æ˜¯è¿™æ ·ç„¶è¿˜ä¸è¡Œï¼Œé‚£å°±çœŸæ— è§£äº†ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 8488609; bool a[MAX]; void solve(){ int n = read(), k = read(); if(n % 2) puts(&quot;-30&quot;), exit(0); int pre = 0; bool fl = 0; for(int i = 0; i &lt; __gcd(n, k); i++){ int now = i; bool cur = 1; while(1){ a[now] = cur; int to = (now + k) % n; if(to == i){ if(a[to] == (cur ^ 1)){ break; }else{ fl = 1; if(pre &lt;= 0){ pre++; break; }else{ pre--; a[to] ^= 1; break; } } if(a[to] != (cur ^ 1)){ puts(&quot;-30&quot;); return ; } break; }else{ now = to; cur ^= 1; } } } if(n == k or (n % 4 != 0 and k % 2 == 0)){ puts(&quot;-30&quot;); return ; } for(int i = 0; i &lt; n; i++) write(a[i]); endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-contest2.28(div2)A","feature":"","link":"https://WRuperD.github.io/post/solution-contest228div2a/","stats":{"text":"3 min read","time":140000,"words":459,"minutes":3},"date":"2024-02-28 15:34:15","dateFormat":"2024-02-28"},{"abstract":"","content":"é¢˜é¢å¯ä»¥åœ¨ link çœ‹åˆ°ï¼Œä½†æ˜¯è²Œä¼¼äº¤ä¸äº†ï¼Ÿ å¤§åŠ›æ‰‹ç©é¢˜ï¼åœºåˆ‡äº†ï¼ é¦–å…ˆçœ‹åˆ°è¿™ç§é¢˜ï¼Œæˆ‘ä»¬ä¸€å®šæ˜¯å…ˆæƒ³ç»™å®šä¸€ä¸ªæ ‘æ€ä¹ˆæ±‚ä»–çš„æœ€å¤§ç‹¬ç«‹é›†ã€‚æˆ‘å¿˜è®°æ€ä¹ˆè´ªå¿ƒäº†ï¼Œäºæ˜¯è€ƒè™‘ DP,è®¾ fu,0/1f_{u,0/1}fu,0/1â€‹ è¡¨ç¤ºä»¥ uuu ä¸ºæ ¹çš„å­æ ‘ä¸­ç‹¬ç«‹é›†åŒ…å«æˆ–ä¸åŒ…å« uuu è¿™ä¸ªç‚¹çš„æœ€å¤§ç‹¬ç«‹é›†å¤§å°ã€‚è½¬ç§»æ˜¯æ˜¾ç„¶çš„ï¼Œä¸ºäº†ä¸‹æ–‡è®²è§£æ–¹ä¾¿è¿˜æ˜¯åœ¨è¿™é‡Œå†™å‡ºï¼š fu,0=âˆ‘vâˆˆsonumax(fv,0,fv,1)fu,1=âˆ‘vâˆˆsonufv,1\\begin{aligned} f_{u,0} &amp;= \\sum\\limits_{v\\in son_u}max(f_{v,0}, f_{v,1})\\\\ f_{u,1} &amp;= \\sum\\limits_{v\\in son_u}f_{v,1} \\end{aligned} fu,0â€‹fu,1â€‹â€‹=vâˆˆsonuâ€‹âˆ‘â€‹max(fv,0â€‹,fv,1â€‹)=vâˆˆsonuâ€‹âˆ‘â€‹fv,1â€‹â€‹ ç°åœ¨å¯ä»¥æ¥è€ƒè™‘è¿™é“é¢˜äº†ã€‚è€ƒè™‘ä½ æŠŠé‚£ä¹ˆå¤šçš„æ ‘æ¥åˆ°åŒä¸€ä¸ªæ ‘ä¸Šï¼Œè¿™ç§é¢˜è¦ä¹ˆæ˜¯çŸ©é˜µå¿«é€Ÿå¹‚ç»´æŠ¤è½¬ç§»ï¼Œè¦ä¹ˆå°±æ˜¯æœ‰ç‚¹è§„å¾‹ã€‚æ˜¾ç„¶çš„ï¼Œé€šè¿‡ä¸Šé¢çš„è½¬ç§»å¼å¯ä»¥çœ‹å‡ºä¸€ä¸ªç‚¹çš„ç­”æ¡ˆåªæ›´ä»–çš„å„¿å­é‚£ä¸€å±‚æœ‰å…³ç³»ã€‚è¿™å¯å‘äº†æˆ‘ä»¬åªä¿ç•™ T(iâˆ’1)T(i-1)T(iâˆ’1) çš„æ ¹çš„é‚£ä¸¤ä¸ª dp å€¼ï¼Œç„¶ååœ¨æ¯ä¸€ä¸ªç‚¹åŠ ä¸Šç›¸åº”çš„è´¡çŒ®ã€‚è¿™æ ·å­åšå¤æ‚åº¦ O(n2)O(n^2)O(n2)ï¼Œä½ å°±æœ‰äº† 60 åˆ†äº†ï¼ï¼ˆè¿™ä¹ˆæ°´ï¼Ÿï¼‰ ä¸‹ä¸€æ­¥è²Œä¼¼æ²¡æœ‰å¤´ç»ªäº†ã€‚ä½†æ˜¯è¿™æ—¶é€šè¿‡è§‚å¯Ÿå¯¹æ‹çš„å°æ•°æ®çš„ç­”æ¡ˆä½ æƒŠè®¶åœ°å‘ç°: Ansi=nAnsiâˆ’1+[unknown](Ans0)Ans_i= nAns_{i-1}+[unknown](Ans_0) Ansiâ€‹=nAnsiâˆ’1â€‹+[unknown](Ans0â€‹) æ‰€ä»¥ç°åœ¨ä½ éœ€è¦è§£å†³çš„é—®é¢˜åœ¨äºä¸­é—´ +Ans0+Ans_0+Ans0â€‹ çš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œç„¶åä½ å°±å¯ä»¥æ„‰å¿«åœ° O(1)O(1)O(1) é€’æ¨äº†ï¼ é¦–å…ˆä½ éœ€è¦ä»æœ¬è´¨ä¸Šæƒ³æƒ³ä¸Šé¢é‚£ç©æ„çš„æ­£ç¡®æ€§ï¼Œå¦‚æœç­”æ¡ˆæ˜¯ nAnsiâˆ’1+Ans0nAns_{i-1} + Ans_0nAnsiâˆ’1â€‹+Ans0â€‹ æ˜¯éå¸¸ç¬¦åˆå¸¸ç†çš„ã€‚åŸå› æ˜¯çŒœæµ‹åŸ dp å€¼åŠ ä¸ŠæŸä¸ªå€¼åå¤§å°å…³ç³»ä¸å˜ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è½¬ç§»æ˜¯ä¸å˜çš„ï¼Œè€Œæ¯ä¸€ä¸ª fff å€¼åˆå€¼ä¸€å®šè¢«åŠ ä¸Šäº† Ansiâˆ’1Ans_{i-1}Ansiâˆ’1â€‹ï¼Œæ‰€ä»¥å°±æ˜¯ nAnsiâˆ’1+Ans0nAns_{i-1} + Ans_0nAnsiâˆ’1â€‹+Ans0â€‹ã€‚ ç»†å¿ƒçš„è¯»è€…æˆ–è®¸å‘ç°äº†ä¸Šé¢é‚£ä¸€æ®µè¯çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸æ˜¯æ‰€æœ‰çš„åˆå€¼éƒ½è¢«åŠ ä¸Šäº† Ansiâˆ’1Ans_{i-1}Ansiâˆ’1â€‹ï¼Œå¦‚æœè®¾ Ansi,0/1Ans_{i,0/1}Ansi,0/1â€‹ è¡¨ç¤ºé€‰ä¸é€‰ kik_ikiâ€‹ ä½œä¸ºæ ¹æ—¶å€™çš„ç­”æ¡ˆï¼Œé‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„å®šä¹‰, fff çš„åˆå€¼åº”å½“è®¾ä¸ºï¼š fu,0=max(Ansiâˆ’1,0,Ansiâˆ’1,1)fu,1=Ansiâˆ’1,0+1\\begin{aligned} f_{u,0} &amp;= max(Ans_{i-1,0},Ans_{i-1,1})\\\\ f_{u,1} &amp;= Ans_{i-1,0} + 1 \\end{aligned} fu,0â€‹fu,1â€‹â€‹=max(Ansiâˆ’1,0â€‹,Ansiâˆ’1,1â€‹)=Ansiâˆ’1,0â€‹+1â€‹ å¦‚æœ Ansiâˆ’1,0&lt;Ansiâˆ’1,1Ans_{i-1,0} &lt; Ans_{i-1,1}Ansiâˆ’1,0â€‹&lt;Ansiâˆ’1,1â€‹ é‚£ä¹ˆæ˜¾ç„¶æœ‰çš„å€¼ç›¸å¯¹äºæˆ‘ä»¬åŸæ¥çš„ä¼°ç®—å°±è¢«å°‘åŠ äº† Ansiâˆ’1,1âˆ’Ansiâˆ’1,0Ans_{i-1,1} - Ans_{i-1,0}Ansiâˆ’1,1â€‹âˆ’Ansiâˆ’1,0â€‹ã€‚è€Œæ˜¾ç„¶æœ‰ä¸€ä¸ªç»“è®ºæ˜¯ Ansiâˆ’1,1âˆ’Ansiâˆ’1,0â‰¤1Ans_{i-1,1} - Ans_{i-1,0} \\leq 1Ansiâˆ’1,1â€‹âˆ’Ansiâˆ’1,0â€‹â‰¤1ã€‚æ‰€ä»¥è´¡çŒ®æ¥æ”»å…ˆå»æ¯›ä¼°ä¼°ä¸€ä¸‹åˆšå¥½æ˜¯å°‘äº† Ans0Ans_0Ans0â€‹ã€‚ ç°åœ¨æˆ‘ä»¬ææ¸…æ¥šäº†æ¡ä»¶: Ansi=nAnsiâˆ’1+[Ansiâˆ’1,0â‰¥Ansiâˆ’1,1](Ans0)Ans_i= nAns_{i-1}+[Ans_{i-1,0} \\geq Ans_{i-1,1}](Ans_0) Ansiâ€‹=nAnsiâˆ’1â€‹+[Ansiâˆ’1,0â€‹â‰¥Ansiâˆ’1,1â€‹](Ans0â€‹) æ‰€ä»¥æˆ‘ä»¬ç°åœ¨éœ€è¦å¼„æ˜ç™½çš„é—®é¢˜å°±åªå‰©ä¸‹äº†æ€ä¹ˆæ ·ç»´æŠ¤ Ansi,0,Ansi,1Ans_{i,0}, Ans_{i,1}Ansi,0â€‹,Ansi,1â€‹ äº†ã€‚ å†æ¬¡è§‚å¯Ÿä¸€ä¸‹ç­”æ¡ˆçš„è§„å¾‹(ä»€ä¹ˆé¬¼ï¼Œå±…ç„¶æ˜¯è¿™ä¹ˆåšçš„å—ï¼Ÿ)ï¼Œå‘ç°è²Œä¼¼ç­”æ¡ˆä¸å¤§å¯èƒ½è¿ç»­ä¸¤æ¬¡å‡å°‘ Ans0Ans_0Ans0â€‹ã€‚ä»”ç»†æƒ³æƒ³ï¼Œæ˜¯å› ä¸ºä½ ä¸å¯èƒ½è¿ç»­ä¸¤æ¬¡ä¸é€‰æ ¹èŠ‚ç‚¹ï¼Œä¸ç„¶å¯ä»¥è°ƒæ•´æˆæ›´ä¼˜è§£ï¼Ÿè€Œ $0\\leq Ans_{i-1,1} - Ans_{i-1,0} \\leq 1 $ï¼Œæ‰€ä»¥ä½ è€ƒè™‘å¦‚æœä½  Ansi,0=Ansi,1Ans_{i,0} = Ans_{i,1}Ansi,0â€‹=Ansi,1â€‹ï¼Œé‚£ä¹ˆå…¶å®å°±æ˜¯ç›¸å½“äºåœ¨åŸæ ‘ä¸Šç›´æ¥åšï¼Œç„¶åç­”æ¡ˆåŠ ä¸€ä¸ªåç§»é‡è€Œå·²ã€‚è¿™å¯å‘äº†ä½ å»è€ƒè™‘åŸæ ‘ä¸Šçš„æƒ…å†µã€‚æ‰€ä»¥ç»“è®ºå°±æ˜¯å¦‚æœåœ¨åŸæ ‘ä¸Šä»¥ uuu ä¸ºæ ¹åšä¸€é DPï¼Œè¿™æ˜¯å¦‚æœä»€ä¹ˆ fi,0=fi,1f_{i,0} = f_{i,1}fi,0â€‹=fi,1â€‹,é‚£ä¹ˆé‚£ä¸ª Ans0Ans_0Ans0â€‹ çš„è´¡çŒ®æ˜¯ä¸€å®šä¼šåŠ ä¸Šå»çš„ã€‚å¦åˆ™å¦‚æœä¸Šä¸€æ¬¡åŠ äº†è´¡çŒ®å°±ä¸åŠ äº†ï¼Œå¦åˆ™ä¸åŠ  Ans0Ans_0Ans0â€‹ã€‚ç„¶åä½ å°±åšå®Œäº†ï¼ éå¸¸å‰å®³ï¼Œå¥½ç©çš„é¢˜ç›®ã€‚ï¼ˆæˆ‘å±…ç„¶å¯ä»¥åœºåˆ‡ï¼Ÿï¼‰ #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e5 + 10; const int mod = 998244353; vector &lt;int&gt; g[MAX]; int a[MAX]; int f[MAX][2]; int g2[MAX][2]; int g3[MAX][2]; bool fl[MAX]; void dfs(int u, int fa){ f[u][1] = 1, f[u][0] = 0; for(int v : g[u]){ if(v == fa) continue; dfs(v, u); f[u][0] += max(f[v][0], f[v][1]); f[u][1] += f[v][0]; } } void dfs3(int u, int fa){ for(int v : g[u]){ if(v == fa) continue; int tmpfk = f[u][1], tmpfk2 = f[u][0]; f[u][0] -= max(f[v][0], f[v][1]); f[u][1] -= f[v][0]; int tmp = f[v][0], tmp2 = f[v][1]; f[v][0] += max(f[u][0], f[u][1]); f[v][1] += f[u][0]; g2[v][0] = f[v][0], g2[v][1] = f[v][1]; dfs3(v, u); f[u][0] = tmpfk2, f[u][1] = tmpfk; f[v][0] = tmp, f[v][1] = tmp2; } } void solve(){ int n = read(), m = read(); for(int i = 1; i &lt; n; i++){ int u = read(), v = read(); g[u].pb(v), g[v].pb(u); } for(int i = 1; i &lt;= m; i++){ a[i] = read(); } dfs(1, 1); g2[1][1] = f[1][1], g2[1][0] = f[1][0]; dfs3(1, 1); write(max(f[1][1], f[1][0])), endl; int prert0 = f[1][0], prert1 = f[1][1]; int preans = max(f[1][1], f[1][0]); int tmp = preans; bool fl = g2[1][0] &lt; g2[1][1]; for(int i = 1; i &lt;= m; i++){ preans *= n; preans %= mod; preans += tmp; preans %= mod; if(fl) preans -= tmp; preans %= mod; if(preans &lt; 0) preans += mod; if(g2[a[i]][0] &lt; g2[a[i]][1]) fl ^= 1; else fl = 0; write(preans), endl; } } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"2019CCPC-Wannafly Winter Camp Day3 (Div1, online mirror) solution-Eæœ€å¤§ç‹¬ç«‹é›†","feature":"","link":"https://WRuperD.github.io/post/2019ccpc-wannafly-winter-camp-day3-div1-online-mirror-solution-e-zui-da-du-li-ji/","stats":{"text":"8 min read","time":447000,"words":1538,"minutes":8},"date":"2024-02-22 16:39:07","dateFormat":"2024-02-22"},{"abstract":"","content":"æ‰“å¾—ä¾æ‰˜ç­”è¾©ï¼Œå†™å‡ºäº† tag[x] += tag[x&lt;&lt;1]; çŠ¶ç‰© A åƒäº†ä¸€å‘ç½šæ—¶ /cf æ„Ÿå—ä¸€ä¸‹ï¼Œæ„Ÿè§‰åªéœ€è¦æ¯”è¾ƒ âˆ‘ai\\sum a_iâˆ‘aiâ€‹ å’Œ âˆ‘bi\\sum b_iâˆ‘biâ€‹ çš„å¤§å°å³å¯ã€‚ å®˜æ–¹é¢˜è§£ç»™å‡ºçš„è¯æ˜æ˜¯ xâˆ’y,yâˆ’xx-y,y-xxâˆ’y,yâˆ’x ç›¸å½“äº xâˆ’min(x,y),yâˆ’min(x,y)x-min(x,y),y-min(x,y)xâˆ’min(x,y),yâˆ’min(x,y) æ‰€ä»¥æ­£ç¡®æ€§æ˜¾ç„¶ã€‚ B ç”±äºæ˜¯æŒ‰ä½æˆ–æ“ä½œï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è´ªå¿ƒã€‚ C æ˜¾ç„¶æœ‰ fi=min(fiâˆ’1,maxâ¡j=1iâˆ’2[aj+1=ai](fj+iâˆ’j)f_i = min(f_{i-1}, \\max \\limits_{j=1}\\limits^{i - 2}[a_{j+1}=a_i](f_j+i-j)fiâ€‹=min(fiâˆ’1â€‹,j=1maxiâˆ’2â€‹[aj+1â€‹=aiâ€‹](fjâ€‹+iâˆ’j)ã€‚ æ‰€ä»¥æŠŠæ¯ä¸ªä¸åŒçš„ aia_iaiâ€‹ çš„æœ€å¤§çš„ fff å€¼è®°å½•ä¸‹æ¥ç®€å•å¤„ç†å³å¯ã€‚ code D ä¸Šéš¾åº¦äº†ã€‚æŒºä¸é”™çš„ä¸€é¢˜ã€‚ é¦–å…ˆè§‚å¯Ÿæ ·ä¾‹ï¼Œæ‰‹ç©ä¸€ä¸‹ï¼Œå‘ç°ç­”æ¡ˆçš„ä¸Šç•Œæ˜¾ç„¶æ˜¯ä» nnn åˆ° 111 çš„æœ€çŸ­è·¯ã€‚åŸå› æ˜¾ç„¶ã€‚è€ƒè™‘æ€ä¹ˆæ„é€ ï¼Œå¦‚æœä½ æ‰‹ç©çš„è¶³å¤Ÿä»”ç»†ï¼Œä½ å°±ä¼šå‘ç°ä»–å¤§æ¦‚æ˜¯æ€ä¹ˆæ ·æ‰ä¼šä¸é€‰æŸä¸€ä¸ªç‚¹ã€‚å‘ç°å…¶å®ä½ åªæœ‰å½“ä¸€æ¡åªæœ‰ä¸€è¾¹æœ‰ç‚¹è¢«é€‰çš„è¾¹é€‰çš„æ¬¡æ•°é¡¶æ»¡äº†æ‰ä¼šèˆæ‰é‚£ä¸ªç‚¹ã€è¾¹ã€‚äºæ˜¯æˆ‘ä»¬è€ƒè™‘æŒ‰ç…§æ‰€æœ‰ç‚¹ä¸ nnn ç‚¹çš„è·ç¦»æ’åºã€‚ä»å½“å‰æ–¹æ¡ˆä¸­æ¯æ¬¡åˆ æ‰å½“å‰è·ç¦»æœ€è¿‘çš„æ‰€æœ‰ç‚¹ã€‚è¿™æ ·åšæ­£ç¡®æ€§è¿˜æ˜¯ç›¸å½“æ˜¾ç„¶ã€‚ code E èµ›æ—¶å±…ç„¶æ²¡è°ƒå‡ºæ¥ã€‚ é¦–å…ˆæœ‰ä¸€ä¸ªå¾ˆå¼ºçš„æ€§è´¨å¯ä»¥é€šè¿‡è§‚å¯Ÿå¾—åˆ°ï¼Œå°±æ˜¯é€‰çš„æ‰€æœ‰ä¸‰è§’å½¢ä¸€å®šä¸äº¤ã€‚ æ³¨æ„åˆ° kâ‰¤105k \\leq 10^5kâ‰¤105ï¼Œæé†’æˆ‘ä»¬æˆ–è®¸å¯ä»¥è€ƒè™‘è®¾ fif_ifiâ€‹ è¡¨ç¤ºå‰ iii è¡Œè¢«è¦†ç›–å®Œçš„æœ€å°ä»£ä»·ã€‚å‘ç°ç”±äºä¸‰è§’å½¢ä¸äº¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å½“å‰ä¸€å®šæ˜¯è¿™æ ·å­æ”¾ä¸‰è§’å½¢ï¼š æ‰€ä»¥è½¬ç§»åªéœ€è¦æšä¸¾å½“å‰ä¸‰è§’å½¢çš„ä¸Šè§’é¡¶åœ¨äº†å“ªä¸€è¡Œå³å¯ã€‚ å…ˆè€ƒè™‘ä¸æ”¾ä¸‰è§’å½¢çš„è½¬ç§»ï¼Œéå¸¸å¥½è½¬ç§»ï¼ŒæŠŠä»£ä»·æ‹†å¼€ç›´æ¥è½¬ç§»å³å¯ï¼Œä½†æˆ‘è¿˜æ˜¯å†™äº†ç›´æ¥çº¿æ®µæ ‘ä¼˜åŒ–ã€‚ ç„¶åè€ƒè™‘ä¸æ”¾ä¸‰è§’å½¢çš„è½¬ç§»ã€‚å‘ç°æ¯ä¸ªåŒºé—´è¦åŠ ä¸Šçš„ä»£ä»·ä¸ä¸€æ ·ï¼Œæ‹†ä¸æ¥ã€‚è²Œä¼¼æ²¡æ€è·¯äº†ï¼Ÿäº‹å®ä¸Šï¼Œnâ‰¤105n \\leq 10^5nâ‰¤105ï¼Œæ‰€ä»¥ä½ ç›´æ¥åœ¨çº¿æ®µæ ‘ä¸ŠåŒºé—´åŠ å³å¯ï¼ code F å¥½é¢˜ï¼ è€ƒè™‘é¢˜ç›®ä¸­å¸¦æœ‰ç»å¯¹å€¼ï¼Œç›´æ¥åšè²Œä¼¼ä¸å¤ªå¥½æ¶ˆæ‰è¿™ä¸ªç»å¯¹å€¼ã€‚ äººç±»æ™ºæ…§çš„ä¸€æ­¥æ˜¯é’¦å®šæ‰€æœ‰é»‘ç‚¹çš„é‡å¿ƒä¸ºæ ¹ã€‚å›é¡¾é‡å¿ƒå®šä¹‰ï¼Œå‘ç°åˆ æ‰é‡å¿ƒä¹‹åçš„æœ€å¤§è¿é€šå—å¤§å° â‰¤n2\\leq {n\\over2}â‰¤2nâ€‹ã€‚äºæ˜¯æˆ‘ä»¬æˆåŠŸå»æ‰äº†ç»å¯¹å€¼ã€‚è€ƒè™‘æ€ä¹ˆæ”¾é»‘ç‚¹æ‰å¯ä»¥æ˜¯çš„ç­”æ¡ˆæœ€å°ã€‚æ‹†ä¸€ä¸‹è´¡çŒ®ï¼Œå‘ç°æ¯ä¸€ä¸ªé»‘ç‚¹ä¼šäº§ç”Ÿåˆ°æ ¹çš„è·ç¦»ä¹˜äºŒçš„è´Ÿè´¡çŒ®ã€‚æŒ‰è·ç¦»æ ¹èŠ‚ç‚¹è®°å½•æ’åºå³å¯ã€‚ code G å‚è§ link H æ„Ÿè§‰ 1 ä¸å¥½çœ‹ï¼Œæ‰€ä»¥ä¸å¦¨ä½¿ xxx åœ¨ [âˆ’0.5,0.5][-0.5,0.5][âˆ’0.5,0.5] èŒƒå›´å†…éšæœºã€‚è¿™æ ·æ‰€æœ‰çš„é™åˆ¶éƒ½å˜æˆäº†ç›¸åŠ å°äºæˆ–å¤§äºç­‰äºé›¶ã€‚ æ³¨æ„åˆ°å¯¹äº x+yâ‰¤0x+y \\leq0x+yâ‰¤0 è€Œè¨€ï¼Œè‹¥ âˆ£xâˆ£â‰¥âˆ£yâˆ£|x| \\geq |y|âˆ£xâˆ£â‰¥âˆ£yâˆ£ åˆ™ç›¸å½“äº xâ‰¤0x \\leq 0xâ‰¤0ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³æ³¨æ¯ä¸ªå€¼çš„ç»å¯¹å€¼å¤§å°å…³ç³»å³å¯ã€‚ç›´æ¥æš´åŠ›çŠ¶å‹ DP æš´åŠ›æ£€æŸ¥è®¡å…¥ä¸€ä¸ªæ•°æ˜¯å¦åˆæ³•å¤æ‚åº¦ O(2nn2)O(2^n n^2)O(2nn2)ï¼Œç¨å¾®é¢„å¤„ç†ä¸€ä¸‹å³å¯å˜ä¸º O(2nn)O(2^nn)O(2nn) code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":"ã€VPè®°å½•ã€‘CodeTON Round 5 (Div. 1 + Div. 2) A ~ H é¢˜è§£","feature":"","link":"https://WRuperD.github.io/post/vp-ji-lu-codeton-round-5-div-1-div-2-a-~-h-ti-jie/","stats":{"text":"4 min read","time":210000,"words":891,"minutes":4},"date":"2024-02-21 19:35:23","dateFormat":"2024-02-21"},{"abstract":"","content":"ä¸€é“æ²¡æœ‰é‚£ä¹ˆéš¾ä½†æ˜¯æˆ‘è¿˜æ˜¯ä¸ä¼š(ç”šè‡³ä¸€å¼€å§‹å°±æƒ³æ­ªäº†)çš„è®¡æ•°é¢˜ã€‚ è€ƒè™‘é€†åºæ“ä½œï¼Œåœ¨ä¸€ä¸ªå…¨é›¶çš„åºåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæ•°åŠ  kkk æˆ–è¿ç»­ kkk ä¸ªæ•°åŠ ä¸€ã€‚æ˜¾ç„¶è¿™ç§è®¡æ•°é¢˜å…³é”®åœ¨äºå¦‚ä½•å»é‡ã€‚æˆ‘ä»¬è€ƒè™‘ä½¿å¾—æ¯ä¸€ç§æœ€ç»ˆåºåˆ—å¯¹åº”å”¯ä¸€çš„æ“ä½œåºåˆ—ã€‚å‘ç°å¦‚æœä½ å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º kkk çš„åŒºé—´è¿›è¡Œäº† kkk æ¬¡åŒºé—´åŠ ä¸€å’Œä½ å¯¹äºå…¶ä¸­æ¯ä¸€ä¸ªæ•°åˆ†åˆ«å•ç‚¹ +k+k+k æ˜¯ç­‰ä»·çš„ã€‚è€ƒè™‘è®¾ bib_ibiâ€‹ è¡¨ç¤ºåœ¨ [i,i+kâˆ’1][i,i+k-1][i,i+kâˆ’1] æ“ä½œåŒºé—´åŠ ä¸€çš„æ“ä½œæ¬¡æ•°ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥é’¦å®šæ‰€æœ‰ âˆ€iâˆˆ[1,nâˆ’k+1],bi&lt;k\\forall i \\in [1,n-k+1],b_i &lt; kâˆ€iâˆˆ[1,nâˆ’k+1],biâ€‹&lt;kã€‚å½“ç„¶è¿˜æœ‰å•ç‚¹åŠ ï¼Œæˆ‘ä»¬è®¾ bnâˆ’k+1+ib_{n-k+1+i}bnâˆ’k+1+iâ€‹ è¡¨ç¤ºåœ¨ä½ç½® iii è¿›è¡Œå•ç‚¹åŠ çš„æ“ä½œæ¬¡æ•°ã€‚æœ€åæˆ‘ä»¬åªéœ€è¦å¯¹æ»¡è¶³æ¡ä»¶çš„ä¸åŒ bbb åºåˆ—è¿›è¡Œç®€å•è®¡æ•°å³å¯ã€‚ç»¼ä¸Šï¼Œbbb åºåˆ—åº”æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š âˆ€iâˆˆ[1,nâˆ’k+1],bi&lt;k\\forall i \\in [1,n-k+1],b_i &lt; kâˆ€iâˆˆ[1,nâˆ’k+1],biâ€‹&lt;kã€‚ âˆ‘i=1nbi=mk\\sum\\limits_{i=1}\\limits^{n}b_i = {m\\over k}i=1âˆ‘nâ€‹biâ€‹=kmâ€‹ è®¡æ•°æ˜¯ç®€å•çš„ï¼Œå®¹æ–¥ä¸€ä¸‹ï¼Œé’¦å®šæœ‰ iii ä½ä¸æ»¡è¶³æ¡ä»¶ï¼Œç›¸å½“äºå…ˆé’¦å®š iii ä½æ”¾æœ‰ kkk ä¸ªæ“ä½œï¼Œç„¶åå°†å‰©ä¸‹ mkâˆ’ik{m\\over k} - ikkmâ€‹âˆ’ik ä¸ªæ“ä½œåˆ†ç»™ 2nâˆ’k2n-k2nâˆ’k ä¸ªä½ç½®ï¼Œæ’æ¿æ³•ï¼Œåˆ™æœ‰ï¼š ans=âˆ‘i=0i=nâˆ’k+1(âˆ’1)i(nâˆ’k+1i)(mkâˆ’ik+2nâˆ’k2nâˆ’k)ans = \\sum\\limits_{i=0}\\limits^{i=n-k+1} (-1)^{i} {n - k + 1 \\choose i} {{m\\over k} - ik + 2n-k \\choose 2n-k} ans=i=0âˆ‘i=nâˆ’k+1â€‹(âˆ’1)i(inâˆ’k+1â€‹)(2nâˆ’kkmâ€‹âˆ’ik+2nâˆ’kâ€‹) code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-arc160d","feature":"","link":"https://WRuperD.github.io/post/solution-arc160d/","stats":{"text":"3 min read","time":120000,"words":448,"minutes":3},"date":"2024-02-20 19:12:39","dateFormat":"2024-02-20"},{"abstract":"","content":"orz zjkã€‚å­¦åˆ°äº†ã€‚å¯¹äºè¿™ä¸€ç±»è®¡æ•°æœ€ç»ˆç”±å¤šå°‘ä¸åŒå±€é¢çš„é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆåº”å½“è€ƒè™‘ä¸€ä¸‹å¦‚ä½•åˆ¤æ–­æœ€ç»ˆå±€é¢åˆæ³•ã€‚æ„Ÿè§‰æ­£ç€åšä¸å¤ªæ–¹ä¾¿ï¼Œäºæ˜¯æˆ‘ä»¬è€ƒè™‘å€’ç€åšã€‚ é¦–å…ˆï¼Œå®¹æ˜“å‘ç° 0 å’Œ 1 æ˜¯å¯¹ç§°çš„ï¼Œå“ªä¸ªæ˜¯ 0 å“ªä¸ªæ˜¯ 1 ä¸é‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨è®¾ Aâ‰¤BA \\leq BAâ‰¤Bã€‚ è€ƒè™‘å€’ç€æ“ä½œæ˜¯æ€ä¹ˆæ ·çš„ï¼Œäºæ˜¯æˆ‘ä»¬å°†æ“ä½œæ”¹å†™ä¸ºï¼š é€‰æ‹© xxx ä¸­é•¿åº¦ä¸º AAA çš„å­—ä¸²ï¼Œå…¶ä¸­å­—ç¬¦ä¸º 0 æˆ– ?ï¼Œå°†ä»–ä»¬æ”¹ä¸º ?ã€‚ é€‰æ‹© xxx ä¸­é•¿åº¦ä¸º BBB çš„å­—ä¸²ï¼Œå…¶ä¸­å­—ç¬¦ä¸º 1 æˆ– ?ï¼Œå°†ä»–ä»¬æ”¹ä¸º ?ã€‚ å®¹æ˜“å‘ç°ï¼Œæˆ‘ä»¬åªè¦æœ€ååˆ°è¾¾äº†å…¨æ˜¯ 0 æˆ–è€… ? çš„å­—ç¬¦ä¸²å°±æœ‰è§£äº†ã€‚è§‚å¯Ÿå¹¶æ‰‹ç©ä¸€ä¸‹ï¼Œå‘ç°åªè¦è¿›è¡Œäº†ä¸€æ¬¡äºŒæ“ä½œï¼Œå°±ä¸€å®šæœ‰è§£ã€‚åŸå› æ˜¯è¿›è¡Œä¸€æ¬¡äºŒæ“ä½œåæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º BBB çš„ ? åŒºé—´ã€‚æˆ‘ä»¬å¿…å®šå¯ä»¥é€šè¿‡æ¯æ¬¡å¾€å·¦ï¼Œå¾€å³æ‹“å±•ä¸€æ ¼ä½¿å¾—æ•´ä¸ªå­—ç¬¦ä¸²è¢«ç½®ä¸º ?ã€‚ åˆ°è¿™é‡Œæœ‰è§£çš„é™åˆ¶å°±å˜å¾—æ¸…æ™°äº†ã€‚ä¸€ä¸ªæœ€ç»ˆå±€é¢ xxx æœ‰è§£å½“ä¸”ä»…å½“å°†å…¶é•¿åº¦å¤§äºç­‰äº AAA çš„å­—ä¸²ç½®ä¸º 1ä¹‹åï¼Œ1 çš„æé•¿è¿ç»­æ®µçš„é•¿åº¦å¤§äºç­‰äº BBBã€‚ ç°åœ¨ä½ å¯ä»¥ç›´æ¥è®¡æ•°äº†ã€‚è¿™éƒ¨åˆ†æ˜¯ç®€å•çš„ã€‚ code ","tags":[],"title":"solution-agc045c","feature":"","link":"https://WRuperD.github.io/post/solution-agc045c/","stats":{"text":"2 min read","time":73000,"words":345,"minutes":2},"date":"2024-02-19 09:53:37","dateFormat":"2024-02-19"},{"abstract":"","content":"è§è¿‡ç›¸åŒ Trick ä¹‹åè²Œä¼¼ä¹Ÿä¸æ˜¯å¤ªéš¾ï¼Ÿ ç›¸ä¼¼é¢˜ï¼šCF838D å¥—è·¯çš„ï¼Œç®—æœŸæœ›ä¹˜ä»¥æ€»æ–¹æ¡ˆæ•°ã€‚è®¡ç®—æœŸæœ›æ˜¯ç®€å•çš„ï¼Œæ˜¯æ‰€æœ‰é€†åºå¯¹äº§ç”Ÿçš„æ¦‚ç‡ç›¸åŠ ã€‚ç®—æ¦‚ç‡æ˜¯ç®€å•çš„ï¼Œç›´æ¥ DP å³å¯ã€‚ code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-agc030d","feature":"","link":"https://WRuperD.github.io/post/solution-agc030d/","stats":{"text":"1 min read","time":13000,"words":64,"minutes":1},"date":"2024-02-18 15:29:42","dateFormat":"2024-02-18"},{"abstract":"","content":"Galaxy Online Judge: The world's slowest online judge UOJ ","tags":[],"title":"æ¯æ—¥æƒ…ç»ªè¾“å‡º","feature":"","link":"https://WRuperD.github.io/post/mei-ri-qing-xu-shu-chu/","stats":{"text":"1 min read","time":3000,"words":10,"minutes":1},"date":"2024-02-02 15:24:31","dateFormat":"2024-02-02"},{"abstract":"","content":"å‰è¨€ ä»Šå¤©æ—©ä¸Š div2 æ¨¡æ‹Ÿèµ›çš„æœ€åä¸€é“é¢˜ã€‚æœ¬æ¥æƒ³ç€æ—©ç‚¹ AK èµ°äº†ï¼Œæ²¡æƒ³åˆ°çœ‹åˆ°äº†è¿™é“åå­—å«åšçš„é¢˜ç›®ã€‚ä¸€æ‰“å¼€ä¸€è‚¡æµ“æµ“çš„ ARC å¤§åˆ†è®¨çš„æ„Ÿè§‰ç¬é—´æº¢å‡ºå±å¹•ã€‚ é¢˜è§£ å­—å…¸åºï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ„è¯†åˆ°æ‰€æœ‰çš„ B è¦å°½é‡åœ¨å‰é¢ï¼Œè€Œä¸” B è¦å°½é‡å°‘åˆ ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹å¤§åŠ›æ‰‹ç©ã€åˆ†è®¨ã€‚ S çš„æœ«å°¾ä¸ºA å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°ä¸åˆ  Bã€‚æˆ‘ä»¬è€ƒè™‘æ¯æ¬¡é€‰æ‹©ä¸€ä¸ªæé•¿çš„ A çš„è¿ç»­æ®µçš„æ®µé¦–ä¸ S çš„æœ«å°¾ã€‚è¿™æ ·å­æˆ‘ä»¬å‘ç°åªè¦è¿™ä¸ªè¿ç»­æ®µçš„é•¿åº¦å¤§äºç­‰äºäºŒé‚£ä¹ˆ S çš„æœ«å°¾è¿˜æ˜¯ Aï¼Œä¸”å…¶å®ƒ A éƒ½è¢«ä»åˆ°æœ«å°¾äº†ã€‚å¯¹äºæ‰€æœ‰ A çš„é•¿åº¦ä¸º 1 çš„è¿ç»­æ®µæˆ‘ä»¬å¯ä»¥ä¸¤ä¸ªä¸¤ä¸ªå’Œèµ·æ¥åˆ ã€‚è¿™æ ·å­åšå®¹æ˜“å‘ç°å°±æ˜¯æœ€ä¼˜çš„äº†ã€‚è®¾ A é•¿åº¦å¤§äº 1 çš„è¿ç»­æ®µä¸ªæ•°ä¸º xxxï¼Œé•¿åº¦ä¸ºä¸€çš„è¿ç»­æ®µä¸ªæ•°ä¸º yyy é‚£ä¹ˆæœ‰æ“ä½œæ¬¡æ•°ä¸º x+âŒˆy2âŒ‰x + \\lceil {y \\over 2} \\rceilx+âŒˆ2yâ€‹âŒ‰ã€‚ S çš„æœ«å°¾ä¸ä¸ºA å…ˆè€ƒè™‘ä¸€äº›ä¸ç”¨åˆ  B çš„æƒ…å†µã€‚ S ä¸­ A çš„ä¸ªæ•°ä¸ºå¶æ•° æŠŠ A å…¨éƒ¨åˆ æ‰ï¼æ˜¾ç„¶è¿™æ ·å­æ˜¯æœ€å¤§çš„äº†ã€‚ S ä¸­ Aå…¨éƒ¨éƒ½åœ¨å¼€å¤´ æ²¡å¾—ç©äº†ï¼ŒæŠŠ A å°½å¯èƒ½åˆ æ‰å§ï¼ S ä¸­æœ€åä¸€ä¸ª A åœ¨ nâˆ’1n - 1nâˆ’1 æˆ– nâˆ’2n - 2nâˆ’2 ä½ã€‚ é¦–å…ˆå‰é¢å·²ç»è€ƒè™‘çš„ A çš„ä¸ªæ•°ä¸ºå¶æ•°çš„æƒ…å†µäº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠé™¤äº†é‚£ä¸ª A ä¹‹å¤–çš„ A å…¨éƒ¨åˆ å…‰ã€‚ç»è¿‡ä¸€ç‚¹æ€è€ƒå‘ç°è¿™æ ·å­æ˜¯æœ€ä¼˜çš„ã€‚ å¥½å§ï¼Œç°åœ¨æˆ‘ä»¬è²Œä¼¼å¿…é¡»è¦å¼€å§‹åˆ  B äº†ã€‚ è€ƒè™‘åˆ ä¸€ä¸ª A è¿ç»­æ®µä¹‹å‰çš„ä¸€ä¸ª B å’Œæœ«å°¾çš„é‚£ä¸ª B ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå‘ç°å˜æˆäº† S çš„æœ«å°¾ä¸º A çš„æƒ…å†µäº†ï¼æ€ä¹ˆåˆ æœ€ä¼˜ï¼Ÿæ˜¾ç„¶æˆ‘ä»¬æŒªä¸€ä¸ªé•¿åº¦å¤§äºç­‰äº 2 çš„ A è¿ç»­æ®µåˆ°æœ«å°¾æœ€å¥½äº†ã€‚å¦‚æ­¤æ“ä½œï¼Œæˆ‘ä»¬å°±åœ¨æœ€å¤šåˆ ä¸¤ä¸ª B çš„æƒ…å†µä¸‹ä¸¥æ ¼çš„åšå®Œäº†è¿™é“é¢˜ã€‚ code ","tags":[],"title":"solution-arc113e","feature":"","link":"https://WRuperD.github.io/post/solution-arc113e/","stats":{"text":"2 min read","time":116000,"words":531,"minutes":2},"date":"2024-01-30 16:30:04","dateFormat":"2024-01-30"},{"abstract":"","content":"å¼€å‘ã€‚ ARC 158 finished on 2024.1.26 [ARC158D] Equation ä¸å¥½ç©çš„éšæœºåŒ–é¢˜ã€‚æœ‰ä¸€è¯´ä¸€ç¬¬ä¸€æ¬¡è§è¿™ä¹ˆéšæœºçš„ã€‚ è€ƒè™‘è®¾å·¦è¾¹æŸ¿å­ä¸º F(x,y,z)F(x,y,z)F(x,y,z) å³è¾¹ä¸º G(x,y,z)G(x,y,z)G(x,y,z) ï¼Œè€ƒè™‘ä½ ç›´æ¥å»éšæœºä¸€ç»„ (x,y,z)(x,y,z)(x,y,z)ï¼Œæ­¤æ—¶è®¾ F(x,y,z)=tG(x,yz)F(x,y,z) = tG(x,yz)F(x,y,z)=tG(x,yz) åˆ™æœ‰ F(xt,yt,zt)=G(xt,yt,zt)F({x\\over t},{y\\over t},{z\\over t}) = G({x\\over t},{y\\over t},{z\\over t})F(txâ€‹,tyâ€‹,tzâ€‹)=G(txâ€‹,tyâ€‹,tzâ€‹)ã€‚åœ¨æ¨¡æ„ä¹‰ä¸‹è¿™éƒ½å¾ˆå¥½ç®—ã€‚ä½†æ˜¯å¯èƒ½ä¼šæœ‰ä¸€äº›æƒ…å†µæ˜¯ G=0G = 0G=0 æˆ–è€… x,y,zx,y,zx,y,z æœ‰ç›¸åŒçš„æ•°ã€‚ç»§ç»­éšæœºå³å¯ã€‚ [ARC158E] All Pair Shortest Paths https://wruperd.github.io/post/solution-arc158e/ *2600 è¿˜æ˜¯æŒºç‰›é€¼çš„ä¸€é¢˜ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå…¶ä»–é¢˜è§£éƒ½è¯´å¾ˆæ¿ï¼Ÿçœ‹æ¥è¿˜æ˜¯æˆ‘å¤ªèœäº†ï¼Œè§çš„é¢˜å¤ªå°‘äº†ã€‚ ä¸»è¦å‚è€ƒ @TeneryTree é¦–å…ˆè€ƒè™‘ CDQ åˆ†æ²»ï¼Œåªè€ƒè™‘å¤„ç† [l,mid][l,mid][l,mid] ä¸­çš„åˆ° [mid+1,r][mid+1,r][mid+1,r] è¿™äº›ç‚¹çš„è·¯å¾„å’Œã€‚ ç”±äºåˆ—æ•° m=2m=2m=2 æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘è®¾ fi,0/1f_{i,0/1}fi,0/1â€‹ ä¸ºå·¦è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid,0)(mid,0)(mid,0) çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå³è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid+1,0)(mid+1,0)(mid+1,0) çš„æœ€çŸ­è·¯è·ç¦»ã€‚è®¾ gi,0/1g_{i,0/1}gi,0/1â€‹ ä¸ºå·¦è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid,1)(mid,1)(mid,1) çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå³è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid+1,1)(mid+1,1)(mid+1,1) çš„æœ€çŸ­è·¯è·ç¦»ã€‚æ˜¾ç„¶è¿™ä¸¤ç©æ„æ¯æ¬¡ç›´æ¥ O(n)O(n)O(n) é€’æ¨å³å¯ã€‚ ç„¶åè€ƒè™‘ä¸€ä¸‹è·¨åŒºé—´çš„è´¡çŒ®æ˜¯ä»€ä¹ˆã€‚è®¾è´¡çŒ®ä¸º www åˆ™æœ‰ï¼š w=2âˆ‘i=lmidâˆ‘j=mid+1rminâ¡(fi,0/1+fj,0/1,gi,0/1+gj,0/1)w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\min ( f_{i,0/1} + f_{j,0/1},g_{i,0/1} + g_{j,0/1}) w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹min(fi,0/1â€‹+fj,0/1â€‹,gi,0/1â€‹+gj,0/1â€‹) è¿™ç©æ„çœ‹ç€å¥½åƒä¸å¤ªå¥½ç›´æ¥è®¡ç®—ã€‚ä¹Ÿä¸å¤ªçŸ¥é“æ€ä¹ˆæƒ³åˆ°çš„ï¼Œè€ƒè™‘è¿™æ ·å­åšï¼š w=2âˆ‘i=lmidâˆ‘j=mid+1r{minâ¡(fi,0/1+fj,0/1âˆ’gi,0/1âˆ’gj,0/1,0)+gi,0/1+gj,0/1}w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\{ \\min ( f_{i,0/1} + f_{j,0/1} - g_{i,0/1}- g_{j,0/1},0) + g_{i,0/1} + g_{j,0/1} \\} w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹{min(fi,0/1â€‹+fj,0/1â€‹âˆ’gi,0/1â€‹âˆ’gj,0/1â€‹,0)+gi,0/1â€‹+gj,0/1â€‹} ç„¶åæ‹å‡ºå»! w=2âˆ‘i=lmidâˆ‘j=mid+1r{minâ¡(fi,0/1+fj,0/1âˆ’gi,0/1âˆ’gj,0/1,0)}+4âˆ‘i=lmidgi,0/1â‹…(râˆ’mid)+4âˆ‘i=mid+1rgi,0/1â‹…(midâˆ’l+1)w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\{ \\min ( f_{i,0/1} + f_{j,0/1} - g_{i,0/1}- g_{j,0/1},0)\\} + 4\\sum\\limits_{i=l}\\limits^{mid}g_{i,0/1}\\cdot(r-mid) + 4\\sum\\limits_{i=mid+1}\\limits^{r}g_{i,0/1}\\cdot(mid-l+1) w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹{min(fi,0/1â€‹+fj,0/1â€‹âˆ’gi,0/1â€‹âˆ’gj,0/1â€‹,0)}+4i=lâˆ‘midâ€‹gi,0/1â€‹â‹…(râˆ’mid)+4i=mid+1âˆ‘râ€‹gi,0/1â€‹â‹…(midâˆ’l+1) ç°åœ¨è¿™ä¸ªå¼å­å¥½çœ‹å¤šäº†qwqã€‚åé¢é‚£ä¸€æ•´ä¸²ç›´æ¥è®¡ç®—å³å¯äº†ã€‚è€Œå‰é¢é‚£ä¸€ä¸²å–å€¼ä¹Ÿåªæœ‰ä¸¤ç§æƒ…å†µï¼Œéå¸¸å¥½æã€‚è®¾å‰é¢é‚£ä¸€ä¸²å€¼ä¸º 2w22w_22w2â€‹ï¼Œä¸€ä¸‹çœç•¥ 0/1 è¿™ä¸€ç»´ã€‚è®¾ pi=fiâˆ’gip_i = f_i - g_ipiâ€‹=fiâ€‹âˆ’giâ€‹ åˆ™æœ‰ï¼š w2=âˆ‘i=lmidâˆ‘j=mid+1rminâ¡(pi+pj,0)w_2 = \\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\min (p_i+p_j,0) w2â€‹=i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹min(piâ€‹+pjâ€‹,0) =âˆ‘i=lmidâˆ‘j=mid+1r(pi+pj)[pi&gt;âˆ’pj]= \\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r}(p_i+p_j)[p_i&gt;-p_j] =i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹(piâ€‹+pjâ€‹)[piâ€‹&gt;âˆ’pjâ€‹] è¿™ç©æ„ç›¸å½“å¥½å¼„ï¼Œåªéœ€è¦æ’åºäºŒåˆ†ä¸€ä¸‹åšå®Œäº†ã€‚ æ€»çš„å¤æ‚åº¦ O(nlogâ¡2n)O(n\\log^2n)O(nlog2n) code Some more experiences P7482 ä¸æ¡ç†ç‹‚è¯—æ›² ARC157 [ARC157D] YY Garden haven't written yet [ARC157E] XXYX Binary Tree è™šé«˜ *2800ï¼Œå¦‚æœæ”¾æ¨¡æ‹Ÿèµ›çš„è¯äººå‡åœºåˆ‡äº†ã€‚ é¦–å…ˆï¼Œè¿™é¢˜çš„å…³é”®ç‚¹è¿™æ˜¯ä¸€é¢— äºŒå‰æ ‘ æ´›è°·æ²¡æœ‰ç¿»è¯‘å‡ºæ¥ã€‚ è¯»ä¸€ä¸‹é¢˜ç›®å®¹æ˜“å‘ç°æœ‰ä¸€ä¸ªä¸å­˜åœ¨çˆ¶äº²å’Œå„¿å­åŒæ—¶æ˜¯ Y è¿™ä¸ªå¾ˆå¼ºçš„é™åˆ¶ã€‚è¿™å¯å‘äº†æˆ‘ä»¬å»çœ‹æœ‰å…³äº Y çš„é™åˆ¶ã€‚å‘ç°ç»™ä½ äº†ä¸ªä»€ä¹ˆ YX çš„æ•°é‡ï¼Œè¿™æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªæ˜¾ç„¶æ˜¯éå¶å­èŠ‚ç‚¹çš„ Y çš„æ•°é‡çš„ä¸¤å€ã€‚å†çœ‹ XY çš„æ•°é‡æ˜¯ä»€ä¹ˆï¼Œè¿™ä¸ªä¹Ÿæ˜¾ç„¶æ˜¯éæ ¹èŠ‚ç‚¹ Y çš„æ•°é‡çš„ä¸¤å€ã€‚çŸ¥é“äº†è¿™äº›æ€§è´¨ï¼Œå†åˆ†ç±»è®¨è®ºä¸€ä¸‹æ ¹èŠ‚ç‚¹æ˜¯å¦æ˜¯ Y ä½ å°±çŸ¥é“äº†å¶å­èŠ‚ç‚¹ä¸Š Y çš„ä¸ªæ•°äº†ï¼ ç°åœ¨æ•´é“é¢˜çš„é™åˆ¶åªå‰©ä¸‹ä¸¤ä¸ªäº†,ä¸€ä¸ªæ˜¯åœ¨éå¶å­èŠ‚ç‚¹æ”¾ç½® Y çš„æ•°é‡å’Œåœ¨å¶å­èŠ‚ç‚¹æ”¾ç½® Y çš„æ•°é‡ã€‚ç”±äºè¿™é¢˜åªæ˜¯è®©ä½ éªŒè¯æ˜¯å¦æœ‰è§£è€Œéè®¡æ•°ï¼Œæ‰€ä»¥ä½ è®¾ fu,j,0/1f_{u,j,0/1}fu,j,0/1â€‹ è¡¨ç¤ºåœ¨èŠ‚ç‚¹ uuu å­æ ‘ä¸­é€‰äº† jjj ä¸ªå¶å­ä¸º Y,æœ‰æ²¡æœ‰é€‰æ‹©å½“å‰èŠ‚ç‚¹æ—¶æœ€å¤šé€‰æ‹©å¤šå°‘ä¸ªéå¶å­èŠ‚ç‚¹æ”¾ Yã€‚ç›´æ¥è½¬ç§»å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ O(n2)O(n^2)O(n2) code ARC156 finished on 2024.1.29 [ARC156C] Tree and LCS ä¸å¥½ç©çš„æ„é€ é¢˜ã€‚zltæ²¡åœºåˆ‡ï¼Œä¸å†™é¢˜è§£äº†ã€‚ https://atcoder.jp/contests/arc156/submissions/49684957 [ARC156D] Xor Sum 5 *2500 å‚è€ƒhttps://www.luogu.com.cn/blog/CFA-44/solution-at-arc156-d ä¼—æ‰€å‘¨çŸ¥çš„æ˜¯ï¼Œå¼‚æˆ–ä¸¤æ¬¡ç­‰äºæ²¡æœ‰ã€‚ è€ƒè™‘å¯¹äºæ¯ä¸€ä¸ªåºåˆ—æ‰¾å‡ºåŒå°„ï¼Œå‘ç°å¯¹äºä¸€ä¸ªåºåˆ— AAA å¦‚æœå®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡åºåˆ—åˆ™ä¸€å®šå¯ä»¥å°†ä»–åè¿‡æ¥ï¼Œè®¾å…¶ä¸º Aâ€²A&#x27;Aâ€²,åˆ™ AâŠ•Aâ€²=0A \\oplus A&#x27; =0AâŠ•Aâ€²=0ï¼Œä¸” AAA ä¸ Aâ€²A&#x27;Aâ€² æ„æˆåŒå°„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ç»Ÿè®¡æ‰€æœ‰ä¸ºå›æ–‡åºåˆ—çš„ AAAã€‚ è®¾ fif_ifiâ€‹ ä¸ºé•¿åº¦ä¸º iii çš„æ‰€æœ‰ AAA çš„å¼‚æˆ–å’Œã€‚ å¯¹äºä¸€ä¸ªå¶å›æ–‡åºåˆ—ï¼Œæ˜¾ç„¶æœ‰ f2i=2fif_{2i} = 2f_if2iâ€‹=2fiâ€‹ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªå¥‡å›æ–‡åºåˆ—å°±ä¸å¤ªå¥½æäº†ã€‚è€ƒè™‘åŠ ä¸€ç»´ï¼Œè®¾ fi,jf_{i,j}fi,jâ€‹ è¡¨ç¤ºæ‰€æœ‰é•¿åº¦ä¸º iii åºåˆ— AAA çš„ j+âˆ‘k=1iaAij + \\sum\\limits_{k=1}\\limits^{i}a_{A_i}j+k=1âˆ‘iâ€‹aAiâ€‹â€‹ çš„å€¼å¼‚æˆ–å’Œã€‚ç°åœ¨æ„Ÿè§‰å¯ä»¥åšäº†ä¸€ç‚¹ã€‚ å¯¹äºå¶å›æ–‡ä¸²ï¼šf2i,j=2fi,âŒŠj2âŒ‹+[njmod 2=0]f_{2i,j} = 2f_{i,\\lfloor{j\\over2}\\rfloor}+[nj \\mod2=0]f2i,jâ€‹=2fi,âŒŠ2jâ€‹âŒ‹â€‹+[njmod2=0]ã€‚[njmod 2=0][nj \\mod2=0][njmod2=0] çš„æ„ä¹‰ç•™ç»™è¯»è€…è‡ªè¡Œæ€è€ƒã€‚ å¯¹äºå¥‡å›æ–‡ä¸²ï¼Œæˆ‘ä»¬æšä¸¾ä¸­é—´é‚£ä¸ªæ•°æ˜¯ä»€ä¹ˆï¼Œç„¶åé€’å½’è‡³å¶å›æ–‡ä¸²æƒ…å†µï¼š f2i,j=â¨k=1n2fi,âŒŠ(j+ak)2âŒ‹+[n(j+ak)mod 2=0]f_{2i,j} = \\bigoplus\\limits_{k=1}\\limits^{n} 2f_{i,\\lfloor{(j+a_k)\\over2}\\rfloor}+[n(j+a_k) \\mod2=0]f2i,jâ€‹=k=1â¨nâ€‹2fi,âŒŠ2(j+akâ€‹)â€‹âŒ‹â€‹+[n(j+akâ€‹)mod2=0]ã€‚ ç‰¹åˆ¤ä¸€ä¸‹ i=1i=1i=1 çš„æƒ…å†µã€‚ code ARC155 æœ€è‡ªé—­çš„ä¸€é›†ã€‚ ARC154 finished on 2024.1.29 [ARC154D] A + B &gt; C ? åªæœ‰ä¸€é“ï¼Œæ²¡æƒ³åˆ°å§!/cf éå¸¸ç®€å•çš„ä¸€é¢˜ï¼Œä½†æ˜¯æˆ‘åˆç©æ³¥å·´äº†ã€‚ç›´æ¥è€ƒè™‘æ’åºï¼Œæ˜¾ç„¶æœ€å¤šæœ‰ nlogâ¡nn\\log nnlogn æ¬¡æ¯”è¾ƒï¼Œå¯ä»¥è¿‡ã€‚æ€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªæ•°çš„å¤§å°ï¼Ÿå…ˆç”¨ nâˆ’1n-1nâˆ’1 æ¬¡é—®å‡º 1 åœ¨å“ªé‡Œå³å¯ã€‚ æ‡’å¾—å†™æ’åºï¼Ÿstable_sortã€‚ code ARC113 [ARC113E] Rvom and Rsrev link æ¨¡æ‹Ÿèµ›é¢˜ï¼Œå¤§åŠ›åˆ†è®¨å³å¯ï¼Ÿå…·ä½“çœ‹ä¸Šé¢ linkã€‚ code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":"ARC *2000~*2800 ä¹±åš","feature":"","link":"https://WRuperD.github.io/post/arc-2000~2800-luan-zuo/","stats":{"text":"9 min read","time":527000,"words":1852,"minutes":9},"date":"2024-01-28 20:28:28","dateFormat":"2024-01-28"},{"abstract":"","content":"æˆ‘æ˜¯ GDFZ åˆä¸‰èœé¸¡oierã€‚ luogu,codeforces,Atcoder,loj,AcWingåŒåã€‚ å…³äºæœ¬åšå®¢ ç”±äºæ´›è°·ç¤¾åŒºè¢«ææ²¡äº†ï¼Œcnblogså¹´ä¹…å¤±ä¿®ã€‚äºæ˜¯ä¾¿å¯ç”¨äº†è¿™ä¸ªåšå®¢ã€‚ï¼ˆ2024.1.27ï¼‰ æ–‡ç« éƒ½æ˜¯æœ¬äººååˆ† Naive çš„è§è§£ï¼Œè¯·è§è°…ã€‚å¯ä»¥å½“æˆ‘åœ¨è¯´åºŸè¯ã€‚ ä»¥å‰æ–‡ç« ä¸ä»£è¡¨æœ¬äººç°åœ¨è§‚ç‚¹ï¼Œä»¥å‰çš„å®šä¹‰æ˜¯è¿™ä¸ªæ—¶åˆ»ä¹‹å‰ï¼ˆç¡®ä¿¡ ","tags":[{"name":"ä¸ªäººä»‹ç»","slug":"Kxw-KxcFW","used":true,"link":"https://WRuperD.github.io/tag/Kxw-KxcFW/"}],"title":"å…³äºæˆ‘","feature":"","link":"https://WRuperD.github.io/post/about/","stats":{"text":"1 min read","time":21000,"words":98,"minutes":1},"date":"2024-01-27 19:01:35","dateFormat":"2024-01-27"},{"abstract":"","content":"é¢˜ç›®é“¾æ¥ï¼šhttps://codeforces.com/problemset/problem/1142/E *3500 åŸºæœ¬ä¸Šå¤è¯»å…¶ä»–é¢˜è§£ï¼Ÿå› ä¸ºä¸çŸ¥é“æ€ä¹ˆæƒ³åˆ°çš„ã€‚ é¦–å…ˆè€ƒè™‘åªæœ‰ç»¿çš„è¾¹çš„æƒ…å†µã€‚ ç«èµ›å›¾æœ‰ä¸€äº›å¾ˆå¥½çš„æ€§è´¨linkã€‚ æ ¹æ®ä¸Šé¢é“¾æ¥ä¸­çš„å®šç†1ï¼Œæˆ‘ä»¬è€ƒè™‘å°†æœ€ç»ˆçš„ç«èµ›å›¾å¼ºè¿é€šç¼©ç‚¹ã€‚ç”±äºæ‹“æ‰‘åºå°çš„ç‚¹å¯¹äºæ¯ä¸€ä¸ªæ‹“æ‰‘åºå¤§çš„ç‚¹éƒ½æœ‰è¿è¾¹ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ç§åšæ³•ï¼šç»´æŠ¤ä¸€ä¸ªå½“å‰å¯èƒ½æˆä¸ºæœ€åç­”æ¡ˆçš„é›†åˆ SSSã€‚æ¯æ¬¡ä» SSS ä¸­å–å‡ºä¸¤ç‚¹ï¼Œè¯¢é—®ä»–ä»¬çš„è¾¹çš„æŒ‡å‘ï¼Œå°†è¢«æŒ‡å‘çš„ç‚¹åˆ é™¤ã€‚ è€ƒè™‘è¿™ç§åšæ³•çš„æ­£ç¡®æ€§ã€‚é¦–å…ˆæœ€å SSS ä¸­å‰©ä¸‹çš„é‚£ä¸€ä¸ªç‚¹ä¸€å®šæ˜¯æ‹“æ‰‘åºæœ€å°çš„å¼ºè¿é€šåˆ†é‡ä¸­çš„ä¸€ç‚¹ã€‚è¿™å¯ä»¥ç”±å®šç†1å¾—åˆ°ã€‚æ¯”æ–¹è¯´ï¼Œå¯¹äºæ¯ä¸€æ¡è¾¹ uâ†’vu \\to vuâ†’v,å¦‚æœ uuu å’Œ vvv æ˜¯å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œé‚£ä¹ˆæ˜¾ç„¶è¿™ä¹ˆå–å¯ä»¥è®© uuu å’Œ vvv è”é€šã€‚è¿™æ ·å–ä¸‹å»æ¯ä¸€ä¸ªè¿é€šå—å†…éƒ½ä¼šè¢«ç¼©æˆå¼ºè¿é€šåˆ†é‡ã€‚æˆ‘ä»¬å¯ä»¥ä»»æ„ä¿ç•™ uuu æˆ–è€… vvvï¼Œäºæ˜¯è¿™éƒ¨åˆ†å°±æ˜¯å¯¹çš„ã€‚å¦‚æœ uuu å’Œ vvv ä¸å±äºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œé‚£ä¹ˆæœ‰æ‹“æ‰‘åºå°çš„å¼ºè¿é€šå—è¿å‘æ‹“æ‰‘åºå¤§çš„è¿é€šå—ã€‚æ‰€ä»¥æˆ‘ä»¬ä¿ç•™ uuu å°±æ˜¯ä¸€å®šå¯¹çš„ã€‚ æ¥ä¸‹æ¥è€ƒè™‘ç²‰è‰²è¾¹çš„æƒ…å†µã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å†é’¦å®šç­”æ¡ˆä¸ºå…¨é›†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¸èƒ½è¯¢é—®ç²‰è‰²çš„è¾¹ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚ä»ç‰¹æ®Šæƒ…å†µå…¥æ‰‹ï¼Œå‡è®¾ç²‰è‰²è¾¹æ„æˆäº†ä¸€å¼ æœ‰å‘æ— ç¯å›¾ï¼Œé‚£ä¹ˆéå¸¸å¥½åŠï¼Œæˆ‘ä»¬å¯ä»¥è‡†æƒ³æˆ‘ä»¬ä»æ‰€æœ‰å…¥åº¦ä¸ºé›¶çš„ç‚¹å¼€å§‹æŒ‰ç…§æ‹“æ‰‘åºçš„é¡ºåºè¿›è¡Œäº†è‹¥å¹²æ¬¡è¯¢é—®ï¼Œç„¶åæ‰€æœ‰ç²‰è‰²è¾¹å°±æ²¡äº†ã€‚å‰©ä¸‹çš„æƒ…å†µå°±æ˜¯æœ‰ç²‰è‰²è¾¹æ„æˆäº†è‹¥å¹²å¼ºè¿é€šåˆ†é‡ã€‚è¿™æ—¶å€™è€ƒè™‘ç¼©ç‚¹ï¼ŒæŠŠæ‰€æœ‰å¼ºè¿é€šåˆ†é‡ç¼©æˆä¸€ä¸ªç‚¹ã€‚è€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šè¯¢é—®åˆ°ç²‰è‰²çš„è¾¹ï¼Œå‘ç°å…¶å®ä½ åªéœ€è¦ä¿è¯åœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡å†…çš„ç‚¹ä¸åŒæ—¶å‡ºç°åœ¨ SSS ä¸­å³å¯ã€‚æ‰€ä»¥æˆ‘ä»¬é€‰ä¸€ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªè”é€šå—ï¼Œå½“ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ä¸­çš„é‚£ä¸ªç‚¹è¢«åˆ å»åï¼Œæˆ‘ä»¬å†æŠŠå…¶ä¸­ä»»æ„ä¸€ä¸ªå…¶å®ƒçš„ç‚¹æ”¾å…¥ SSS ä¸­å³å¯ã€‚ è¿™æ ·å­åšç”±äºæ¯æ¬¡éƒ½ä¼šåˆ æ‰ä¸€ä¸ªç‚¹ï¼Œæ‰€ä»¥æœ€å¤š nâˆ’1n - 1nâˆ’1 æ¬¡è¯¢é—®ã€‚ å®ç°ä¸Šä¸ç”¨å¾ˆéº»çƒ¦ï¼Œå…¶å®åªéœ€è¦åˆ å»ä¸€äº›èƒ½è®©ç²‰è‰²è¾¹æ„æˆç¯çš„ç²‰è¾¹å³å¯ã€‚ code æ„Ÿè°¢ @gdf_yhm æ•™æˆ‘åšé¢˜ã€‚ æœ€åï¼Œè¯·å®¹è®¸æˆ‘åœ¨è¿™é‡Œè‡´æ•¬ä¸€ä¸‹ä¼Ÿå¤§çš„æ‘‡æ»šä¹é˜Ÿ Pink Floydã€‚å•¥éƒ½ä¸è¯´äº† ï¼Œå¹³å…‹Â·ä½›æ´›ä¾å¾·ç‰›çš®ï¼ ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"Pink Floyd","feature":"","link":"https://WRuperD.github.io/post/pink-floyd/","stats":{"text":"3 min read","time":147000,"words":706,"minutes":3},"date":"2024-01-25 23:21:53","dateFormat":"2024-01-25"},{"abstract":"","content":"å¹³å‡¡çš„ï¼Œå¦‚æœ S1S_1S1â€‹ æ²¡æœ‰æ„æˆä¸€ä¸ªå¤–å‘æ ‘æ£®æ—ï¼Œé‚£ä¹ˆæ— è§£ã€‚ å¦åˆ™ï¼Œå¦‚æœ S1S_1S1â€‹ æ„æˆäº†ä¸€ä¸ªä¸ªå¤–å‘æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘å°†ä»–ä»¬çš„é¡¶ç‚¹ç›¸è¿ã€åˆå¹¶ã€‚å¦‚æœä¸è¡Œåˆ™æ— è§£ã€‚ æ€ä¹ˆæ?ç›´æ¥æš´åŠ›æšä¸¾å½“å‰å¤–å‘åŠå¤–å‘æ ‘é¡¶ç‚¹ä¸å…¶ä»–å¤–å‘æ ‘æ˜¯å¦æœ‰å¯ä»¥è¿çš„è¾¹ã€‚å¹¶æŸ¥é›†å¯å‘å¼åˆå¹¶å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ä¸æ˜¯ O(N+M+K)O(N+M+K)O(N+M+K)ï¼Œè¿˜è¦åŠ ä¸€ä¸ªä»€ä¹ˆå¹¶æŸ¥é›†çš„ logâ¡\\loglog ä¸ºä»€ä¹ˆæ˜¯å¯¹çš„ï¼Ÿ è€ƒè™‘ä½ ä¼šå†™å‡ºå¦‚ä¸‹ä»£ç  for(auto v3 : st[find(v)]){ if(!mp[u].count(v3)){ v2 = v3; break; } } ä½ ä¸€å…±åªä¼šæœ‰ kkk æ¬¡ç»§ç»­æšä¸¾ã€‚ code å¦‚æœæ˜¯è¿™ç§åšæ³•çš„è¯ï¼Œé‚£è¿™é“é¢˜å¯ä»¥ç®—éå¸¸å°æ¸…æ–°äº†ã€‚ æ„Ÿè°¢hzxã€‚ æ¥ç‚¹åè®°ã€‚ æ¯”èµ›æ—¶æˆ‘åœ¨æƒ³ä»€ä¹ˆï¼Ÿæˆ‘æƒ³åˆ°äº†è¿™ä¸ªå‡æ‘Š O(k)O(k)O(k) çš„ç©æ„ã€‚ ä½†æ˜¯è¡¥é¢˜è¡¥sbäº†ï¼Œæƒ³åˆ° Pink Floyd å»äº†ã€‚ æ‰€ä»¥å†™é¢˜ä¸è¦ä¸Šå¤´!!!! è¿™é“é¢˜æé†’äº†æˆ‘ä»¬ä¸€äº›è¡¥å›¾ä¸Šèµ°è¾¹èµ°ç‚¹çš„ç®—æ³•æˆ–è®¸å¯ä»¥å‡æ‘Š? ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"eert","feature":"","link":"https://WRuperD.github.io/post/eert/","stats":{"text":"2 min read","time":62000,"words":277,"minutes":2},"date":"2024-01-25 23:21:22","dateFormat":"2024-01-25"},{"abstract":"","content":"ä¸€é“éå¸¸æœ‰æ„æ€çš„é¢˜ã€‚ è€ƒè™‘æ„é€ å‡ºä¸€å †ç¯ï¼Œä½¿å¾—æ¯æ¬¡å¤§æ“ä½œåæ¯ä¸ªç¯å†…æ•°éƒ½æ²¿ç€ç¯èµ°ä¸€æ­¥ã€‚ è¿™æ ·å­æœ€åé‡æ–°å›åˆ°åˆå§‹çŠ¶æ€çš„æ­¥æ•°æ˜¯æ‰€æœ‰ç¯é•¿çš„æœ€å°å…¬å€æ•°ã€‚ å…ˆæ¥é’¦å®šä¸€ä¸‹ç¯é•¿ï¼Œè€ƒè™‘ k=âˆpicik = \\prod p_i^{c_i}k=âˆpiciâ€‹â€‹ï¼Œé‚£æˆ‘ä»¬ä¸åŠ è¯æ˜åœ°çŒœæµ‹æœ€ä¼˜æ–¹æ¡ˆæ—¶ç¯é•¿ leni=picilen_i = p_i^{c_i}leniâ€‹=piciâ€‹â€‹ã€‚ è€ƒè™‘ä¸€ä¸ªç±»ä¼¼äº S å½¢å¡«æ•°ã€‚ å¦‚å›¾ï¼Œè¿™æ˜¯è¿™ä¸ªå›¾ä¸­å­˜åœ¨çš„æœ€å¤§çš„ä¸€ä¸ªå¯èƒ½çš„ç¯ã€‚ æ¥ç€ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªç¯åˆ†æˆè‹¥å¹²æ®µã€‚ å¦‚å›¾æ˜¯åœ¨ k=60k=60k=60 æ—¶çš„ä¸€ç§åˆ’åˆ†æ–¹å¼ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°ä¸€ç§æ„é€ æ–¹å¼ä½¿å¾—æ¯ä¸€æ­¤åªäº¤æ¢è¾¹ä¸Šçš„ä¸¤ä¸ªç‚¹å°±åšå®Œäº†ã€‚ ä¸‹é¢æ˜¯å…¶ä¸­ä¸€ç§æ–¹æ¡ˆï¼š è‡³æ­¤ï¼Œæˆ‘ä»¬åšå®Œäº†æ•´é“é¢˜ã€‚ ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: P7372 [COCI2018-2019#4] Slagalica // Contest: Luogu // URL: https://www.luogu.com.cn/problem/P7372 // Memory Limit: 64 MB // Time Limit: 1000 ms // // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e2 + 10; struct node{ int x, y, op; }; vector &lt;node&gt; ans; void up1(int x, int y){ ans.pb(node{x, y, 2}); ans.pb(node{x, y, 2}); ans.pb(node{x, y, 1}); // puts(&quot;u1&quot;); // write(x), put(), write(y), endl; } void up2(int x, int y){ ans.pb(node{x, y, 1}); ans.pb(node{x, y, 2}); ans.pb(node{x, y, 1}); ans.pb(node{x, y, 1}); // puts(&quot;u2&quot;); // write(x), put(), write(y), endl; } void across2(int x, int y){ ans.pb(node{x, y, 1}); ans.pb(node{x, y, 2}); ans.pb(node{x, y, 2}); // puts(&quot;a1&quot;); // write(x), put(), write(y), endl; } void across1(int x, int y){ ans.pb(node{x, y, 1}); ans.pb(node{x, y, 1}); ans.pb(node{x, y, 2}); ans.pb(node{x, y, 1}); // puts(&quot;a2&quot;); // write(x), put(), write(y), endl; } int n, m, k; int nowx = 1, nowy = 1; int id[MAX][MAX]; bool tonxt(){ if(nowx % 2) nowy++; else nowy--; if(nowy &lt;= 0) nowx++, nowy = 1; if(nowy &gt; m) nowy = m, nowx++; if(nowx &gt; n) return false; return true; } void work(int x){ // write(x), endl; if(nowx &gt; n){ puts(&quot;-1&quot;); exit(0); } x--; int prex = nowx, prey = nowy; while(x--){ if(!tonxt()){ puts(&quot;-1&quot;); exit(0); } if(prex == nowx){ if(prex == n){ across2(prex, min(prey, nowy)); }else{ across1(prex + 1, min(prey, nowy)); } }else{ if(nowy == m){ up1(nowx, m - 1); }else{ up2(nowx, 1); } } prex = nowx, prey = nowy; } tonxt(); // endl; } void solve(){ n = read(), m = read(), k = read(); int psz = 0; for(int i = 2; i * i &lt;= k; i++){ int cnt = 1; while(k % i == 0){ cnt *= i; k /= i; } if(cnt &gt; 1) work(cnt); } if(k &gt; 1) work(k); write(ans.size()), endl; for(int i = 0; i &lt; ans.size(); i++){ putchar(ans[i].op == 1 ? 'R' : 'T'), put(); write(ans[i].x - 1), put(), write(ans[i].y), endl; } } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-p7372","feature":"","link":"https://WRuperD.github.io/post/solution-p7372/","stats":{"text":"4 min read","time":234000,"words":722,"minutes":4},"date":"2024-01-25 23:20:48","dateFormat":"2024-01-25"},{"abstract":"","content":"sto nantf orz æ­£æ–‡ ç®—å¾—ä¸Šç›¸å½“æœ‰æ„æ€ä»¥åŠå¯å‘æ€§çš„æ•°æ®ç»“æ„é¢˜äº†ã€‚ ä¸‰è¿›åˆ¶è¡¨ç¤ºè”æƒ³åˆ°æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªä¸‰å‰æ ‘ã€‚ç±»ä¼¼äº Trie ä¸€æ ·çš„ï¼ŒæŒ‰ä¸‰è¿›åˆ¶ä»ä½ä½åˆ°é«˜ä½å»ºç«‹ä¸€ä¸ª Trie æ ‘ã€‚ä¸€ä¸ªéå¸¸å¥½çš„æ€§è´¨è¿™æ˜¯ä¸€ä¸ªå®Œç¾ä¸‰å‰æ ‘ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æ€ä¹ˆç»´æŠ¤æ¯ä¸€ç§æ“ä½œã€‚ Salasa èˆ å¯¹äºè¿™ç§æ“ä½œï¼Œç›¸å½“äºå¯¹äºæ ‘ä¸Šæ¯ä¸€ä¸ªç‚¹éƒ½äº¤æ¢ä»–ä»¬çš„ 1,2 ä¸¤ä¸ªå„¿å­ã€‚æ‰“ä¸ªæ ‡è®°å³å¯æ”¯æŒã€‚ Rumba èˆ è¿™ç›¸å½“äºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å‘ç°ï¼Œç›¸å½“äºæŠŠåŸæ¥çš„ 0 å·å„¿å­ç»™åˆ° 1 å·å„¿å­ï¼ŒæŠŠåŸæ¥çš„ 1 å·å„¿å­ç»™åˆ° 2 å·å„¿å­ï¼ŒæŠŠåŸæ¥çš„ 2 å·å„¿å­ç»™åˆ° 0 å·å„¿å­ã€‚å‰ä¸¤è€…æ²¡æœ‰è¿›ä½ï¼Œæ‰€ä»¥ä¸ç”¨ç®¡ï¼Œå‘ç°åŸæ¥ 2 å·å„¿å­ä¼šäº§ç”Ÿä¸€ä¸ªè¿›ä½æ“ä½œã€‚è¿™ç›¸å½“äºä»€ä¹ˆå‘¢ï¼Ÿè¿™ç›¸å½“äºåœ¨è¿™ä¸ªå„¿å­å­æ ‘å†…å†è¿›è¡Œä¸€æ¬¡ Rumba èˆæ“ä½œã€‚é€’å½’æ±‚è§£å³å¯ã€‚ æ€»å¤æ‚åº¦ O(3n+Tn)O(3^n+Tn)O(3n+Tn) code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-at-agc044-c","feature":"","link":"https://WRuperD.github.io/post/solution-at-agc044-c/","stats":{"text":"2 min read","time":60000,"words":277,"minutes":2},"date":"2024-01-25 23:20:22","dateFormat":"2024-01-25"},{"abstract":"","content":"The 2nd Universal Cup. Stage 16: Run Twice-Mark on a Graph link æœ€æç¬‘çš„ä¸€é›†ã€‚ æç¬‘è§£æ³• èšŒåŸ ä½äº†ã€‚ç”±äºojè‚¯å®šæ˜¯è¿ç»­æµ‹ä½ çš„ç¨‹åºå¹¶è·‘ä¸¤éï¼Œäºæ˜¯ä¾¿æœ‰äº†ä¸€ä¸ªæç¬‘çš„åšæ³•ï¼šåˆ¤æ–­ç¨‹åºå¼€å§‹æ—¶time(0)çš„å¥‡å¶æ€§ï¼Œç„¶åsleepåˆ°ä¸‹ä¸€ç§’å†ç»“æŸã€‚è¿™æ ·å­ä½ å°±æœ‰50%çš„æ¦‚ç‡é€šè¿‡æ­¤é¢˜ã€‚ #import&lt;time.h&gt; main(){int t=time(0);puts(t&amp;1?&quot;mark 0&quot;:&quot;ok&quot;);while(t==time(0));} è¿™æ ·ä½ å°±åœ¨ä¸€æ¡è¾¹éƒ½ä¸åŠ¨çš„æƒ…å†µä¸‹è¿‡äº†è¿™é“é¢˜ã€‚ ä»ä¿¡æ¯è®ºçš„è§’åº¦ä¸Šæ¥è®²ï¼Œè¿™æ˜¯å›¾çµå¥–çº§åˆ«çš„ã€‚ ä¸€ä¸ªç®€å•ä½†æ˜¯ä¸çŸ¥é“æ­£ç¡®æ€§çš„è§£æ³• æ‰¾åˆ°åŸå›¾ä¸­åº¦æ•°æœ€å¤§çš„ 5 ä¸ªç‚¹ï¼Œå°†ä»–ä»¬ç”¨äº”æ¬¡æ“ä½œè¿æˆä¸€ä¸ªç¯ã€‚åœ¨æ–°å›¾ä¸­ä»–ä»¬ä¹Ÿæ˜¯åº¦æ•°æœ€å¤§çš„ 5 ä¸ªç‚¹ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è¾¨åˆ«æ˜¯å¦æ˜¯æˆ‘ä»¬æ“ä½œè¿‡çš„å›¾ã€‚ æ„Ÿæ€§ç†è§£ä¸€ä¸‹ï¼Œåº¦æ•°æœ€å¤§5ä¸ªç‚¹è¢«éšæœºè¿åœ¨ä¸€èµ·çš„æ¦‚ç‡ä¸æ˜¯å¾ˆå¤§ï¼Ÿ ä¸€ä¸ªå®˜æ–¹è§£æ³• è€ƒè™‘åœ¨åŸå›¾æ•´å‡ºä¸€ä¸ª5é˜¶æ— å‘å®Œå…¨å›¾K5ã€‚æ˜¾ç„¶çš„ï¼Œè‡ªç„¶éšæœºç”Ÿæˆå‡ºk5çš„æ¦‚ç‡éå¸¸ä½ã€‚æˆ‘ä»¬åœ¨åŸå›¾ä¸­éšæœºæ5ä¸ªç‚¹ï¼Œç›´åˆ°ä»–ä»¬ä¹‹é—´åŸæœ¬æœ‰5ä¸ªè¾¹ï¼Œç„¶åæˆ‘ä»¬æŠŠå®ƒåŠ æˆk5å¼„å›å»ã€‚è¿™æ ·æˆ‘ä»¬å°±åšåˆ°äº†è¾¨è®¤ã€‚ å¦‚ä½•åœ¨å›¾ä¸­æ‰¾åˆ°k5ï¼Ÿè€ƒè™‘ä½ ç›´æ¥åœ¨æ¯ä¸ªç‚¹çˆ†æœï¼Œå‰ªä¸€ä¸‹æï¼Œå¤æ‚åº¦æ˜¯ E(K1)+E(K2)+E(K3)+E(K4)+E(K5)E(K1)+E(K2)+E(K3)+E(K4)+E(K5)E(K1)+E(K2)+E(K3)+E(K4)+E(K5) çš„ï¼Œæ¯›ä¼°ä¼°ä¸€ä¸‹åœ¨åˆç†èŒƒå›´å†…ã€‚ ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-The 2nd Universal Cup. Stage 16: Run Twice-Mark on a Graph","feature":"","link":"https://WRuperD.github.io/post/solution-the-2nd-universal-cup-stage-16-run-twice-mark-on-a-graph/","stats":{"text":"2 min read","time":96000,"words":413,"minutes":2},"date":"2024-01-25 23:19:24","dateFormat":"2024-01-25"},{"abstract":"","content":"[ARC158E] All Pair Shortest Paths è¿˜æ˜¯æŒºç‰›é€¼çš„ä¸€é¢˜ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå…¶ä»–é¢˜è§£éƒ½è¯´å¾ˆæ¿ï¼Ÿçœ‹æ¥è¿˜æ˜¯æˆ‘å¤ªèœäº†ï¼Œè§çš„é¢˜å¤ªå°‘äº†ã€‚ ä¸»è¦å‚è€ƒ @TeneryTree é¦–å…ˆè€ƒè™‘ CDQ åˆ†æ²»ï¼Œåªè€ƒè™‘å¤„ç† [l,mid][l,mid][l,mid] ä¸­çš„åˆ° [mid+1,r][mid+1,r][mid+1,r] è¿™äº›ç‚¹çš„è·¯å¾„å’Œã€‚ ç”±äºåˆ—æ•° m=2m=2m=2 æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘è®¾ fi,0/1f_{i,0/1}fi,0/1â€‹ ä¸ºå·¦è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid,0)(mid,0)(mid,0) çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå³è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid+1,0)(mid+1,0)(mid+1,0) çš„æœ€çŸ­è·¯è·ç¦»ã€‚è®¾ gi,0/1g_{i,0/1}gi,0/1â€‹ ä¸ºå·¦è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid,1)(mid,1)(mid,1) çš„æœ€çŸ­è·¯è·ç¦»ï¼Œå³è¾¹çš„ç‚¹ (i,0/1)(i,0/1)(i,0/1) åˆ° (mid+1,1)(mid+1,1)(mid+1,1) çš„æœ€çŸ­è·¯è·ç¦»ã€‚æ˜¾ç„¶è¿™ä¸¤ç©æ„æ¯æ¬¡ç›´æ¥ O(n)O(n)O(n) é€’æ¨å³å¯ã€‚ ç„¶åè€ƒè™‘ä¸€ä¸‹è·¨åŒºé—´çš„è´¡çŒ®æ˜¯ä»€ä¹ˆã€‚è®¾è´¡çŒ®ä¸º www åˆ™æœ‰ï¼š w=2âˆ‘i=lmidâˆ‘j=mid+1rminâ¡(fi,0/1+fj,0/1,gi,0/1+gj,0/1)w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\min ( f_{i,0/1} + f_{j,0/1},g_{i,0/1} + g_{j,0/1}) w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹min(fi,0/1â€‹+fj,0/1â€‹,gi,0/1â€‹+gj,0/1â€‹) è¿™ç©æ„çœ‹ç€å¥½åƒä¸å¤ªå¥½ç›´æ¥è®¡ç®—ã€‚ä¹Ÿä¸å¤ªçŸ¥é“æ€ä¹ˆæƒ³åˆ°çš„ï¼Œè€ƒè™‘è¿™æ ·å­åšï¼š w=2âˆ‘i=lmidâˆ‘j=mid+1r{minâ¡(fi,0/1+fj,0/1âˆ’gi,0/1âˆ’gj,0/1,0)+gi,0/1+gj,0/1}w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\{ \\min ( f_{i,0/1} + f_{j,0/1} - g_{i,0/1}- g_{j,0/1},0) + g_{i,0/1} + g_{j,0/1} \\} w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹{min(fi,0/1â€‹+fj,0/1â€‹âˆ’gi,0/1â€‹âˆ’gj,0/1â€‹,0)+gi,0/1â€‹+gj,0/1â€‹} ç„¶åæ‹å‡ºå»! w=2âˆ‘i=lmidâˆ‘j=mid+1r{minâ¡(fi,0/1+fj,0/1âˆ’gi,0/1âˆ’gj,0/1,0)}+4âˆ‘i=lmidgi,0/1â‹…(râˆ’mid)+4âˆ‘i=mid+1rgi,0/1â‹…(midâˆ’l+1)w = 2\\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\{ \\min ( f_{i,0/1} + f_{j,0/1} - g_{i,0/1}- g_{j,0/1},0)\\} + 4\\sum\\limits_{i=l}\\limits^{mid}g_{i,0/1}\\cdot(r-mid) + 4\\sum\\limits_{i=mid+1}\\limits^{r}g_{i,0/1}\\cdot(mid-l+1) w=2i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹{min(fi,0/1â€‹+fj,0/1â€‹âˆ’gi,0/1â€‹âˆ’gj,0/1â€‹,0)}+4i=lâˆ‘midâ€‹gi,0/1â€‹â‹…(râˆ’mid)+4i=mid+1âˆ‘râ€‹gi,0/1â€‹â‹…(midâˆ’l+1) ç°åœ¨è¿™ä¸ªå¼å­å¥½çœ‹å¤šäº†qwqã€‚åé¢é‚£ä¸€æ•´ä¸²ç›´æ¥è®¡ç®—å³å¯äº†ã€‚è€Œå‰é¢é‚£ä¸€ä¸²å–å€¼ä¹Ÿåªæœ‰ä¸¤ç§æƒ…å†µï¼Œéå¸¸å¥½æã€‚è®¾å‰é¢é‚£ä¸€ä¸²å€¼ä¸º 2w22w_22w2â€‹ï¼Œä¸€ä¸‹çœç•¥ 0/1 è¿™ä¸€ç»´ã€‚è®¾ pi=fiâˆ’gip_i = f_i - g_ipiâ€‹=fiâ€‹âˆ’giâ€‹ åˆ™æœ‰ï¼š w2=âˆ‘i=lmidâˆ‘j=mid+1rminâ¡(pi+pj,0)w_2 = \\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r} \\min (p_i+p_j,0) w2â€‹=i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹min(piâ€‹+pjâ€‹,0) =âˆ‘i=lmidâˆ‘j=mid+1r(pi+pj)[pi&gt;âˆ’pj]= \\sum\\limits_{i=l}\\limits^{mid}\\sum\\limits_{j=mid+1}\\limits^{r}(p_i+p_j)[p_i&gt;-p_j] =i=lâˆ‘midâ€‹j=mid+1âˆ‘râ€‹(piâ€‹+pjâ€‹)[piâ€‹&gt;âˆ’pjâ€‹] è¿™ç©æ„ç›¸å½“å¥½å¼„ï¼Œåªéœ€è¦æ’åºäºŒåˆ†ä¸€ä¸‹åšå®Œäº†ã€‚ æ€»çš„å¤æ‚åº¦ O(nlogâ¡2n)O(n\\log^2n)O(nlog2n) code ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"solution-arc158e","feature":"","link":"https://WRuperD.github.io/post/solution-arc158e/","stats":{"text":"5 min read","time":251000,"words":797,"minutes":5},"date":"2024-01-25 23:18:28","dateFormat":"2024-01-25"},{"abstract":"","content":"å®šä¹‰å¼ E(x)=âˆ‘iP(x=i)âˆ—iE(x) = \\sum \\limits_{i}P(x=i)*iE(x)=iâˆ‘â€‹P(x=i)âˆ—i å³éšæœºå˜é‡ xxx ç»“æœä¸º iii çš„æ¦‚ç‡ä¹˜ä¸Šç»“æœã€‚ æ‹†å¼€æ¥ E(x)=âˆ‘i&gt;0P(x=i)âˆ—i+âˆ‘i&lt;0P(x=i)âˆ—iE(x) = \\sum \\limits_{i&gt;0}P(x=i)*i + \\sum \\limits_{i&lt;0}P(x=i)*iE(x)=i&gt;0âˆ‘â€‹P(x=i)âˆ—i+i&lt;0âˆ‘â€‹P(x=i)âˆ—i åªçœ‹å‰ä¸€éƒ¨åˆ†ï¼ŒE(x)=âˆ‘iâ‰¥0P(x=i)âˆ—iE(x) = \\sum \\limits_{i\\geq0}P(x=i)*iE(x)=iâ‰¥0âˆ‘â€‹P(x=i)âˆ—iã€‚ å°† iii çœ‹æˆè‹¥å¹²ä¸ª PiP_iPiâ€‹ ç›¸åŠ ã€‚ å¾—åˆ° E(x)=âˆ‘i=1âˆâˆ‘j=iâˆP(x=j)E(x) = \\sum\\limits_{i=1}\\limits^{\\infty}\\sum \\limits_{j=i}\\limits^{\\infty}P(x=j)E(x)=i=1âˆ‘âˆâ€‹j=iâˆ‘âˆâ€‹P(x=j) å•ç‹¬çœ‹ âˆ‘j=iâˆP(x=j)\\sum \\limits_{j=i}\\limits^{\\infty}P(x=j)j=iâˆ‘âˆâ€‹P(x=j) è¿™éƒ¨åˆ†ã€‚è¿™ç›¸å½“äº P(xâ‰¥i)P(x\\geq i)P(xâ‰¥i). è‡³æ­¤ï¼Œäºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªç›¸å½“å¥½çœ‹çš„å¼å­ï¼š E(x)=âˆ‘iâ‰¥0P(x&gt;i)âˆ’âˆ‘iâ‰¤0P(x&lt;i)E(x) = \\sum \\limits_{i \\geq 0}P(x &gt; i) - \\sum\\limits_{i \\leq 0}P(x&lt;i)E(x)=iâ‰¥0âˆ‘â€‹P(x&gt;i)âˆ’iâ‰¤0âˆ‘â€‹P(x&lt;i) è¿™ä¹Ÿå°±æ˜¯7æœˆä»½é›†è®­æ—¶zzå¤§ä½¬è¯¾ä»¶é‡Œé¢æˆ‘ä¸€ç›´æä¸æ‡‚çš„ä¸œè¥¿ã€‚ æœŸæœ›å…·æœ‰çº¿æ€§æ€§ E(ax+by)=aE(x)+bE(y)E(ax+by) = aE(x)+bE(y)E(ax+by)=aE(x)+bE(y) PiP_iPiâ€‹ ","tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":"æœŸæœ›å°æŸ¿å­","feature":"","link":"https://WRuperD.github.io/post/qi-wang-xiao-shi-zi/","stats":{"text":"2 min read","time":104000,"words":324,"minutes":2},"date":"2024-01-20 19:05:32","dateFormat":"2024-01-20"},{"abstract":"","content":"çºªå¿µä¸€ä¸‹è‡ªå·±åœ¨UOJä¸Šé€šè¿‡çš„ç¬¬ä¸€é“é™¤äº† A+B problem å’Œ Quine ä¹‹å¤–çš„é¢˜ã€‚ é¢˜ç›®é“¾æ¥ ä¸å¯¹å•Šï¼Œè¿™é“ä¹Ÿæ˜¯ A+B problem æ­£æ–‡ çœ‹åˆ°ä»€ä¹ˆé»‘ç™½æŸ“è‰²ï¼Œåˆ†åˆ«å¾—åˆ°ä»£ä»·ï¼Œå®¹æ˜“æƒ³åˆ°æœ€å°å‰²ã€‚ å»ºå›¾æ˜¯é•¿è¿™æ ·çš„ï¼š å¯¹äºæ¯ä¸€ä¸ªç‚¹ iii æˆ‘ä»¬è¿è¾¹ (s,i,bi),(i,t,wi)(s,i,b_i), (i,t,w_i)(s,i,biâ€‹),(i,t,wiâ€‹).è€ƒè™‘é‚£ä¸ªä»€ä¹ˆå¥‡æ€ªçš„ç‚¹çš„é™åˆ¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªç‚¹å»ºä¸€ä¸ªè™šç‚¹ iii ç„¶åå¯¹äºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ jjj è¿è¾¹ (iâ€²,j,inf)(i&#x27;,j,inf)(iâ€²,j,inf).è¿™æ ·è¿è¾¹æ­£ç¡®æ€§æ˜¾ç„¶ã€‚ BTW,å¦‚æœé™åˆ¶æ˜¯æ–¹æ ¼ jjj æ˜¯ç™½è‰²æ€ä¹ˆåšå•Š?/yun æ±‚æ•™ã€‚ ä¼˜åŒ– è¿™é“é¢˜å›¾æ¯”è¾ƒå¤æ‚ï¼Œè²Œä¼¼ä¸èƒ½æ¨¡æ‹Ÿç½‘ç»œæµï¼Ÿï¼ˆè°ä¼šèƒ½ä¸èƒ½æ•™æ•™æˆ‘å•Šqwqï¼‰ ç”±äºä¸Šé¢çš„è¾¹æ•°æ˜¯ n2n^2n2 çš„ï¼Œå®Œå…¨è·‘ä¸äº†ï¼Œæ‰€ä»¥è€ƒè™‘ä¼˜åŒ–å»ºå›¾ï¼Œå‡å°‘è¾¹æ•°ã€‚è€ƒè™‘ä¸€ä¸ªç‚¹æ˜¯å‘ä¸€ä¸ªåŒºé—´è¿›è¡Œè¿è¾¹ï¼Œé‚£ä¹ˆæ˜¾ç„¶ç›´æ¥çº¿æ®µæ ‘ä¼˜åŒ–å»ºå›¾å³å¯ã€‚è¿™é‡Œå¯èƒ½éœ€è¦ç”¨åˆ°ä¸»å¸­æ ‘ï¼ŒåŸå› æ˜¯éœ€è¦ nnn ä¸ªç‰ˆæœ¬çš„æ ‘çš„èŠ‚ç‚¹ã€‚è¾¹æ•°é™åˆ°äº† nlogâ¡nn \\log nnlogn ç‚¹å‡»æŸ¥çœ‹ä»£ç  // Problem: #77. A+B Problem // Contest: UOJ // URL: https://uoj.ac/problem/77 // Memory Limit: 48 MB // Time Limit: 2000 ms // // Powered by CP Editor (https://cpeditor.org) #include&lt;bits/stdc++.h&gt; using namespace std; const long long inf = 1e18; const int mininf = 1e9 + 7; #define int long long #define pb emplace_back inline int read(){int x=0,f=1;char ch=getchar();while(ch&lt;'0'||ch&gt;'9'){if(ch=='-')f=-1;ch=getchar();}while(ch&gt;='0'&amp;&amp;ch&lt;='9'){x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);ch=getchar();}return x*f;} inline void write(int x){if(x&lt;0){x=~(x-1);putchar('-');}if(x&gt;9)write(x/10);putchar(x%10+'0');} #define put() putchar(' ') #define endl puts(&quot;&quot;) const int MAX = 1e5 + 10; int psz = 2; struct flow{ struct node{ int v, w, cp; }; vector &lt;node&gt; g[MAX]; int dis[MAX]; bool bfs(int s, int t){ for(int i = 1; i &lt;= psz; i++) dis[i] = mininf; dis[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); for(auto V : g[u]){ if(V.w &gt; 0 and dis[V.v] &gt; dis[u] + 1){ dis[V.v] = dis[u] + 1; q.push(V.v); } } } if(dis[t] == mininf) return 0; return 1; } int cur[MAX]; int aug(int u, int now, int t){ if(u == t) return now; int ans = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, w = g[u][i].w, cp = g[u][i].cp; if(dis[v] != dis[u] + 1) continue; int ret = aug(v, min(w, now), t); g[u][i].w -= ret, g[v][cp].w += ret; now -= ret, ans += ret; if(now &lt;= 0) break; } return ans; } void add_edge(int u, int v, int w){ g[u].pb(node{v, w, g[v].size()}); g[v].pb(node{u, 0, g[u].size() - 1}); } }; flow g; int a[MAX], b[MAX], w[MAX], l[MAX], r[MAX], p1[MAX]; int p[MAX], p2[MAX]; int lsh[MAX]; int rt[MAX]; int s[MAX &lt;&lt; 5], ls[MAX &lt;&lt; 5], rs[MAX &lt;&lt; 5]; void pushup(int x){ s[x] = s[ls[x]] + s[rs[x]]; } void upd(int l, int r, int pos, int prex, int val, int &amp;x){ if(!x) x = ++psz; s[x] = s[prex], ls[x] = ls[prex], rs[x] = rs[prex]; if(l == r){ s[x]++; g.add_edge(x, p[val], inf); g.add_edge(x, prex, inf); return ; } int mid = (l + r) &gt;&gt; 1; if(pos &lt;= mid) ls[x] = 0; else rs[x] = 0; if(pos &lt;= mid) upd(l, mid, pos, ls[prex], val, ls[x]); else upd(mid + 1, r, pos, rs[prex], val, rs[x]); if(ls[x]) g.add_edge(x, ls[x], inf); if(rs[x]) g.add_edge(x, rs[x], inf); pushup(x); } void query(int l, int r, int dl, int dr, int val, int &amp;x){ if(!x) return ; if(dl &lt;= l and r &lt;= dr){ g.add_edge(p2[val], x, inf); return ; } int mid = (l + r) &gt;&gt; 1; if(dl &lt;= mid) query(l, mid, dl, dr, val, ls[x]); if(dr &gt; mid) query(mid + 1, r, dl, dr, val, rs[x]); } void solve(){ int n = read(); int s = 1, t = 2; int ans = 0; for(int i = 1; i &lt;= n; i++){ a[i] = read(), b[i] = read(), w[i] = read(), l[i] = read(), r[i] = read(), p1[i] = read(); p[i] = ++psz, p2[i] = ++psz; ans += b[i] + w[i]; g.add_edge(s, p[i], b[i]), g.add_edge(p[i], t, w[i]); g.add_edge(p[i], p2[i], p1[i]); lsh[i] = a[i]; } sort(lsh + 1, lsh + n + 1); int n2 = unique(lsh + 1, lsh + n + 1) - lsh - 1; for(int i = 1; i &lt;= n; i++){ a[i] = lower_bound(lsh + 1, lsh + n2 + 1, a[i]) - lsh; l[i] = lower_bound(lsh + 1, lsh + n2 + 1, l[i]) - lsh; r[i] = upper_bound(lsh + 1, lsh + n2 + 1, r[i]) - lsh - 1; } for(int i = 1; i &lt;= n; i++){ if(r[i] &gt;= l[i]) query(1, n2, l[i], r[i], i, rt[i - 1]); rt[i] = 0; upd(1, n2, a[i], rt[i - 1], i, rt[i]); } while(g.bfs(s, t)){ for(int i = 1; i &lt;= psz; i++) g.cur[i] = 0; ans -= g.aug(s, inf, t); } write(ans), endl; } signed main(){ int t = 1; while(t--) solve(); return 0; } ","tags":[{"name":"é¢˜è§£","slug":"WOwIZ3qJn","used":true,"link":"https://WRuperD.github.io/tag/WOwIZ3qJn/"}],"title":"UOJ#77 A+B Problem","feature":"","link":"https://WRuperD.github.io/post/uoj77-ab-problem/","stats":{"text":"7 min read","time":362000,"words":1084,"minutes":7},"date":"2024-01-15 23:22:33","dateFormat":"2024-01-15"},{"abstract":"","content":"å¤‡å¿˜å½• æ•°æ•°é¢˜ int preasd[MAX]; int inv123[MAX]; int F114[MAX]; int quickPower(int a,int b,int p){int base=a,ans=1;while(b){if(b&amp;1)ans*=base,ans%=p;base*=base;base%=p;b&gt;&gt;=1;}return ans;} int c2(int n, int m){ if(m &gt; n) return 0; return preasd[n] * F114[m] % mod * F114[n-m] % mod; } signed main(){ preasd[0] = F114[0] = 1; preasd[1] = inv123[1] = F114[1] = 1; for(int i = 2; i &lt; MAX; i++){ preasd[i] = 1ll * preasd[i - 1] * i % mod; inv123[i] = 1ll * inv123[mod % i] * (mod - mod / i) % mod; F114[i] = 1ll * F114[i - 1] * inv123[i] % mod; } } ç½‘ç»œæµ int psz = 2; struct flow{ struct node{ int v, w, cp; }; vector &lt;node&gt; g[MAX]; int dis[MAX]; bool bfs(int s, int t){ for(int i = 1; i &lt;= psz; i++) dis[i] = mininf; dis[s] = 0; queue &lt;int&gt; q; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); for(auto V : g[u]){ if(V.w &gt; 0 and dis[V.v] &gt; dis[u] + 1){ dis[V.v] = dis[u] + 1; q.push(V.v); } } } if(dis[t] == mininf) return 0; return 1; } int cur[MAX]; int aug(int u, int now, int t){ if(u == t) return now; int ans = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, w = g[u][i].w, cp = g[u][i].cp; if(dis[v] != dis[u] + 1) continue; int ret = aug(v, min(w, now), t); g[u][i].w -= ret, g[v][cp].w += ret; now -= ret, ans += ret; if(now &lt;= 0) break; } return ans; } void add_edge(int u, int v, int w){ g[u].pb(node{v, w, g[v].size()}); g[v].pb(node{u, 0, g[u].size() - 1}); } }; struct min_max_flow{ int cur[MAX], dis[MAX]; int vis[MAX]; struct Edge{ int v, w, c, cp; }; vector &lt;Edge&gt; g[MAX]; void add_edge(int u, int v, int w, int c){ Edge e1 = Edge{v, w, c, g[v].size()}; Edge e2 = Edge{u, 0, -c, g[u].size()}; g[u].push_back(e1); g[v].push_back(e2); } bool bfs(int s, int t) { queue&lt;int&gt; q; for(int i = 0; i &lt;= psz; i++){ dis[i] = inf; } memset(vis, 0, sizeof(vis)); vis[s] = true; dis[s] = 0; q.push(s); while(!q.empty()){ int u = q.front(); q.pop(); vis[u] = false; int l = g[u].size(); for(int i = 0; i &lt; l; i++) { int v = g[u][i].v, r = g[u][i].w, c = g[u][i].c; if(r and dis[u] + c &lt; dis[v]){ dis[v] = dis[u] + c; if(!vis[v]){ vis[v] = true; q.push(v); } } } } return dis[t] != inf; } int aug(int u, int l, int &amp;cost, int t){ if(u == t) return l; vis[u] = true; int f = 0; for(int &amp;i = cur[u]; i &lt; g[u].size(); i++){ int v = g[u][i].v, r = g[u][i].w, c = g[u][i].c; if(dis[v] != dis[u] + c or !r or vis[v]) continue; int d = aug(v, min(r, l), cost, t); g[u][i].w -= d; g[v][g[u][i].cp].w += d; f += d, l -= d; cost += d*c; if(!l) break; } vis[u] = false; return f; } }; 3*3çŸ©é˜µ struct Matrix{ int n = 3, m = 3; long long a[3][3]; Matrix operator *(const Matrix &amp;x) const{ Matrix c; c.a[0][0] = a[0][0] * x.a[0][0] + a[0][1] * x.a[1][0] + a[0][2] * x.a[2][0]; c.a[0][1] = a[0][0] * x.a[0][1] + a[0][1] * x.a[1][1] + a[0][2] * x.a[2][1]; c.a[0][2] = a[0][0] * x.a[0][2] + a[0][1] * x.a[1][2] + a[0][2] * x.a[2][2]; c.a[1][0] = a[1][0] * x.a[0][0] + a[1][1] * x.a[1][0] + a[1][2] * x.a[2][0]; c.a[1][1] = a[1][0] * x.a[0][1] + a[1][1] * x.a[1][1] + a[1][2] * x.a[2][1]; c.a[1][2] = a[1][0] * x.a[0][2] + a[1][1] * x.a[1][2] + a[1][2] * x.a[2][2]; c.a[2][0] = a[2][0] * x.a[0][0] + a[2][1] * x.a[1][0] + a[2][2] * x.a[2][0]; c.a[2][1] = a[2][0] * x.a[0][1] + a[2][1] * x.a[1][1] + a[2][2] * x.a[2][1]; c.a[2][2] = a[2][0] * x.a[0][2] + a[2][1] * x.a[1][2] + a[2][2] * x.a[2][2]; return c; } Matrix operator +(const Matrix &amp;x) const{ Matrix c; c.clear2(); c.a[0][0] = a[0][0] + x.a[0][0], c.a[0][1] = a[0][1] + x.a[0][1], c.a[0][2] = a[0][2] + x.a[0][2]; return c; } void clear2(){ n = m = 3; a[0][0] = a[0][1] = a[0][2] = a[1][0] = a[1][1] = a[1][2] = a[2][0] = a[2][1] = a[2][2] = 0; return ; } void clear(){ n = m = 3; a[0][0] = a[0][1] = a[0][2] = a[1][0] = a[1][1] = a[1][2] = a[2][0] = a[2][1] = a[2][2] = 0; a[0][0] = a[1][1] = a[2][2] = 1; return ; } void print(){ for(int i = 0; i &lt;= 2; i++){ for(int j = 0; j &lt;= 2; j++){ write(a[i][j]), put(); }endl; }endl; } }; Matrix MatrixQuickPower(Matrix a, int b, int mod){ Matrix ans = a; Matrix base = a; b--; while(b){ if(b &amp; 1) ans = ans * base; base = base * base; b &gt;&gt;= 1; } return ans; } é€†å¤©å¿«é€Ÿgcd inline int gcd(int a, int b) {int az = __builtin_ctz(a), bz = __builtin_ctz(b), z = (az &gt; bz) ? bz : az, t; b &gt;&gt;= bz; while (a) a &gt;&gt;= az, t = a - b, az = __builtin_ctz(t), a = t &lt; 0 ? -t : t, b = a &lt; b ? a : b; return b &lt;&lt; z;} æšä¸¾å­é›† for(int S = (x - 1) &amp; x; S; S = x &amp; (S - 1)) ä¸€ç§ä¸å®¹æ˜“è¢«å¡æ‰çš„ pair å“ˆå¸Œ static ull splitmix64 (ull x) { // http://xorshift.di.unimi.it/splitmix64.c x += 0x9e3779b97f4a7c15; x = (x ^ (x &gt;&gt; 30)) * 0xbf58476d1ce4e5b9; x = (x ^ (x &gt;&gt; 27)) * 0x94d049bb133111eb; return x ^ (x &gt;&gt; 31); } ull safe_hash (ull x) { static const ull base = chrono::steady_clock::now().time_since_epoch().count(); return splitmix64(x + base); } int To(pair &lt;int, int&gt; A){ int x = A.first; int y = A.second; // return x + y; return (safe_hash(x) + safe_hash(y)) ; } ","tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":" ä¸€äº›æ¨¡æ¿","feature":"","link":"https://WRuperD.github.io/post/yi-xie-mo-ban/","stats":{"text":"8 min read","time":438000,"words":1184,"minutes":8},"date":"2023-11-08 11:28:52","dateFormat":"2023-11-08"},{"abstract":"","content":"æ•°åˆ—åˆ†å—å…¥é—¨ ç®—æ˜¯å…¥é—¨äº†å§ å†™åœ¨å‰é¢ æœ¬äººååˆ†ä¹‹ Naive æ‰€ä»¥å†™çš„ä¸å¥½è¿˜è¯·è§è°…ã€‚ å‰ç½®çŸ¥è¯† æš´åŠ› çº¿æ®µæ ‘ çº¿æ®µæ ‘è²Œä¼¼ä¹Ÿä¸å¤ªéœ€è¦ï¼Œä½†æœ¬æ–‡å»ºç«‹åœ¨ä½ å·²ç»ä¼šçº¿æ®µæ ‘çš„åŸºç¡€ä¸Šã€‚ä½†çœŸæœ‰äººå…ˆå­¦åˆ†å—å†å­¦çº¿æ®µæ ‘çš„å˜›ï¼Ÿ å‰ç½®æ€æƒ³ å…ˆæ’ä¸€ä¸ªé¢˜å¤–è¯ï¼Œä»¥ä¸‹é¢˜ç›®å‡åœ¨Lojä¸Šã€‚Luoguåœ¨è¿™æ–¹é¢ç•¥æœ‰æ¬ ç¼ºã€‚ å¥½çš„ï¼Œå›åˆ°æ­£é¢˜ã€‚ä¸¥æ ¼æ¥è®²ï¼Œåˆ†å—æ˜¯ä¸€ç§å¤„ç†æ•°æ®çš„æ€æƒ³ï¼Œè€Œéæ•°æ®ç»“æ„ã€‚ æˆ‘ä»¬å…ˆä»æœ€ç»å…¸çš„é—®é¢˜æ¥ä¸€æ­¥ä¸€æ­¥äº†è§£åˆ†å—ï¼š LOJ #6277. æ•°åˆ—åˆ†å—å…¥é—¨ 1 https://loj.ac/p/6277 æ¥çœ‹è¿™ä¸€é“é¢˜ã€‚éå¸¸æ˜¾ç„¶ï¼Œè¿™é¢˜å¯ä»¥ç”¨çº¿æ®µæ ‘ç§’æ€ï¼Œä½†æˆ‘ä»¬è¦å­¦ä¹ åˆ†å—ã€‚ åœ¨çº¿æ®µæ ‘ä¸Šï¼Œæˆ‘ä»¬æŠŠåŒºé—´åˆ†ä¸ºäº† logâ¡n\\log{n}logn ä¸ªå­åŒºé—´ï¼Œå•ç‹¬ç»´æŠ¤å®ƒä»¬çš„ä¿¡æ¯ï¼Œå¹¶ä¸”æ ¹æ®å®ƒä»¬ä¿¡æ¯çš„å¯åŠ æ€§ï¼Œç»´æŠ¤å¤„ä¸€æ•´æ®µçš„ä¿¡æ¯ã€‚ è€Œåˆ†å—æ˜¯è¿™æ ·å­çš„ï¼š å¦‚é¢˜ï¼Œæˆ‘ä»¬å®Œç¾çš„æŠŠè¿™å…«ä¸ªå…ƒç´ åˆ†æˆäº†å››ä¸ªå—ã€‚æˆ‘ä»¬å¯ä»¥ç»´æŠ¤æ¯ä¸ªå—çš„ä¿¡æ¯ã€‚å¯¹äºæ¯ä¸€æ¬¡æŸ¥è¯¢ä¸€ä¸ªåŒºé—´é—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦æš´åŠ›åœ°æŠŠæ¯ä¸ªæŸ¥è¯¢åŒºé—´å®Œæ•´å—å†…çš„ç­”æ¡ˆåŠ èµ·æ¥ï¼Œå†è®¡ç®—é›¶æ•£çš„å…ƒç´ çš„è´¡çŒ®ï¼Œå³å¯è·å¾—ç­”æ¡ˆã€‚ ä»¥æ­¤é¢˜ä¸ºä¾‹ï¼ŒæŸ¥è¯¢2åˆ°7çš„æ—¶å€™æµç¨‹æ˜¯è¿™æ ·çš„ï¼š è¿™ä¸œè¥¿çœ‹ç€å°±å¾ˆä¸é è°±æ˜¯å§ã€‚ã€‚ã€‚ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠå—é•¿è®¾ä¸º n\\sqrt{n}nâ€‹ ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å°±èœ•å˜ä¸ºäº† O(nn)O(n \\sqrt{n})O(nnâ€‹) åˆ†å—çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦å–å†³äºåˆ†å—çš„å—é•¿ï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡å‡å€¼ä¸ç­‰å¼æ±‚å‡ºæŸä¸ªé—®é¢˜ä¸‹çš„æœ€ä¼˜å—é•¿ï¼Œä»¥åŠç›¸åº”çš„æ—¶é—´å¤æ‚åº¦ã€‚ é‚£è¿™ä¸œè¥¿å¯¹æ¯”çº¿æ®µæ ‘æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿï¼Ÿï¼Ÿ æˆ‘ä¸ªäººè®¤ä¸ºï¼Œè¿™ä¸œè¥¿ä¸çº¿æ®µæ ‘ï¼Œå°±å¥½åƒæ ‘çŠ¶æ•°ç»„ä¸çº¿æ®µæ ‘ã€‚åˆ†å—å¤„ç†çš„ä¿¡æ¯å¹¶ä¸éœ€è¦æ»¡è¶³çº¿æ®µå¯åŠ æ€§ï¼Œä½†çº¿æ®µæ ‘æ˜¯ logâ¡\\loglogï¼Œåˆ†å—æ˜¯ \\sqrtã€‚ åˆ°æ­¤ä¸ºæ­¢ï¼Œåˆ†å—å…¥é—¨åŸºæœ¬ä¸Šå°±è®²å®Œäº†ã€‚ å¯¹äºæœ¬é¢˜ï¼Œç»†èŠ‚çœ‹ä»£ç ï¼š #include&lt;bits/stdc++.h&gt; using namespace std; const int maxn = 50005; #define int long long int a[maxn], sum[maxn], add[maxn]; int id[maxn]; int L[maxn], R[maxn]; int n, t; void addd(int l, int r, int y){ int p = id[l], q = id[r]; if(p == q){ // å¦‚æœå±äºä¸€ä¸ªå—å°±æš´åŠ›åŠ  for(int i = l; i &lt;= r; i++){ a[i] += y; } sum[p] += y*(r-l+1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ }else{ for(int i = p+1; i &lt;= q-1; i++) add[i] += y; // å¤§å—ç›´æ¥åŠ tag for(int i = l; i &lt;= R[p]; i++) a[i] += y; // å°å—æš´åŠ›åŠ  for(int i = r; i &gt;= L[q]; i--) a[i] += y; // å°å—æš´åŠ›åŠ  sum[p] += y * (R[p] - l + 1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ sum[q] += y * (r - L[q] + 1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ } } signed main(){ cin&gt;&gt;n; for(int i = 1; i &lt;= n; i++) cin&gt;&gt;a[i]; int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= n; i++) sum[id[i]] += a[i];//å—ä¿¡æ¯é¢„å¤„ç† for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= n; i++){ int op, l, r, c; cin&gt;&gt;op&gt;&gt;l&gt;&gt;r&gt;&gt;c; if(op) cout&lt;&lt;a[r] + add[id[r]]&lt;&lt;endl; // è¾“å‡ºa[i] + tag else addd(l, r, c); } return 0; } LOJ #6280. æ•°åˆ—åˆ†å—å…¥é—¨ 4 https://loj.ac/p/6280 åŒä¸Šï¼Œç›´æ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; const int maxn = 50005; #define int long long int a[maxn], sum[maxn], add[maxn]; int id[maxn]; int L[maxn], R[maxn]; int n, t; void addd(int l, int r, int y){ int p = id[l], q = id[r]; if(p == q){ // å¦‚æœå±äºä¸€ä¸ªå—å°±æš´åŠ›åŠ  for(int i = l; i &lt;= r; i++){ a[i] += y; } sum[p] += y*(r-l+1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ }else{ for(int i = p+1; i &lt;= q-1; i++) add[i] += y; // å¤§å—ç›´æ¥åŠ tag for(int i = l; i &lt;= R[p]; i++) a[i] += y; // å°å—æš´åŠ›åŠ  for(int i = r; i &gt;= L[q]; i--) a[i] += y; // å°å—æš´åŠ›åŠ  sum[p] += y * (R[p] - l + 1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ sum[q] += y * (r - L[q] + 1);//è®°å¾—æ›´æ–°å½“å‰å—çš„å’Œ } } int q(int l, int r, int c){ int p = id[l], q = id[r]; int ans = 0; if(p == q){//åŒå—ç›´æ¥æš´åŠ›ç»Ÿè®¡ç­”æ¡ˆ for(int i = l; i &lt;= r; i++){ ans += a[i]; ans %= c; } ans += add[p] % c * (r-l+1) % c; ans %= c; return ans; } for(int i = p+1; i &lt;= q-1; i++){ ans += sum[i] % c + add[i] % c * (R[i] - L[i] + 1) % c; //ç»Ÿè®¡ä¸­é—´å®Œæ•´å—çš„ç­”æ¡ˆ } for(int i = l; i &lt;= R[p]; i++) ans += a[i], ans %= c;//æ•£å— for(int i = r; i &gt;= L[q]; i--) ans += a[i], ans %= c;//æ•£å— ans += add[p] % c * (R[p] - l + 1) % c; ans %= c; ans += add[q] % c * (r - L[q] + 1) % c; ans %= c; return ans; } signed main(){ cin&gt;&gt;n; for(int i = 1; i &lt;= n; i++) cin&gt;&gt;a[i]; int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= n; i++) sum[id[i]] += a[i];//å—ä¿¡æ¯é¢„å¤„ç† for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= n; i++){ int op, l, r, c; cin&gt;&gt;op&gt;&gt;l&gt;&gt;r&gt;&gt;c; if(op) cout&lt;&lt;q(l, r, c+1)&lt;&lt;endl; else addd(l, r, c); } return 0; } LOJ#6278. æ•°åˆ—åˆ†å—å…¥é—¨ 2 æœ‰è¶£çš„é¢˜ï¼Œè¯·ä½ ç¡®ä¿ç†è§£äº†ä¸Šé¢çš„é¢˜ã€‚ å¥½çš„ï¼Œè¿™é“é¢˜æ±‚å°äº xxx çš„æ•°çš„ä¸ªæ•°ã€‚å¦‚æœæ˜¯åœ¨æœ‰åºçš„åºåˆ—ï¼Œé‚£æˆ‘ä»¬è‚¯å®šä¼šåšï¼Œç›´æ¥äºŒä»½å³å¯ã€‚ è€ƒè™‘ä½¿ç”¨åˆ†å—ï¼Œå¯¹äºæ¯ä¸€ä¸ªå—ï¼Œè¿›è¡Œå—å†…æ’åºï¼Œå³ï¼š for(int i = 1; i &lt;= t; i++){ sort(a+L[i], a+R[i]+1); } è¿™æ ·å­ï¼Œæˆ‘ä»¬å°±å¯ä»¥äºŒåˆ†æ¯ä¸€ä¸ªå—è¿›è¡Œæš´åŠ›ç»Ÿè®¡ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ•£çš„å…ƒç´ ï¼Œç›´æ¥åœ¨åŸæ•°ç»„ä¸Šæš´åŠ›ç»Ÿè®¡å³å¯ã€‚å¤ªæš´åŠ›äº†ï¼ æ€»æ—¶é—´å¤æ‚åº¦ O(nlogâ¡n+nnlogâ¡n)O(n\\log{n} + n\\sqrt{n}\\log{n})O(nlogn+nnâ€‹logn) æ³¨ï¼šæˆ‘çš„ä»£ç ä¸­bä¸ºåŸæ•°ç»„ #include&lt;bits/stdc++.h&gt; using namespace std; const int MAX = 50005; int a[MAX]; int b[MAX]; int id[MAX]; int pls[MAX]; int L[MAX], R[MAX]; void add(int l, int r, int c){ int p = id[l], q = id[r]; if(p == q){ for(int i = l; i &lt;= r; i++) b[i] += c; for(int i = L[p]; i &lt;= R[p]; i++){ a[i] = b[i]; } sort(a+L[p], a+R[p]+1); }else{ for(int i = p+1; i &lt;= q-1; i++) pls[i] += c; for(int i = l; i &lt;= R[p]; i++) b[i] += c; for(int i = L[p]; i &lt;= R[p]; i++) a[i] = b[i]; sort(a+L[p], a+R[p]+1); for(int i = r; i &gt;= L[q]; i--) b[i] += c; for(int i = L[q]; i &lt;= R[q]; i++) a[i] = b[i]; sort(a+L[q], a+R[q]+1); } } int query(int l, int r, int c){ int p = id[l], q = id[r]; if(p == q){ int ans = 0; for(int i = l; i &lt;= r; i++) if(b[i] + pls[p] &lt; c) ans++; return ans; }else{ int ans = 0; for(int i = p+1; i &lt;= q-1; i++){ int x1 = lower_bound(a+L[i], a+R[i]+1, c-pls[i]) - a - L[i]; ans += x1; } for(int i = l; i &lt;= R[p]; i++) if(b[i] + pls[p] &lt; c) ans++; for(int i = L[q]; i &lt;= r; i++) if(b[i] + pls[q] &lt; c) ans++; return ans; } } signed main(){ int n; cin&gt;&gt;n; for(int i = 1; i &lt;= n; i++) cin&gt;&gt;a[i], b[i] = a[i]; int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= t; i++){ sort(a+L[i], a+R[i]+1); } for(int i = 1; i &lt;= n; i++){ int op, l, r, c; cin&gt;&gt;op&gt;&gt;l&gt;&gt;r&gt;&gt;c; if(op == 0){ add(l, r, c); }else{ cout&lt;&lt;query(l, r, c*c)&lt;&lt;endl; } } return 0; } LOJ #6279. æ•°åˆ—åˆ†å—å…¥é—¨ 3 åŒä¸Š #include&lt;bits/stdc++.h&gt; using namespace std; static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=x*10+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+'0');} const int MAX = 1e5+10; int a[MAX]; int b[MAX]; int id[MAX]; int pls[MAX]; int L[MAX], R[MAX]; void add(int l, int r, int c){ int p = id[l], q = id[r]; if(p == q){ for(int i = l; i &lt;= r; i++) b[i] += c; for(int i = L[p]; i &lt;= R[p]; i++){ a[i] = b[i]; } sort(a+L[p], a+R[p]+1); }else{ for(int i = p+1; i &lt;= q-1; i++) pls[i] += c; for(int i = l; i &lt;= R[p]; i++) b[i] += c; for(int i = L[p]; i &lt;= R[p]; i++) a[i] = b[i]; sort(a+L[p], a+R[p]+1); for(int i = r; i &gt;= L[q]; i--) b[i] += c; for(int i = L[q]; i &lt;= R[q]; i++) a[i] = b[i]; sort(a+L[q], a+R[q]+1); } } int query(int l, int r, int c){ int p = id[l], q = id[r]; if(p == q){ int ans = -0x3f3f3f3f; for(int i = l; i &lt;= r; i++) if(b[i] + pls[p] &lt; c) ans = max(ans, b[i]+pls[p]); return ans; }else{ int ans = -0x3f3f3f3f; for(int i = p+1; i &lt;= q-1; i++){ int x1 = lower_bound(a+L[i], a+R[i]+1, c-pls[i]) - a; if(x1 == L[i]) continue; ans = max(ans, a[x1-1]+pls[i]); } for(int i = l; i &lt;= R[p]; i++) if(b[i] + pls[p] &lt; c) ans = max(ans, b[i]+pls[p]); for(int i = L[q]; i &lt;= r; i++) if(b[i] + pls[q] &lt; c) ans = max(ans, b[i]+pls[q]); return ans; } } signed main(){ int n = read(); for(int i = 1; i &lt;= n; i++) a[i] = read(), b[i] = a[i]; int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= t; i++){ sort(a+L[i], a+R[i]+1); } for(int i = 1; i &lt;= n; i++){ int op = read(), l = read(), r = read(), c = read(); if(op == 0){ add(l, r, c); }else{ int ans = query(l, r, c); if(ans == -0x3f3f3f3f) puts(&quot;-1&quot;); else write(ans), putchar('\\n'); } } return 0; } LOJ #6281. æ•°åˆ—åˆ†å—å…¥é—¨ 5 https://loj.ac/p/6281 åŒå€ç»éªŒï¼šhttps://www.luogu.com.cn/problem/SP2713 https://www.luogu.com.cn/problem/P4145 å¾ˆå·§å¦™çš„ä¸€é“é¢˜ã€‚ è€ƒè™‘åˆ°1e12çš„æ•°å¼€6æ¬¡æ–¹å°±å˜æˆäº†1ï¼Œå†å¯¹å®ƒè¿›è¡Œæ“ä½œå°±æ²¡æœ‰æ„ä¹‰äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯¹äºæ•°æ®åˆ†å—ï¼Œå¯¹äºæ¯ä¸ªå—ï¼Œå¦‚æœæ¯ä¸ªæ•°éƒ½å˜æˆäº†1ï¼Œé‚£å°±ä¸ç”¨å»æ“ä½œå®ƒäº†ã€‚ å¤æ‚åº¦æˆ‘ä¸å¤ªä¼šç®—ï¼Œå¤§æ¦‚æ˜¯ï¼š O(nn)O(n\\sqrt{n})O(nnâ€‹) çš„å§ã€‚ä¸è¿‡è¿™é¢˜ç¨åŠ æ€è€ƒå°±å¯ä»¥ç”¨çº¿æ®µæ ‘ä»£æ›¿åˆ†å—å®ç° logâ¡\\loglog è§£æ³•ã€‚ ä»£ç ï¼š #include&lt;bits/stdc++.h&gt; using namespace std; static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=x*10+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+'0');} const int maxn = 200010; #define int long long int a[maxn], sum[maxn], pls[maxn]; int id[maxn]; int L[maxn], R[maxn]; int n, t; void add(int l, int r){ int p = id[l], q = id[r]; if(p == q){ if(sum[p] == R[p]-L[p]+1) return ; for(int i = l; i &lt;= r; i++){ sum[p] -= a[i]; a[i] = sqrt(a[i]); sum[p] += a[i]; } }else{ if(sum[p] != R[p] - L[p] + 1) for(int i = l; i &lt;= R[p]; i++) sum[p] -= a[i], a[i] = sqrt(a[i]), sum[p] += a[i]; if(sum[q] != R[q] - L[q] + 1) for(int i = r; i &gt;= L[q]; i--) sum[q] -= a[i], a[i] = sqrt(a[i]), sum[q] += a[i]; for(int i = p+1; i &lt;= q-1; i++) if(sum[i] != R[i] - L[i] + 1) for(int j = L[i]; j &lt;= R[i]; j++) sum[i] -= a[j], a[j] = sqrt(a[j]), sum[i] += a[j]; } } int query(int l, int r){ int p = id[l], q = id[r]; int ans = 0; if(p == q){ for(int i = l; i &lt;= r; i++) ans += a[i]; return ans; }else{ for(int i = p+1; i &lt;= q-1; i++) ans += sum[i]; for(int i = l; i &lt;= R[p]; i++) ans += a[i]; for(int i = L[q]; i &lt;= r; i++) ans += a[i]; return ans; } } signed main(){ n = read(); for(int i = 1; i &lt;= n; i++) a[i] = read(); int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= n; i++) sum[id[i]] += a[i];//å—ä¿¡æ¯é¢„å¤„ç† for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= n; i++){ int op = read(), l = read(), r = read(), c = read(); if(l &gt; r) swap(l, r); if(op) cout&lt;&lt;query(l, r)&lt;&lt;endl; else add(l, r); } return 0; } LOJ #6282. æ•°åˆ—åˆ†å—å…¥é—¨ 6 https://loj.ac/p/6282 æŒºæ— èŠçš„é¢˜ã€‚ç›´æ¥å¯¹äºæ•°æ®åˆ†å—ï¼Œç„¶åæš´åŠ›æ’å…¥ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; #define int long long static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=(x&lt;&lt;3)+(x&lt;&lt;1)+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+48);} const int MAX = 300005; int a[MAX], id[MAX]; vector &lt;int&gt; v[MAX]; int n; void add(int x, int val){ for(int i = 1; i &lt;= id[n]; i++){ if(x &lt;= v[i].size()){ auto pos = v[i].begin(); for(int i = 1; i &lt; x; i++) pos++; v[i].insert(pos, val); return ; }else{ x -= v[i].size(); } } } int query(int x){ for(int i = 1; i &lt;= id[n]; i++){ if(x &lt;= v[i].size()) return v[i][x-1]; else x -= v[i].size(); } } signed main(){ n = read(); int t = sqrt(n); for(int i = 1; i &lt;= n; i++) a[i] = read(), id[i] = (i-1)/t+1, v[id[i]].push_back(a[i]); for(int i = 1; i &lt;= n; i++){ int op = read(), l = read(), r = read(), c = read(); if(op == 0) add(l, r); else write(query(r)), puts(&quot;&quot;); } return 0; } LOJ#6283. æ•°åˆ—åˆ†å—å…¥é—¨ 7 åŒhttps://www.luogu.com.cn/problem/P3373 æ‡’å¾—å†™äº†ã€‚ã€‚ã€‚ã€‚ã€‚ LOJ#6284. æ•°åˆ—åˆ†å—å…¥é—¨ 8 https://loj.ac/p/6284 åŒºé—´æ¨å¹³ï¼Ÿï¼Ÿï¼Ÿç‚æœµè‰æ ‘ï¼Ÿï¼Ÿï¼Ÿ ç„¶è€Œè¿™é¢˜åªéœ€è¦å¯¹äºæ¯ä¸€ä¸ªåŒºé—´æ‰“ä¸€ä¸ªä¿®æ”¹tagå³å¯ã€‚éœ€è¦å†æ”¹ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=x*10+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+'0');} const int maxn = 100005; #define int long long int a[maxn], sum[maxn], pls[maxn]; int id[maxn]; int L[maxn], R[maxn]; int n, t; void add(int l, int r, int c){ int p = id[l], q = id[r]; if(p == q){ if(sum[p] != c){ if(sum[p] != 0)for(int i = L[q]; i &lt;= R[q]; i++) a[i] = sum[p]; sum[p] = 0; for(int i = l; i &lt;= r; i++) a[i] = c; } }else{ if(sum[p] != c){ if(sum[p] != 0)for(int i = L[p]; i &lt; l; i++) a[i] = sum[p]; sum[p] = 0; for(int i = l; i &lt;= R[p]; i++) a[i] = c; } if(sum[q] != c){ if(sum[q] != 0)for(int i = L[q]; i &lt;= R[q]; i++) a[i] = sum[q]; sum[q] = 0; for(int i = r; i &gt;= L[q]; i--) a[i] = c; } for(int i = p+1; i &lt;= q-1; i++) sum[i] = c; } } int query(int l, int r, int c){ int p = id[l], q = id[r]; int ans = 0; if(p == q){ if(sum[p] == c) ans += r-l+1; else if(sum[p] == 0)for(int i = l; i &lt;= r; i++) ans += a[i] == c; return ans; }else{ for(int i = p+1; i &lt;= q-1; i++){ if(sum[i] == c) ans += R[i] - L[i] + 1; else if(sum[i] == 0) for(int j = L[i]; j &lt;= R[i]; j++) ans += a[j] == c; } if(sum[p] == c){ ans += R[p] - l + 1; }else if(sum[p] == 0){ for(int i = l; i &lt;= R[p]; i++) ans += a[i] == c; } if(sum[q] == c){ ans += r - L[q] + 1; }else if(sum[q] == 0){ for(int i = L[q]; i &lt;= r; i++) ans += a[i] == c; } return ans; } } signed main(){ n = read(); for(int i = 1; i &lt;= n; i++) a[i] = read(); int t = sqrt(n); // tä¸ºå—é•¿ for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t+1; // idè®°å½•äº†a[i]å±äºå“ªä¸ªå— for(int i = 1; i &lt;= id[n]; i++) L[i]=(i-1)*t+1,R[i]=i*t;//L[i]ä¸ºç¬¬iä¸ªå—çš„å·¦ç«¯ç‚¹ï¼ŒR[i]ä¸ºå³ç«¯ç‚¹ R[id[n]] = n;//éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹æœ€åä¸€ä¸ªå—ä¸å®Œæ•´çš„æƒ…å†µ for(int i = 1; i &lt;= n; i++){ int l = read(), r = read(), c = read(); write(query(l, r, c)); putchar('\\n'); add(l, r, c); } return 0; } LOJ#6285. æ•°åˆ—åˆ†å—å…¥é—¨ 9 é‡é‡çº§ï¼šhttps://loj.ac/p/6285 luoguï¼šhttps://www.luogu.com.cn/problem/P4168 æŒºæœ‰æ„æ€çš„é¢˜ç›®ã€‚ è®° s[i][j]s[i][j]s[i][j] ä¸ºå‰ iii ä¸ªå—å…ƒç´  jjj å‡ºç°çš„ä¸ªæ•°ã€‚ f[i][j]f[i][j]f[i][j] ä¸º iii åˆ° jjj å—çš„åŒºé—´æœ€å°ä¼—æ•°ã€‚ æˆ‘ä»¬æƒŠè®¶åœ°å‘ç° sss å’Œ fff å‡å¯ä»¥é€šè¿‡ nnn\\sqrt{n}nnâ€‹ çš„æ—¶é—´å†…é¢„å¤„ç†ï¼Œç„¶åå°±åšå®Œäº†ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=(x&lt;&lt;3)+(x&lt;&lt;1)+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+48);} const int MAX = 50005; const int MAX2 = 300; int n, m; int n2, num, t2; int a[MAX], b[MAX]; int id[MAX], L[MAX], R[MAX]; int s[MAX2][MAX], f[MAX2][MAX2]; int t[MAX]; int query(int l, int r){ int p = id[l], q = id[r]; int ans = 0; if(p == q){ for(int i = l; i &lt;= r; i++) t[a[i]]++; for(int i = l; i &lt;= r; i++) if(t[a[i]] &gt; t[ans] or (t[a[i]] == t[ans] and a[i] &lt; ans)) ans = a[i]; for(int i = l; i &lt;= r; i++) t[a[i]] = 0; }else{ ans = f[p+1][q-1]; for(int i = l; i &lt;= R[p]; i++) t[a[i]]++; for(int i = L[q]; i &lt;= r; i++) t[a[i]]++; for(int i = l; i &lt;= R[p]; i++){ int temp = s[q-1][a[i]] - s[p][a[i]] + t[a[i]], anss = s[q-1][ans] - s[p][ans] + t[ans]; if(temp &gt; anss or (temp == anss and ans &gt; a[i])) ans = a[i]; } for(int i = L[q]; i &lt;= r; i++){ int temp = s[q-1][a[i]] - s[p][a[i]] + t[a[i]], anss = s[q-1][ans] - s[p][ans] + t[ans]; if(temp &gt; anss or (temp == anss and ans &gt; a[i])) ans = a[i]; } for(int i = l; i &lt;= R[p]; i++) t[a[i]] = 0; for(int i = L[q]; i &lt;= r; i++) t[a[i]] = 0; } return ans; } int main(){ n = read(), m = read(); for(int i = 1; i &lt;= n; i++) b[i] = a[i] = read(); t2 = sqrt(n); for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t2+1; for(int i = 1; i &lt;= id[n]; i++) L[i] = (i-1)*t2+1, R[i] = i*t2; R[id[n]] = n; sort(b+1, b+n+1); n2 = unique(b+1, b+n+1) - b - 1; for(int i = 1; i &lt;= n; i++) a[i] = lower_bound(b+1, b+n2+1, a[i]) - b; num = id[n]; for(int i = 1; i &lt;= num; i++){ for(int j = L[i]; j &lt;= R[i]; j++) s[i][a[j]]++; for(int j = 1; j &lt;= n2; j++) s[i][j] += s[i-1][j]; } for(int i = 1; i &lt;= num; i++){ for(int j = i; j &lt;= num; j++){ int maxn = f[i][j-1]; for(int k = L[j]; k &lt;= R[j]; k++){ if(s[j][a[k]] - s[i-1][a[k]] &gt; s[j][maxn] - s[i-1][maxn] or (s[j][a[k]] - s[i-1][a[k]] == s[j][maxn] - s[i-1][maxn] and a[k] &lt; maxn)){ maxn = a[k]; } } f[i][j] = maxn; } } int last = 0; for(int i = 1; i &lt;= m; i++){ int l = ((read() + last - 1) % n) + 1, r = ((read() + last - 1) % n) + 1; if(l &gt; r) swap(l, r); int ans = query(l, r); write(b[ans]); last = b[ans]; puts(&quot;&quot;); } return 0; } Exç»ƒä¹  luogu P4135 ä½œè¯— ç±»ä¼¼è’²å…¬è‹± ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; #define int long long static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=(x&lt;&lt;3)+(x&lt;&lt;1)+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+48);} const int MAX = 100005; const int MAX2 = 400; int n, m; int n2, num, t2; int a[MAX], b[MAX]; int id[MAX], L[MAX], R[MAX]; int s[MAX2][MAX], f[MAX2][MAX2]; int t[MAX]; bool vis[MAX]; int query(int l, int r){ int p = id[l], q = id[r]; int ans = 0; if(p == q){ for(int i = l; i &lt;= r; i++) t[a[i]]++; for(int i = l; i &lt;= r; i++){ if(vis[a[i]]) continue; if(t[a[i]] % 2 == 0) ans++; vis[a[i]] = 1; } for(int i = l; i &lt;= r; i++) t[a[i]] = 0, vis[a[i]] = 0; }else{ ans = f[p+1][q-1]; for(int i = l; i &lt;= R[p]; i++) t[a[i]]++; for(int i = L[q]; i &lt;= r; i++) t[a[i]]++; for(int i = l; i &lt;= R[p]; i++){ if(vis[a[i]]) continue; int temp = s[q-1][a[i]] - s[p][a[i]] + t[a[i]]; int pre = s[q-1][a[i]] - s[p][a[i]]; if(vis[a[i]]) continue; if(temp % 2 == 1 and pre % 2 == 0 and temp &gt; 0 and pre &gt; 0) ans--; if(temp % 2 == 0 and pre % 2 == 1 and temp &gt; 0 and pre &gt; 0) ans++; if(temp % 2 == 0 and pre == 0 and temp &gt; 0) ans++; vis[a[i]] = 1; } for(int i = L[q]; i &lt;= r; i++){ if(vis[a[i]]) continue; int temp = s[q-1][a[i]] - s[p][a[i]] + t[a[i]]; int pre = s[q-1][a[i]] - s[p][a[i]]; if(temp % 2 == 1 and pre % 2 == 0 and temp &gt; 0 and pre &gt; 0) ans--; if(temp % 2 == 0 and pre % 2 == 1 and temp &gt; 0 and pre &gt; 0) ans++; if(temp % 2 == 0 and pre == 0 and temp &gt; 0) ans++; vis[a[i]] = 1; } for(int i = l; i &lt;= R[p]; i++) t[a[i]] = 0, vis[a[i]] = 0; for(int i = L[q]; i &lt;= r; i++) t[a[i]] = 0, vis[a[i]] = 0; } return ans; } signed main(){ int rub; n = read(), rub = read(), m = read(); for(int i = 1; i &lt;= n; i++) b[i] = a[i] = read(); t2 = sqrt(n); for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t2+1; for(int i = 1; i &lt;= id[n]; i++) L[i] = (i-1)*t2+1, R[i] = i*t2; R[id[n]] = n; sort(b+1, b+n+1); n2 = unique(b+1, b+n+1) - b - 1; for(int i = 1; i &lt;= n; i++) a[i] = lower_bound(b+1, b+n2+1, a[i]) - b; num = id[n]; for(int i = 1; i &lt;= num; i++){ for(int j = L[i]; j &lt;= R[i]; j++) s[i][a[j]]++; for(int j = 1; j &lt;= n2; j++) s[i][j] += s[i-1][j]; } for(int i = 1; i &lt;= num; i++){ for(int j = i; j &lt;= num; j++){ int ans = f[i][j-1]; for(int k = L[j]; k &lt;= R[j]; k++){ if(vis[a[k]]) continue; if((s[j][a[k]] - s[i-1][a[k]]) % 2 == 0 and (s[j-1][a[k]] - s[i-1][a[k]]) % 2 == 1 and (s[j][a[k]] - s[i-1][a[k]]) &gt; 0 and (s[j-1][a[k]] - s[i-1][a[k]]) &gt; 0) ans++; if((s[j][a[k]] - s[i-1][a[k]]) % 2 == 1 and (s[j-1][a[k]] - s[i-1][a[k]]) % 2 == 0 and (s[j][a[k]] - s[i-1][a[k]]) &gt; 0 and (s[j-1][a[k]] - s[i-1][a[k]]) &gt; 0) ans--; if((s[j][a[k]] - s[i-1][a[k]]) % 2 == 0 and (s[j-1][a[k]] - s[i-1][a[k]]) == 0 and (s[j][a[k]] - s[i-1][a[k]]) &gt; 0) ans++; vis[a[k]]=1; } for(int k = L[j]; k &lt;= R[j]; k++) vis[a[k]] = 0; f[i][j] = ans; } } int last = 0; for(int i = 1; i &lt;= m; i++){ int l = ((read() + last) % n) + 1, r = ((read() + last) % n) + 1; if(l &gt; r) swap(l, r); int ans = query(l, r); write(ans); last = ans; puts(&quot;&quot;); } return 0; } P5048 [Ynoi2019 æ¨¡æ‹Ÿèµ›] Yuno loves sqrt technology III æ›´ä¼˜ç¾çš„æ±‚åŒºé—´ä¼—æ•° ç‚¹å‡»æŸ¥çœ‹ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; #define int long long static char buf[1000000],*p1=buf,*p2=buf; #define getchar() p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++ inline int read(){int x=0,f=1;char c=getchar();while(c&lt;'0' || c&gt;'9'){if(c=='-') f=-1;c=getchar();}while(c&gt;='0' &amp;&amp; c&lt;='9') {x=(x&lt;&lt;3)+(x&lt;&lt;1)+c-48;c=getchar();}return x*f;} inline void write(int x){static char buf[20];static int len=-1;if(x&lt;0)putchar('-'),x=-x;do buf[++len]=x%10,x/=10;while(x);while(len&gt;=0)putchar(buf[len--]+48);} const int MAX = 500005; const int MAX2 = 720; int n, m; int n2, num, t2; int a[MAX], b[MAX]; int id[MAX], L[MAX], R[MAX]; int f[MAX2][MAX2]; int cnt[MAX]; vector &lt;int&gt; v[MAX]; int pos[MAX]; int t[MAX]; int query(int l, int r){ int p = id[l], q = id[r]; int ans = 0; int re = 0; if(p == q){ for(int i = l; i &lt;= r; i++) t[a[i]]++; for(int i = l; i &lt;= r; i++) if(t[a[i]] &gt; t[ans] or (t[a[i]] == t[ans] and a[i] &lt; ans)) ans = a[i]; re = t[ans]; for(int i = l; i &lt;= r; i++) t[a[i]] = 0; }else{ ans = f[p+1][q-1]; for(int i = l; i &lt;= R[p]; i++){ int now = pos[i] + ans; while(now &lt; v[a[i]].size() and v[a[i]][now] &lt;= r) ans++, now++; } for(int i = L[q]; i &lt;= r; i++){ int now = pos[i] - ans; while(now &gt;= 0 and v[a[i]][now] &gt;= l) ans++, now--; } re = ans; } return re; } signed main(){ n = read(), m = read(); for(int i = 1; i &lt;= n; i++) b[i] = a[i] = read(); t2 = sqrt(n); for(int i = 1; i &lt;= n; i++) id[i] = (i-1)/t2+1; for(int i = 1; i &lt;= id[n]; i++) L[i] = (i-1)*t2+1, R[i] = i*t2; R[id[n]] = n; sort(b+1, b+n+1); n2 = unique(b+1, b+n+1) - b - 1; for(int i = 1; i &lt;= n; i++) a[i] = lower_bound(b+1, b+n2+1, a[i]) - b, v[a[i]].push_back(i), pos[i] = v[a[i]].size()-1; num = id[n]; for(int i = 1; i &lt;= num; i++){ memset(cnt, 0, sizeof(cnt)); for(int j = i; j &lt;= num; j++){ f[i][j] = f[i][j-1]; for(int k = L[j]; k &lt;= R[j]; k++){ cnt[a[k]]++; f[i][j] = max(f[i][j], cnt[a[k]]); } } } int last = 0; for(int i = 1; i &lt;= m; i++){ int l = read() xor last, r = read() xor last; if(l &gt; r) swap(l, r); int ans = query(l, r); write(ans); last = ans; puts(&quot;&quot;); } return 0; } P5356 [Ynoi2017] ç”±ä¹ƒæ‰“æ‰‘å…‹ -&gt; é¢˜è§£https://www.cnblogs.com/WRuperD/p/16725324.html ","tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"qWhunhKoya","used":true,"link":"https://WRuperD.github.io/tag/qWhunhKoya/"}],"title":"æ•°åˆ—åˆ†å—å…¥é—¨","feature":"","link":"https://WRuperD.github.io/post/shu-lie-fen-kuai-ru-men/","stats":{"text":"37 min read","time":2174000,"words":6433,"minutes":37},"date":"2022-09-30 23:25:18","dateFormat":"2022-09-30"}]}
